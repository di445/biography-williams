!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.4",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:!a.constructor||X.call(a.constructor.prototype,"isPrototypeOf")},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){
for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||_.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),
f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):_.isFunction(a)?this.each(function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==za&&"boolean"!==c||(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(Y.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,!a&&w||(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return _.isFunction(a)?this.each(function(b){_(this).wrapInner(a.call(this,b))}):this.each(function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","jquery.ui.widget","jquery.iframe-transport","jquery.fileupload"],a);else{var b=window.jQuery;a(b),b(function(){void 0!==b.fn.cloudinary_fileupload&&b("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()})}}(function(a){"use strict";function b(a){if(null===a||"undefined"==typeof a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;f>g;g++){var h=d.charCodeAt(g),i=null;128>h?c++:i=h>127&&2048>h?String.fromCharCode(h>>6|192,63&h|128):String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128),null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e}function c(a){a=b(a);var c="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",d=0,e=0,f=0;d=-1^d;for(var g=0,h=a.length;h>g;g++)f=255&(d^a.charCodeAt(g)),e="0x"+c.substr(9*f,8),d=d>>>8^e;return d=-1^d,0>d&&(d+=4294967296),d}function d(a,b,c){var d=a[b];return delete a[b],"undefined"==typeof d?c:d}function e(b){return b?a.isArray(b)?b:[b]:[]}function f(a){return"undefined"!=typeof a&&(""+a).length>0}function g(b){for(var c=e(b.transformation),d=!0,f=0;f<c.length;f++)d=d&&"string"==typeof c[f];if(d)return[];delete b.transformation;for(var g=[],f=0;f<c.length;f++){var h=c[f];"string"==typeof h?g.push("t_"+h):g.push(j(a.extend({},h)))}return g}function h(a){var b=d(a,"size");if(b){var c=b.split("x");a.width=c[0],a.height=c[1]}}function i(a){var b=a.width,c=a.height,d=a.overlay||a.underlay,e=a.crop,f=!d&&!a.angle&&"fit"!=e&&"limit"!=e&&"lfill"!=e;f&&(b&&!a.html_width&&"auto"!==b&&parseFloat(b)>=1&&(a.html_width=b),c&&!a.html_height&&parseFloat(c)>=1&&(a.html_height=c)),e||d||(delete a.width,delete a.height)}function j(a){var b=g(a);h(a),i(a);var c=[];for(var e in u){var j=d(a,e);f(j)&&(v[e]&&(j=v[e](j)),f(j)&&c.push(u[e]+"_"+j))}c.sort();var k=d(a,"raw_transformation");f(k)&&c.push(k);var l=c.join(",");return f(l)&&b.push(l),b.join("/")}function k(a){if(!a.match(/^https?:\//)){var b=document.location.protocol+"//"+document.location.host;"?"==a[0]?b+=document.location.pathname:"/"!=a[0]&&(b+=document.location.pathname.replace(/\/[^\/]*$/,"/")),a=b+a}return a}function l(b,e){e=e||{};var g=d(e,"type","upload");"fetch"==g&&(e.fetch_format=e.fetch_format||d(e,"format"));var h=j(e),i=d(e,"resource_type","image"),l=d(e,"version"),m=d(e,"format"),n=d(e,"cloud_name",a.cloudinary.config().cloud_name);if(!n)throw"Unknown cloud_name";var o=d(e,"private_cdn",a.cloudinary.config().private_cdn),p=d(e,"secure_distribution",a.cloudinary.config().secure_distribution),q=d(e,"cname",a.cloudinary.config().cname),s=d(e,"cdn_subdomain",a.cloudinary.config().cdn_subdomain),u=d(e,"shorten",a.cloudinary.config().shorten),v=d(e,"secure","https:"==window.location.protocol),w=d(e,"protocol",a.cloudinary.config().protocol),x=d(e,"trust_public_id");if("fetch"==g&&(b=k(b)),b.match(/^https?:/)){if("upload"==g||"asset"==g)return b;b=encodeURIComponent(b).replace(/%3A/g,":").replace(/%2F/g,"/")}else b=encodeURIComponent(decodeURIComponent(b)).replace(/%3A/g,":").replace(/%2F/g,"/"),m&&(x||(b=b.replace(/\.(jpg|png|gif|webp)$/,"")),b=b+"."+m);var y=v?"https://":"file:"===window.location.protocol?"file://":"http://";if(y=w?w+"//":y,n.match(/^\//)&&!v)y="/res"+n;else{var z=!o;if(v)p&&p!=r||(p=o?n+"-res.cloudinary.com":t),z=z||p==t,y+=p;else{var A=s?"a"+(c(b)%5+1)+".":"",B=q||(o?n+"-res.cloudinary.com":"res.cloudinary.com");y+=A+B}z&&(y+="/"+n)}u&&"image"==i&&"upload"==g&&(i="iu",g=void 0),b.search("/")>=0&&!b.match(/^v[0-9]+/)&&!b.match(/^https?:\//)&&!f(l)&&(l=1);var C=[y,i,g,h,l?"v"+l:"",b].join("/").replace(/([^:])\/+/g,"$1/");return C}function m(a){return 10*Math.ceil(a/10)}function n(b,c){a.cloudinary.config("dpr")&&!c.dpr&&(c.dpr=a.cloudinary.config("dpr"));var e=l(b,c),f=d(c,"html_width"),g=d(c,"html_height");return f&&(c.width=f),g&&(c.height=g),e}function o(b,c,d){var e=c[b]||a.cloudinary.config(b);return"undefined"==typeof e&&(e=d),e}function p(a,b){for(var c=a.length-2;c>=0&&a[c]>=b;)c--;return a[c+1]}var q="d3jpl91pxevbkh.cloudfront.net",r="cloudinary-a.akamaihd.net",s="res.cloudinary.com",t=s,u={angle:"a",background:"b",border:"bo",color:"co",color_space:"cs",crop:"c",default_image:"d",delay:"dl",density:"dn",dpr:"dpr",effect:"e",fetch_format:"f",flags:"fl",gravity:"g",height:"h",opacity:"o",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",transformation:"t",underlay:"u",width:"w",x:"x",y:"y"},v={angle:function(a){return e(a).join(".")},background:function(a){return a.replace(/^#/,"rgb:")},border:function(b){if(a.isPlainObject(b)){var c=""+(b.width||2),d=(b.color||"black").replace(/^#/,"rgb:");b=c+"px_solid_"+d}return b},color:function(a){return a.replace(/^#/,"rgb:")},dpr:function(a){return a=a.toString(),"auto"===a?"1.0":a.match(/^\d+$/)?a+".0":a},effect:function(a){return e(a).join(":")},flags:function(a){return e(a).join(".")},transformation:function(a){return e(a).join(".")}},w=null,x=null,y=!1,z={};a.cloudinary={CF_SHARED_CDN:q,OLD_AKAMAI_SHARED_CDN:r,AKAMAI_SHARED_CDN:s,SHARED_CDN:t,config:function(b,c){if(w||(w={},a('meta[name^="cloudinary_"]').each(function(){w[a(this).attr("name").replace("cloudinary_","")]=a(this).attr("content")})),"undefined"!=typeof c)w[b]=c;else{if("string"==typeof b)return w[b];b&&(w=b)}return w},url:function(b,c){return c=a.extend({},c),l(b,c)},url_internal:l,transformation_string:function(b){return b=a.extend({},b),j(b)},image:function(b,c){c=a.extend({},c);var d=n(b,c),e=a("<img/>").data("src-cache",d).attr(c).cloudinary_update(c);return e},facebook_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"facebook"},c))},twitter_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"twitter"},c))},twitter_name_profile_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"twitter_name"},c))},gravatar_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"gravatar"},c))},fetch_image:function(b,c){return a.cloudinary.image(b,a.extend({type:"fetch"},c))},sprite_css:function(b,c){return c=a.extend({type:"sprite"},c),b.match(/.css$/)||(c.format="css"),a.cloudinary.url(b,c)},responsive:function(b){x=a.extend(x||{},b),a("img.cld-responsive, img.cld-hidpi").cloudinary_update(x);var c=o("responsive_resize",x,!0);if(c&&!y){x.resizing=y=!0;var d=null;a(window).on("resize",function(){function b(){d&&(clearTimeout(d),d=null)}function c(){a("img.cld-responsive").cloudinary_update(x)}function e(){b(),setTimeout(function(){b(),c()},f)}var f=o("responsive_debounce",x,100);f?e():c()})}},calc_stoppoint:function(b,c){var d=a(b).data("stoppoints")||a.cloudinary.config().stoppoints||m;return"function"==typeof d?d(c):("string"==typeof d&&(d=a.map(d.split(","),function(a){return parseInt(a)})),p(d,c))},device_pixel_ratio:function(){var b=window.devicePixelRatio||1,c=z[b];return c||(b=p(a.cloudinary.supported_dpr_values,b),c=b.toString(),c.match(/^\d+$/)&&(c+=".0"),z[b]=c),c},supported_dpr_values:[.75,1,1.3,1.5,2,3]},a.fn.cloudinary=function(b){return this.filter("img").each(function(){var c=a.extend({width:a(this).attr("width"),height:a(this).attr("height"),src:a(this).attr("src")},a(this).data(),b),e=d(c,"source",d(c,"src")),f=n(e,c);a(this).data("src-cache",f).attr({width:c.width,height:c.height})}).cloudinary_update(b),this},a.fn.cloudinary_update=function(b){b=b||{};var c=o("responsive_use_stoppoints",b,"resize"),d=c===!1||"resize"==c&&!b.resizing;return this.filter("img").each(function(){b.responsive&&a(this).addClass("cld-responsive");var c={},e=a(this).data("src-cache")||a(this).data("src");if(e){var f=a(this).hasClass("cld-responsive")&&e.match(/\bw_auto\b/);if(f){var g=a(this).parent()[0],h=g?g.clientWidth:0;if(0==h)return;var i=d?h:a.cloudinary.calc_stoppoint(this,h),j=a(this).data("width")||0;i>j?a(this).data("width",i):i=j,e=e.replace(/\bw_auto\b/g,"w_"+i),c.width=null,c.height=null}c.src=e.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+a.cloudinary.device_pixel_ratio()),a(this).attr(c)}}),this};var A=null;a.fn.webpify=function(b,c){var d=this;if(b=b||{},c=c||b,!A){A=a.Deferred();var e=new Image;e.onerror=A.reject,e.onload=A.resolve,e.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}return a(function(){A.done(function(){a(d).cloudinary(a.extend({},c,{format:"webp"}))}).fail(function(){a(d).cloudinary(b)})}),this},a.fn.fetchify=function(b){return this.cloudinary(a.extend(b,{type:"fetch"}))},a.fn.fileupload&&(a.cloudinary.delete_by_token=function(b,c){c=c||{};var d=c.url;if(!d){var e=c.cloud_name||a.cloudinary.config().cloud_name;d="https://api.cloudinary.com/v1_1/"+e+"/delete_by_token"}var f=a.support.xhrFileUpload?"json":"iframe json";return a.ajax({url:d,method:"POST",data:{token:b},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:f})},a.fn.cloudinary_fileupload=function(b){var c=!this.data("blueimpFileupload");if(c&&(b=a.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},b)),this.fileupload(b),c&&(this.bind("fileuploaddone",function(b,c){if(!c.result.error){if(c.result.path=["v",c.result.version,"/",c.result.public_id,c.result.format?"."+c.result.format:""].join(""),c.cloudinaryField&&c.form.length>0){var d=[c.result.resource_type,c.result.type,c.result.path].join("/")+"#"+c.result.signature,e=a(b.target).prop("multiple"),f=function(){a("<input></input>").attr({type:"hidden",name:c.cloudinaryField}).val(d).appendTo(c.form)};if(e)f();else{var g=a(c.form).find('input[name="'+c.cloudinaryField+'"]');g.length>0?g.val(d):f()}}a(b.target).trigger("cloudinarydone",c)}}),this.bind("fileuploadstart",function(b){a(b.target).trigger("cloudinarystart");
}),this.bind("fileuploadstop",function(b){a(b.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(b,c){a(b.target).trigger("cloudinaryprogress",c)}),this.bind("fileuploadprogressall",function(b,c){a(b.target).trigger("cloudinaryprogressall",c)}),this.bind("fileuploadfail",function(b,c){a(b.target).trigger("cloudinaryfail",c)}),this.bind("fileuploadalways",function(b,c){a(b.target).trigger("cloudinaryalways",c)}),!this.fileupload("option").url)){var d=b.cloud_name||a.cloudinary.config().cloud_name,e="https://api.cloudinary.com/v1_1/"+d+"/upload";this.fileupload("option","url",e)}return this},a.fn.cloudinary_upload_url=function(a){this.fileupload("option","formData").file=a,this.fileupload("add",{files:[a]}),delete this.fileupload("option","formData").file},a.fn.unsigned_cloudinary_upload=function(b,c,d){d=d||{},c=a.extend({},c)||{},c.cloud_name&&(d.cloud_name=c.cloud_name,delete c.cloud_name);for(var e in c){var f=c[e];a.isPlainObject(f)?c[e]=a.map(f,function(a,b){return b+"="+a}).join("|"):a.isArray(f)&&(f.length>0&&a.isArray(f[0])?c[e]=a.map(f,function(a){return a.join(",")}).join("|"):c[e]=f.join(","))}c.callback||(c.callback="/cloudinary_cors.html"),c.upload_preset=b,d.formData=c,d.cloudinary_field&&(d.cloudinaryField=d.cloudinary_field,delete d.cloudinary_field);var g=d.html||{};return g["class"]="cloudinary_fileupload "+(g["class"]||""),d.multiple&&(g.multiple=!0),this.attr(g).cloudinary_fileupload(d),this},a.cloudinary.unsigned_upload_tag=function(b,c,d){return a("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(b,c,d)})}),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}.call(this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=arguments[0],f="["+(a?a+":":"")+e+"] ",g=arguments[1],h=arguments;for(c=f+g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<h.length?ma(h[b+2]):a}),c=c+"\nhttp://errors.angularjs.org/1.3.15/"+(a?a+"/":"")+e,d=2;d<arguments.length;d++)c=c+(2==d?"?":"&")+"p"+(d-2)+"="+encodeURIComponent(ma(arguments[d]));return new b(c)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return a.nodeType===sd&&b?!0:u(a)||ld(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(ld(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function g(a){return Object.keys(a).sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){return++jd}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){for(var b=a.$$hashKey,c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];a[i]=e[i]}}return k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(Object.create(a),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===gd.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===gd.call(a)}function z(a){return a&&a.window===a}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===gd.call(a)}function C(a){return"[object FormData]"===gd.call(a)}function D(a){return"[object Blob]"===gd.call(a)}function E(a){return"boolean"==typeof a}function F(a){return a&&x(a.then)}function G(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function H(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function I(a){return Wc(a.nodeName||a[0]&&a[0].nodeName)}function J(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),b}function K(a,b,c,d){if(z(a)||A(a))throw hd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw hd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(ld(a)){b.length=0;for(var h=0;h<a.length;h++)g=K(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;ld(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)a.hasOwnProperty(j)&&(g=K(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g);k(b,i)}}else if(b=a,a)if(ld(a))b=K(a,[],c,d);else if(w(a))b=new Date(a.getTime());else if(y(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(t(a)){var l=Object.create(Object.getPrototypeOf(a));b=K(a,l,c,d)}return b}function L(a,b){if(ld(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function M(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!ld(a)){if(w(a))return w(b)?M(a.getTime(),b.getTime()):!1;if(y(a))return y(b)?a.toString()==b.toString():!1;if(A(a)||A(b)||z(a)||z(b)||ld(b)||w(b)||y(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!M(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!ld(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!M(a[e],b[e]))return!1;return!0}}return!1}function N(a,b,c){return a.concat(dd.call(b,c))}function O(a,b){return dd.call(a,b||0)}function P(a,b){var c=arguments.length>2?O(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,N(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Q(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function R(a,b){return"undefined"==typeof a?c:(v(b)||(b=b?2:null),JSON.stringify(a,Q,b))}function S(a){return u(a)?JSON.parse(a):a}function T(a){a=ad(a).clone();try{a.empty()}catch(b){}var c=ad("<div>").append(a).html();try{return a[0].nodeType===td?Wc(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Wc(b)})}catch(b){return Wc(c)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;Xc.call(d,c)?ld(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){ld(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Z(a,b){var c,d,e=pd.length;for(a=ad(a),d=0;e>d;++d)if(c=pd[d]+b,u(c=a.attr(c)))return c;return null}function $(a,b){var c,d,e={};f(pd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(pd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==Z(c,"strict-di"),b(c,d?[d]:[],e))}function _(c,d,e){t(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=ad(c),c.injector()){var a=c[0]===b?"document":T(c);throw hd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=Sa(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),id.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(x(id.resumeDeferredBootstrap)&&id.resumeDeferredBootstrap()))}function aa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ba(a){var b=id.element(a).injector();if(!b)throw hd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ca(a,b){return b=b||"_",a.replace(qd,function(a,c){return(c?b:"")+a.toLowerCase()})}function da(){var b;rd||(bd=a.jQuery,bd&&bd.fn.on?(ad=bd,l(bd.fn,{scope:Ld.scope,isolateScope:Ld.isolateScope,controller:Ld.controller,injector:Ld.injector,inheritedData:Ld.inheritedData}),b=bd.cleanData,bd.cleanData=function(a){var c;if(kd)kd=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=bd._data(d,"events"),c&&c.$destroy&&bd(d).triggerHandler("$destroy");b(a)}):ad=ua,id.element=ad,rd=!0)}function ea(a,b,c){if(!a)throw hd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function fa(a,b,c){return c&&ld(a)&&(a=a[a.length-1]),ea(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ga(a,b){if("hasOwnProperty"===a)throw hd("badname","hasOwnProperty is not a valid {0} name",b)}function ha(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?P(f,a):a}function ia(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return ad(d)}function ja(){return Object.create(null)}function ka(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d,e){return e||(e=b),function(){return e[d||"push"]([a,c,arguments]),j}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=[],i=a("$injector","invoke","push",e),j={_invokeQueue:b,_configBlocks:e,_runBlocks:h,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:i,run:function(a){return h.push(a),this}};return g&&i(g),j})}})}function la(a){var b=[];return JSON.stringify(a,function(a,c){if(c=Q(a,c),t(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function ma(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?la(a):a}function na(b){l(b,{bootstrap:_,copy:K,extend:l,equals:M,element:ad,forEach:f,injector:Sa,noop:o,bind:P,toJson:R,fromJson:S,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:G,isArray:ld,version:xd,isDate:w,lowercase:Wc,uppercase:Yc,callbacks:{counter:0},getTestability:ba,$$minErr:d,$$csp:od,reloadWithDebugInfo:aa}),cd=ka(a);try{cd("ngLocale")}catch(c){cd("ngLocale",[]).provider("$locale",qb)}cd("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Wb}),a.provider("$compile",Za).directive({a:De,input:Ue,textarea:Ue,form:Ie,script:Kf,select:Nf,style:Pf,option:Of,ngBind:Xe,ngBindHtml:Ze,ngBindTemplate:Ye,ngClass:_e,ngClassEven:bf,ngClassOdd:af,ngCloak:cf,ngController:df,ngForm:Je,ngHide:Ef,ngIf:gf,ngInclude:hf,ngInit:kf,ngNonBindable:yf,ngPluralize:zf,ngRepeat:Af,ngShow:Df,ngStyle:Ff,ngSwitch:Gf,ngSwitchWhen:Hf,ngSwitchDefault:If,ngOptions:Mf,ngTransclude:Jf,ngModel:vf,ngList:lf,ngChange:$e,pattern:Rf,ngPattern:Rf,required:Qf,ngRequired:Qf,minlength:Tf,ngMinlength:Tf,maxlength:Sf,ngMaxlength:Sf,ngValue:We,ngModelOptions:xf}).directive({ngInclude:jf}).directive(Ee).directive(ef),a.provider({$anchorScroll:Ta,$animate:Vd,$browser:Wa,$cacheFactory:Xa,$controller:bb,$document:cb,$exceptionHandler:db,$filter:gc,$interpolate:ob,$interval:pb,$http:kb,$httpBackend:mb,$location:Eb,$log:Fb,$parse:Qb,$rootScope:Vb,$q:Rb,$$q:Sb,$sce:$b,$sceDelegate:Zb,$sniffer:_b,$templateCache:Ya,$templateRequest:ac,$$testability:bc,$timeout:cc,$window:fc,$$rAF:Ub,$$asyncCallback:Ua,$$jqLite:Na})}])}function oa(){return++zd}function pa(a){return a.replace(Cd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Dd,"Moz$1")}function qa(a){return!Hd.test(a)}function ra(a){var b=a.nodeType;return b===sd||!b||b===vd}function sa(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(qa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(Id.exec(a)||["",""])[1].toLowerCase(),e=Kd[d]||Kd._default,c.innerHTML=e[1]+a.replace(Jd,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=N(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function ta(a,c){c=c||b;var d;return(d=Gd.exec(a))?[c.createElement(d[1])]:(d=sa(a,c))?d.childNodes:[]}function ua(a){if(a instanceof ua)return a;var b;if(u(a)&&(a=md(a),b=!0),!(this instanceof ua)){if(b&&"<"!=a.charAt(0))throw Fd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ua(a)}b?Ea(this,ta(a)):Ea(this,a)}function va(a){return a.cloneNode(!0)}function wa(a,b){if(b||ya(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)ya(c[d])}function xa(a,b,c,d){if(s(d))throw Fd("offargs","jqLite#off() does not support the `selector` argument");var e=za(a),g=e&&e.events,h=e&&e.handle;if(h)if(b)f(b.split(" "),function(b){if(s(c)){var d=g[b];if(J(d||[],c),d&&d.length>0)return}Bd(a,b,h),delete g[b]});else for(b in g)"$destroy"!==b&&Bd(a,b,h),delete g[b]}function ya(a,b){var d=a.ng339,e=d&&yd[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),xa(a)),delete yd[d],a.ng339=c}}function za(a,b){var d=a.ng339,e=d&&yd[d];return b&&!e&&(a.ng339=d=oa(),e=yd[d]={events:{},data:{},handle:c}),e}function Aa(a,b,c){if(ra(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=za(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ba(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ca(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",md((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+md(b)+" "," ")))})}function Da(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=md(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",md(c))}}function Ea(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Fa(a,b){return Ga(a,"$"+(b||"ngController")+"Controller")}function Ga(a,b,d){a.nodeType==vd&&(a=a.documentElement);for(var e=ld(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=ad.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===wd&&a.host}}function Ha(a){for(wa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ia(a,b){b||wa(a);var c=a.parentNode;c&&c.removeChild(a)}function Ja(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):ad(c).on("load",b)}function Ka(a,b){var c=Md[b.toLowerCase()];return c&&Nd[I(a)]&&c}function La(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Od[b]}function Ma(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=L(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Na(){this.$get=function(){return l(ua,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ba(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Da(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ca(a,b)}})}}function Oa(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||j)():d+":"+a}function Pa(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Qa(a){var b=a.toString().replace(Sd,""),c=b.match(Pd);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ra(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw u(c)&&c||(c=a.name||Qa(a)),Td("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(Sd,""),g=e.match(Pd),f(g[1].split(Qd),function(a){a.replace(Rd,function(a,b,c){d.push(c)})})}a.$inject=d}}else ld(a)?(h=a.length-1,fa(a[h],"fn"),d=a.slice(0,h)):fa(a,"fn",!0);return d}function Sa(a,b){function d(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function e(a,b){if(ga(a,"service"),(x(b)||ld(b))&&(b=A.instantiate(b)),!b.$get)throw Td("pget","Provider '{0}' must define $get factory method.",a);return z[a+v]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(r(c))throw Td("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return h(a,q(b),!1)}function l(a,b){ga(a,"constant"),z[a]=b,B[a]=b}function m(a,b){var c=A.get(a+v),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=A.get(d[0]);e[d[1]].apply(e,d[2])}}if(!y.get(a)){y.put(a,!0);try{u(a)?(b=cd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):x(a)?c.push(A.invoke(a)):ld(a)?c.push(A.invoke(a)):fa(a,"module")}catch(e){throw ld(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Td("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function p(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===s)throw Td("cdep","Circular dependency found: {0}",b+" <- "+w.join(" <- "));return a[b]}try{return w.unshift(b),a[b]=s,a[b]=c(b,d)}catch(e){throw a[b]===s&&delete a[b],e}finally{w.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Sa.$$annotate(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw Td("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return ld(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((ld(a)?a[a.length-1]:a).prototype||null),f=e(a,d,b,c);return t(f)||x(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:Sa.$$annotate,has:function(b){return z.hasOwnProperty(b+v)||a.hasOwnProperty(b)}}}b=b===!0;var s={},v="Provider",w=[],y=new Pa([],!0),z={$provide:{provider:d(e),factory:d(h),service:d(j),value:d(k),constant:d(l),decorator:m}},A=z.$injector=p(z,function(a,b){throw id.isString(b)&&w.push(b),Td("unpr","Unknown provider: {0}",w.join(" <- "))}),B={},C=B.$injector=p(B,function(a,b){var d=A.get(a+v,b);return C.invoke(d.$get,d,c,a)});return f(n(a),function(a){C.invoke(a||o)}),C}function Ta(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===I(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(x(a))a=a();else if(G(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else v(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(){var a,b=c.hash();b?(a=i.getElementById(b))?g(a):(a=e(i.getElementsByName(b)))?g(a):"top"===b&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Ja(function(){d.$evalAsync(h)})}),h}]}function Ua(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Va(a,b,d,e){function g(a){try{a.apply(null,O(arguments,1))}finally{if(y--,0===y)for(;z.length;)try{z.pop()()}catch(b){d.error(b)}}}function h(a){var b=a.indexOf("#");return-1===b?"":a.substr(b+1)}function i(a,b){!function c(){f(B,function(a){a()}),A=b(c,a)}()}function j(){l(),m()}function k(){try{return t.state}catch(a){}}function l(){C=k(),C=r(C)?null:C,M(C,J)&&(C=J),J=C}function m(){E===p.url()&&D===C||(E=p.url(),D=C,f(H,function(a){a(p.url(),C)}))}function n(a){try{return decodeURIComponent(a)}catch(b){return a}}var p=this,q=b[0],s=a.location,t=a.history,v=a.setTimeout,w=a.clearTimeout,x={};p.isMock=!1;var y=0,z=[];p.$$completeOutstandingRequest=g,p.$$incOutstandingRequestCount=function(){y++},p.notifyWhenNoOutstandingRequests=function(a){f(B,function(a){a()}),0===y?a():z.push(a)};var A,B=[];p.addPollFn=function(a){return r(A)&&i(100,v),B.push(a),a};var C,D,E=s.href,F=b.find("base"),G=null;l(),D=C,p.url=function(b,c,d){if(r(d)&&(d=null),s!==a.location&&(s=a.location),t!==a.history&&(t=a.history),b){var f=D===d;if(E===b&&(!e.history||f))return p;var g=E&&vb(E)===vb(b);return E=b,D=d,!e.history||g&&f?(g||(G=b),c?s.replace(b):g?s.hash=h(b):s.href=b):(t[c?"replaceState":"pushState"](d,"",b),l(),D=C),p}return G||s.href.replace(/%27/g,"'")},p.state=function(){return C};var H=[],I=!1,J=null;p.onUrlChange=function(b){return I||(e.history&&ad(a).on("popstate",j),ad(a).on("hashchange",j),I=!0),H.push(b),b},p.$$checkUrlChange=m,p.baseHref=function(){var a=F.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var K={},L="",N=p.baseHref();p.cookies=function(a,b){var e,f,g,h,i;if(!a){if(q.cookie!==L)for(L=q.cookie,f=L.split("; "),K={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=n(g.substring(0,i)),K[a]===c&&(K[a]=n(g.substring(i+1))));return K}b===c?q.cookie=encodeURIComponent(a)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(q.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+N).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"));
},p.defer=function(a,b){var c;return y++,c=v(function(){delete x[c],g(a)},b||0),x[c]=!0,c},p.defer.cancel=function(a){return x[a]?(delete x[a],w(a),g(o),!0):!1}}function Wa(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Va(a,d,b,c)}]}function Xa(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Ya(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Za(a,d){function e(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return f(a,function(a,e){var f=a.match(c);if(!f)throw Wd("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}var g={},h="Directive",j=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,k=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=H("ngSrc,ngSrcset,src,srcset"),r=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function y(b,c){return ga(b,"directive"),u(b)?(ea(c,"directiveFactory"),g.hasOwnProperty(b)||(g[b]=[],a.factory(b+h,["$injector","$exceptionHandler",function(a,c){var d=[];return f(g[b],function(f,g){try{var h=a.invoke(f);x(h)?h={compile:q(h)}:!h.compile&&h.link&&(h.compile=q(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA",t(h.scope)&&(h.$$isolateBindings=e(h.scope,h.name)),d.push(h)}catch(i){c(i)}}),d}])),g[b].push(c)):f(b,i(y)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(a){return s(a)?(w=a,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,i,q,s,y,z,B,C,D){function E(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof ad||(a=ad(a)),f(a,function(b,c){b.nodeType==td&&b.nodeValue.match(/\S+/)&&(a[c]=ad(b).wrap("<span></span>").parent()[0])});var g=H(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){ea(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=G(i));var j;if(j="html"!==h?ad($(h,ad("<div>").append(a).html())):c?Ld.clone.call(a):a,f)for(var k in f)j.data("$"+k+"Controller",f[k].instance);return F.$$addScopeInfo(j,b),c&&c(j,b),g&&g(b,j,j,e),j}}function G(a){var b=a&&a[0];return b&&"foreignobject"!==I(b)&&b.toString().match(/SVG/)?"svg":"html"}function H(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),F.$$addScopeInfo(ad(i),j)):j=a,n=g.transcludeOnThisElement?K(a,g.transclude,f,g.elementTranscludeOnThisElement):!g.templateOnThisElement&&f?f:!f&&b?K(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new ga,j=L(a[q],[],i,0===q?e:c,f),k=j.length?Q(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&F.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:H(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function K(a,b,c,d){var e=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return e}function L(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case sd:S(b,$a(I(a)),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,v=r&&r.length;v>s;s++){var w=!1,x=!1;l=r[s],m=l.name,p=md(l.value),o=$a(m),(q=la.test(o))&&(m=m.replace(Xd,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.replace(/(Start|End)$/,"");U(y)&&o===y+"Start"&&(w=m,x=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=$a(m.toLowerCase()),i[n]=m,!q&&c.hasOwnProperty(n)||(c[n]=p,Ka(a,n)&&(c[n]=!0)),aa(a,b,p,n,q),S(b,n,"A",d,e,w,x)}if(g=a.className,t(g)&&(g=g.animVal),u(g)&&""!==g)for(;f=k.exec(g);)n=$a(f[2]),S(b,n,"C",d,e)&&(c[n]=md(f[3])),g=g.substr(f.index+f[0].length);break;case td:Z(b,a.nodeValue);break;case ud:try{f=j.exec(a.nodeValue),f&&(n=$a(f[1]),S(b,n,"M",d,e)&&(c[n]=md(f[2])))}catch(z){}}return b.sort(X),b}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Wd("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==sd&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return ad(d)}function P(a,b,c){return function(d,e,f,g,h){return e=N(e[0],b,c),a(d,e,f,g,h)}}function Q(a,g,h,i,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=P(a,c,d)),a.require=z.require,a.directiveName=B,(I===z||z.$$isolateScope)&&(a=da(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=P(b,c,d)),b.require=z.require,b.directiveName=B,(I===z||z.$$isolateScope)&&(b=da(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g,h="data",i=!1,j=c;if(u(b)){if(g=b.match(r),b=b.substring(g[0].length),g[3]&&(g[1]?g[3]=null:g[1]=g[3]),"^"===g[1]?h="inheritedData":"^^"===g[1]&&(h="inheritedData",j=c.parent()),"?"===g[2]&&(i=!0),e=null,d&&"data"===h&&(e=d[b])&&(e=e.instance),e=e||j[h]("$"+b+"Controller"),!e&&!i)throw Wd("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e||null}return ld(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function v(a,b,e,i,j){function k(a,b,d){var e;return A(a)||(d=b,b=a,a=c),U&&(e=v),d||(d=U?x.parent():x),j(a,b,e,d,D)}var n,o,r,t,u,v,w,x,z;if(g===e?(z=h,x=h.$$element):(x=ad(e),z=new ga(x,h)),I&&(u=b.$new(!0)),j&&(w=k,w.$$boundTransclude=j),H&&(y={},v={},f(H,function(a){var c,d={$scope:a===I||a.$$isolateScope?u:b,$element:x,$attrs:z,$transclude:w};t=a.controller,"@"==t&&(t=z[a.name]),c=s(t,d,!0,a.controllerAs),v[a.name]=c,U||x.data("$"+a.name+"Controller",c.instance),y[a.name]=c})),I){F.$$addScopeInfo(x,u,!0,!(J&&(J===I||J===I.$$originalDirective))),F.$$addScopeClass(x,!0);var B=y&&y[I.name],C=u;B&&B.identifier&&I.bindToController===!0&&(C=B.instance),f(u.$$isolateBindings=I.$$isolateBindings,function(a,c){var e,f,g,h,i=a.attrName,j=a.optional,k=a.mode;switch(k){case"@":z.$observe(i,function(a){C[c]=a}),z.$$observers[i].$$scope=b,z[i]&&(C[c]=d(z[i])(b));break;case"=":if(j&&!z[i])return;f=q(z[i]),h=f.literal?M:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=C[c]=f(b),Wd("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",z[i],I.name)},e=C[c]=f(b);var l=function(a){return h(a,C[c])||(h(a,e)?g(b,a=C[c]):C[c]=a),e=a};l.$stateful=!0;var m;m=a.collection?b.$watchCollection(z[i],l):b.$watch(q(z[i],l),null,f.literal),u.$on("$destroy",m);break;case"&":f=q(z[i]),C[c]=function(a){return f(b,a)}}})}for(y&&(f(y,function(a){a()}),y=null),n=0,o=l.length;o>n;n++)r=l[n],fa(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w);var D=b;for(I&&(I.template||null===I.templateUrl)&&(D=u),a&&a(D,e.childNodes,c,j),n=m.length-1;n>=0;n--)r=m[n],fa(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w)}n=n||{};for(var w,y,z,B,C,D,E,G=-Number.MAX_VALUE,H=n.controllerDirectives,I=n.newIsolateScopeDirective,J=n.templateDirective,K=n.nonTlbTranscludeDirective,Q=!1,S=!1,U=n.hasElementTranscludeDirective,X=h.$$element=ad(g),Z=k,_=i,aa=0,ca=a.length;ca>aa;aa++){z=a[aa];var ea=z.$$start,ha=z.$$end;if(ea&&(X=N(g,ea,ha)),C=c,G>z.priority)break;if((E=z.scope)&&(z.templateUrl||(t(E)?(Y("new/isolated scope",I||w,z,X),I=z):Y("new/isolated scope",I,z,X)),w=w||z),B=z.name,!z.templateUrl&&z.controller&&(E=z.controller,H=H||{},Y("'"+B+"' controller",H[B],z,X),H[B]=z),(E=z.transclude)&&(Q=!0,z.$$tlb||(Y("transclusion",K,z,X),K=z),"element"==E?(U=!0,G=z.priority,C=X,X=h.$$element=ad(b.createComment(" "+B+": "+h[B]+" ")),g=X[0],ba(j,O(C),g),_=F(C,i,G,Z&&Z.name,{nonTlbTranscludeDirective:K})):(C=ad(va(g)).contents(),X.empty(),_=F(C,i))),z.template)if(S=!0,Y("template",J,z,X),J=z,E=x(z.template)?z.template(X,h):z.template,E=ka(E),z.replace){if(Z=z,C=qa(E)?[]:ab($(z.templateNamespace,md(E))),g=C[0],1!=C.length||g.nodeType!==sd)throw Wd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",B,"");ba(j,X,g);var ia={$attr:{}},ja=L(g,[],ia),la=a.splice(aa+1,a.length-(aa+1));I&&R(ja),a=a.concat(ja).concat(la),V(h,ia),ca=a.length}else X.html(E);if(z.templateUrl)S=!0,Y("template",J,z,X),J=z,z.replace&&(Z=z),v=W(a.splice(aa,a.length-aa),X,h,j,Q&&_,l,m,{controllerDirectives:H,newIsolateScopeDirective:I,templateDirective:J,nonTlbTranscludeDirective:K}),ca=a.length;else if(z.compile)try{D=z.compile(X,h,_),x(D)?o(null,D,ea,ha):D&&o(D.pre,D.post,ea,ha)}catch(ma){e(ma,T(X))}z.terminal&&(v.terminal=!0,G=Math.max(G,z.priority))}return v.scope=w&&w.scope===!0,v.transcludeOnThisElement=Q,v.elementTranscludeOnThisElement=U,v.templateOnThisElement=S,v.transclude=_,n.hasElementTranscludeDirective=U,v}function R(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function S(b,d,f,i,j,k,l){if(d===j)return null;var m=null;if(g.hasOwnProperty(d))for(var o,p=a.get(d+h),q=0,r=p.length;r>q;q++)try{o=p[q],(i===c||i>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){e(s)}return m}function U(b){if(g.hasOwnProperty(b))for(var c,d=a.get(b+h),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function V(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function W(a,b,c,d,e,g,h,j){var k,l,m=[],o=b[0],p=a.shift(),q=n(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=x(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),i(B.getTrustedResourceUrl(r)).then(function(i){var n,u,v,w;if(i=ka(i),p.replace){if(v=qa(i)?[]:ab($(s,md(i))),n=v[0],1!=v.length||n.nodeType!==sd)throw Wd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},ba(d,b,n);var x=L(n,[],u);t(p.scope)&&R(x),a=x.concat(a),V(c,u)}else n=o,b.html(i);for(a.unshift(q),k=Q(a,n,c,e,b,p,g,h,j),f(d,function(a,c){a==n&&(d[c]=b[0])}),l=H(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=va(n)),ba(A,ad(z),C),E(ad(C),D)}w=k.transcludeOnThisElement?K(y,k.transclude,B):B,k(l,y,C,d,w)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=K(b,k.transclude,e)),k(l,b,c,d,f)))}}function X(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Y(a,b,c,d){if(b)throw Wd("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function Z(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&F.$$addBindingClass(b),function(a,b){var e=b.parent();d||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function $(a,c){switch(a=Wc(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function _(a,b){if("srcdoc"==b)return B.HTML;var c=I(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?B.RESOURCE_URL:void 0}function aa(a,b,c,e,f){var g=_(a,e);f=m[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===I(a))throw Wd("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(v.test(e))throw Wd("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ba(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),ad(d).data(ad(g).data()),bd?(kd=!0,bd.cleanData([g])):delete ad.cache[g[ad.expando]];for(var n=1,o=c.length;o>n;n++){var p=c[n];ad(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function da(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function fa(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,T(c))}}var ga=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};ga.prototype={$normalize:$a,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=_a(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=_a(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,d,g){var h,i=this.$$element[0],j=Ka(i,a),k=La(i,a),l=a;if(j?(this.$$element.prop(a,b),g=j):k&&(this[k]=b,l=k),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a],g||(this.$attr[a]=g=ca(a,"-"))),h=I(this.$$element),"a"===h&&"href"===a||"img"===h&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===h&&"srcset"===a){for(var m="",n=md(b),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(n)?o:/(,)/,q=n.split(p),r=Math.floor(q.length/2),s=0;r>s;s++){var t=2*s;m+=D(md(q[t]),!0),m+=" "+md(q[t+1])}var u=md(q[2*s]).split(/\s/);m+=D(md(u[0]),!0),2===u.length&&(m+=" "+md(u[1])),this[a]=b=m}d!==!1&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b));var v=this.$$observers;v&&f(v[l],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);return e.push(b),y.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){J(e,b)}}};var ha=d.startSymbol(),ia=d.endSymbol(),ka="{{"==ha||"}}"==ia?p:function(a){return a.replace(/\{\{/g,ha).replace(/}}/g,ia)},la=/^ngAttr[A-Z]/;return F.$$addBindingInfo=w?function(a,b){var c=a.data("$binding")||[];ld(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:o,F.$$addBindingClass=w?function(a){E(a,"ng-binding")}:o,F.$$addScopeInfo=w?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:o,F.$$addScopeClass=w?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:o,F}]}function $a(a){return pa(a.replace(Xd,""))}function _a(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function ab(a){a=ad(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===ud&&ed.call(a,b,1)}return a}function bb(){var a={},b=!1,e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){ga(b,"controller"),t(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(f,g){function h(a,b,c,e){if(!a||!t(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,i,j,k){var m,n,o,p;if(j=j===!0,k&&u(k)&&(p=k),u(d)){if(n=d.match(e),!n)throw Yd("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);o=n[1],p=p||n[3],d=a.hasOwnProperty(o)?a[o]:ha(i.$scope,o,!0)||(b?ha(g,o,!0):c),fa(d,o,!0)}if(j){var q=(ld(d)?d[d.length-1]:d).prototype;return m=Object.create(q||null),p&&h(i,p,m,o||d.name),l(function(){return f.invoke(d,m,i,o),m},{instance:m,identifier:p})}return m=f.instantiate(d,i,o),p&&h(i,p,m,o||d.name),m}}]}function cb(){this.$get=["$window",function(a){return ad(a.document)}]}function db(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function eb(a,b){if(u(a)){var c=a.replace(be,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Zd)||fb(c))&&(a=S(c))}}return a}function fb(a){var b=a.match(_d);return b&&ae[b[0]].test(a)}function gb(a){var b,c,d,e=ja();return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=Wc(md(a.substr(0,d))),c=md(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function hb(a){var b=t(a)?a:c;return function(c){if(b||(b=gb(a)),c){var d=b[Wc(c)];return void 0===d&&(d=null),d}return b}}function ib(a,b,c,d){return x(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function jb(a){return a>=200&&300>a}function kb(){var a=this.defaults={transformResponse:[eb],transformRequest:[function(a){return!t(a)||B(a)||D(a)||C(a)?a:R(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L($d),put:L($d),patch:L($d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},b=!1;this.useApplyAsync=function(a){return s(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(g,i,j,k,m,n){function o(b){function e(a){var b=l({},a);return a.data?b.data=ib(a.data,a.headers,a.status,i.transformResponse):b.data=a.data,jb(a.status)?b:m.reject(b)}function g(a){var b,c={};return f(a,function(a,d){x(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}function h(b){var c,d,e,f=a.headers,h=l({},b.headers);f=l({},f.common,f[Wc(b.method)]);a:for(c in f){d=Wc(c);for(e in h)if(Wc(e)===d)continue a;h[c]=f[c]}return g(h)}if(!id.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var i=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},b);i.headers=h(b),i.method=Yc(i.method);var j=function(b){var d=b.headers,g=ib(b.data,hb(d),c,b.transformRequest);return r(g)&&f(d,function(a,b){"content-type"===Wc(b)&&delete d[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),v(b,g).then(e,e)},k=[j,c],n=m.when(i);for(f(A,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError),(a.response||a.responseError)&&k.push(a.response,a.responseError)});k.length;){var o=k.shift(),p=k.shift();n=n.then(o,p)}return n.success=function(a){return n.then(function(b){a(b.data,b.status,b.headers,i)}),n},n.error=function(a){return n.then(null,function(b){a(b.data,b.status,b.headers,i)}),n},n}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l(c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l(d||{},{method:a,url:b,data:c}))}})}function v(d,e){function f(a,c,d,e){function f(){h(c,a,d,e)}n&&(jb(a)?n.put(w,[a,c,gb(d),e]):n.remove(w)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function h(a,b,c,e){b=Math.max(b,0),(jb(b)?q.resolve:q.reject)({data:a,status:b,headers:hb(c),config:d,statusText:e})}function j(a){h(a.data,a.status,L(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),u=q.promise,v=d.headers,w=y(d.url,d.params);if(o.pendingRequests.push(d),u.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=t(d.cache)?d.cache:t(a.cache)?a.cache:z),n&&(p=n.get(w),s(p)?F(p)?p.then(j,j):ld(p)?h(p[1],p[0],L(p[2]),p[3]):h(p,200,{},"OK"):n.put(w,u)),r(p)){var x=ec(d.url)?i.cookies()[d.xsrfCookieName||a.xsrfCookieName]:c;x&&(v[d.xsrfHeaderName||a.xsrfHeaderName]=x),g(d.method,w,e,f,v,d.timeout,d.withCredentials,d.responseType)}return u}function y(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(ld(a)||(a=[a]),f(a,function(a){t(a)&&(a=w(a)?a.toISOString():R(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var z=j("$http"),A=[];return f(e,function(a){A.unshift(u(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function lb(){return new a.XMLHttpRequest}function mb(){this.$get=["$browser","$window","$document",function(a,b,c){return nb(a,lb,a.defer,b.angular.callbacks,c[0])}]}function nb(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){Bd(d,"load",f),Bd(d,"error",f),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Ad(d,"load",f),Ad(d,"error",f),g.body.appendChild(d),f}return function(g,i,j,k,l,m,n,p){function q(){u&&u(),v&&v.abort()}function r(b,e,f,g,h){y!==c&&d.cancel(y),u=v=null,b(e,f,g,h),a.$$completeOutstandingRequest(o)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==Wc(g)){var t="_"+(e.counter++).toString(36);e[t]=function(a){e[t].data=a,e[t].called=!0};var u=h(i.replace("JSON_CALLBACK","angular.callbacks."+t),t,function(a,b){r(k,a,e[t].data,"",b),e[t]=o})}else{var v=b();v.open(g,i,!0),f(l,function(a,b){s(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==dc(i).protocol?404:0),r(k,c,b,v.getAllResponseHeaders(),a)};var w=function(){r(k,-1,null,null,"")};if(v.onerror=w,v.onabort=w,n&&(v.withCredentials=!0),p)try{v.responseType=p}catch(x){if("json"!==p)throw x}v.send(j||null)}if(m>0)var y=d(q,m);else F(m)&&m.then(q)}}function ob(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,m,n){function o(c){return c.replace(j,a).replace(k,b)}function p(a){try{return a=D(a),n&&!s(a)?a:E(a)}catch(b){var c=ce("interr","Can't interpolate: {0}\n{1}",f,b.toString());d(c)}}n=!!n;for(var q,t,u,v=0,w=[],y=[],z=f.length,A=[],B=[];z>v;){if(-1==(q=f.indexOf(a,v))||-1==(t=f.indexOf(b,q+h))){v!==z&&A.push(o(f.substring(v)));break}v!==q&&A.push(o(f.substring(v,q))),u=f.substring(q+h,t),w.push(u),y.push(c(u,p)),v=t+i,B.push(A.length),A.push("")}if(m&&A.length>1)throw ce("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);if(!g||w.length){var C=function(a){for(var b=0,c=w.length;c>b;b++){if(n&&r(a[b]))return;A[B[b]]=a[b]}return A.join("")},D=function(a){return m?e.getTrusted(m,a):e.valueOf(a)},E=function(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=R(a)}return a};return l(function(a){var b=0,c=w.length,e=new Array(c);try{for(;c>b;b++)e[b]=y[b](a);return C(e)}catch(g){var h=ce("interr","Can't interpolate: {0}\n{1}",f,g.toString());d(h)}},{exp:f,expressions:w,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(y,function(c,e){var f=C(c);x(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}}var h=a.length,i=b.length,j=new RegExp(a.replace(/./g,f),"g"),k=new RegExp(b.replace(/./g,f),"g");return g.startSymbol=function(){return a},g.endSymbol=function(){return b},g}]}function pb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=b.setInterval,k=b.clearInterval,l=0,m=s(i)&&!i,n=(m?d:c).defer(),o=n.promise;return h=s(h)?h:0,o.then(null,null,e),o.$$intervalId=j(function(){n.notify(l++),h>0&&l>=h&&(n.resolve(l),k(o.$$intervalId),delete f[o.$$intervalId]),m||a.$apply()},g),f[o.$$intervalId]=n,o}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function qb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(a){return 1===a?"one":"other"}}}}function rb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function sb(a,b){var c=dc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=m(c.port)||ee[c.protocol]||null}function tb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=dc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=V(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function ub(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function vb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function wb(a){return a.replace(/(#.+)|#$/,"$1")}function xb(a){return a.substr(0,vb(a).lastIndexOf("/")+1)}function yb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function zb(a,b){this.$$html5=!0,b=b||"";var d=xb(a);sb(a,this),this.$$parse=function(a){var b=ub(d,a);if(!u(b))throw fe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,d);tb(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=ub(a,e))!==c?(h=g,i=(g=ub(b,g))!==c?d+(ub("/",g)||g):a+h):(g=ub(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function Ab(a,b){var c=xb(a);sb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=ub(a,d)||ub(c,d);"#"===g.charAt(0)?(f=ub(b,g),r(f)&&(f=g)):f=this.$$html5?g:"",tb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return vb(a)==vb(b)?(this.$$parse(b),!0):!1}}function Bb(a,b){this.$$html5=!0,Ab.apply(this,arguments);var c=xb(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==vb(d)?f=d:(g=ub(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function Cb(a){return function(){return this[a]}}function Db(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Eb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return E(a)?(b.enabled=a,this):t(a)?(E(a.enabled)&&(b.enabled=a.enabled),E(a.requireBase)&&(b.requireBase=a.requireBase),E(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw fe("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=yb(n)+(m||"/"),k=e.history?zb:Bb}else l=vb(n),k=Ab;j=new k(l,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=ad(a.target);"a"!==I(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=dc(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),wb(j.absUrl())!=wb(n)&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(p=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=wb(d.url()),b=wb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Fb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Gb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw he("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Hb(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw he("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw he("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);
if(a===Object)throw he("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function Ib(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===ie||a===je||a===ke)throw he("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function Jb(a){return a.constant}function Kb(a,b,c,d,e){Hb(a,e),Hb(b,e);for(var f,g=c.split("."),h=0;g.length>1;h++){f=Gb(g.shift(),e);var i=0===h&&b&&b[f]||a[f];i||(i={},a[f]=i),a=Hb(i,e)}return f=Gb(g.shift(),e),Hb(a[f],e),a[f]=d,d}function Lb(a){return"constructor"==a}function Mb(a,b,d,e,f,g,h){Gb(a,g),Gb(b,g),Gb(d,g),Gb(e,g),Gb(f,g);var i=function(a){return Hb(a,g)},j=h||Lb(a)?i:p,k=h||Lb(b)?i:p,l=h||Lb(d)?i:p,m=h||Lb(e)?i:p,n=h||Lb(f)?i:p;return function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=j(i[a]),b?null==i?c:(i=k(i[b]),d?null==i?c:(i=l(i[d]),e?null==i?c:(i=m(i[e]),f?null==i?c:i=n(i[f]):i):i):i):i)}}function Nb(a,b){return function(c,d){return a(c,d,Hb,b)}}function Ob(a,b,d){var e=b.expensiveChecks,g=e?re:qe,h=g[a];if(h)return h;var i=a.split("."),j=i.length;if(b.csp)h=6>j?Mb(i[0],i[1],i[2],i[3],i[4],d,e):function(a,b){var f,g=0;do f=Mb(i[g++],i[g++],i[g++],i[g++],i[g++],d,e)(a,b),b=c,a=f;while(j>g);return f};else{var k="";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,b){Gb(a,d);var c=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(e||Lb(a))&&(c="eso("+c+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+c+";\n"}),k+="return s;";var m=new Function("s","l","eso","fe",k);m.toString=q(k),l&&(m=Nb(m,d)),h=m}return h.sharedGetter=!0,h.assign=function(b,c,d){return Kb(b,d,a,c,a)},g[a]=h,h}function Pb(a){return x(a.valueOf)?a.valueOf():se.call(a)}function Qb(){var a=ja(),b=ja();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}function g(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.constant||(e.inputs?g(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=Pb(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,c,d){var e,f=d.$$inputs||(d.$$inputs=g(d.inputs,[]));if(1===f.length){var i=h;return f=f[0],a.$watch(function(a){var b=f(a);return h(b,i)||(e=d(a),i=b&&Pb(b)),e},b,c)}for(var j=[],k=0,l=f.length;l>k;k++)j[k]=h;return a.$watch(function(a){for(var b=!1,c=0,g=f.length;g>c;c++){var i=f[c](a);(b||(b=!h(i,j[c])))&&(j[c]=i&&Pb(i))}return b&&(e=d(a)),e},b,c)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,x(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,x(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){x(b)&&b.apply(this,arguments),e()},c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==k&&c!==j,e=d?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return s(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==i?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=i,e.inputs=[a]),e}var n={csp:d.csp,expensiveChecks:!1},p={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var h,q,r;switch(typeof d){case"string":r=d=d.trim();var s=g?b:a;if(h=s[r],!h){":"===d.charAt(0)&&":"===d.charAt(1)&&(q=!0,d=d.substring(2));var t=g?p:n,u=new oe(t),v=new pe(u,c,t);h=v.parse(d),h.constant?h.$$watchDelegate=l:q?(h=e(h),h.$$watchDelegate=h.literal?k:j):h.inputs&&(h.$$watchDelegate=i),s[r]=h}return m(h,f);case"function":return m(d,f);default:return m(o,f)}}}]}function Rb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Tb(function(b){a.$evalAsync(b)},b)}]}function Sb(){this.$get=["$browser","$exceptionHandler",function(a,b){return Tb(function(b){a.defer(b)},b)}]}function Tb(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{x(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function l(a){var b=new k,c=0,d=ld(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){return new k};g.prototype={then:function(a,b,c){var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}},k.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(t(a)||x(a))&&(c=a&&a.then),x(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(x(a)?a(c):c)}catch(h){b(h)}}})}};var o=function(a){var b=new k;return b.reject(a),b.promise},p=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{x(c)&&(d=c())}catch(e){return p(e,!1)}return F(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},s=function u(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!x(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof u))return new u(a);var d=new k;return a(b,c),d.promise};return s.defer=n,s.reject=o,s.when=r,s.all=l,s}function Ub(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Vb(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=j(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,i,k,l){function m(a){a.currentScope.$$destroyed=!0}function n(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function p(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function v(){for(;B.length;)try{B.shift()()}catch(a){i(a)}h=null}function w(){null===h&&(h=l.defer(function(){y.$apply(v)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",m),d},$watch:function(a,b,c){var d=k(a);if(d.$$watchDelegate)return d.$$watchDelegate(this,b,c,d);var e=this,f=e.$$watchers,h={fn:b,last:u,get:d,exp:a,eq:!!c};return g=null,x(b)||(h.fn=o),f||(f=e.$$watchers=[]),f.unshift(h),function(){J(f,h),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!r(f)){if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)f.hasOwnProperty(c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)f.hasOwnProperty(c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),j)if(t(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Xc.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,j=b.length>1,l=0,m=k(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,d,e,f,j,k,m,n,o,r,s=b,t=this,w=[];p("$digest"),l.$$checkUrlChange(),this===y&&null!==h&&(l.defer.cancel(h),v()),g=null;do{for(k=!1,n=t;z.length;){try{r=z.shift(),r.scope.$eval(r.expression,r.locals)}catch(B){i(B)}g=null}a:do{if(f=n.$$watchers)for(j=f.length;j--;)try{if(a=f[j])if((d=a.get(n))===(e=a.last)||(a.eq?M(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){k=!1;break a}}else k=!0,g=a,a.last=a.eq?K(d,null):d,a.fn(d,e===u?d:e,n),5>s&&(o=4-s,w[o]||(w[o]=[]),w[o].push({msg:x(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(B){i(B)}if(!(m=n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(m=n.$$nextSibling);)n=n.$parent}while(n=m);if((k||z.length)&&!s--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,w)}while(k||z.length);for(q();A.length;)try{A.shift()()}catch(B){i(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o,this.$on=this.$watch=this.$watchGroup=function(){return o},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return k(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||l.defer(function(){z.length&&y.$digest()}),z.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){i(b)}finally{q();try{y.$digest()}catch(b){throw i(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&B.push(b),w()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,j={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=N([j],arguments,1);do{for(c=g.$$listeners[a]||f,j.currentScope=g,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){i(l)}else c.splice(d,1),d--,e--;if(h)return j.currentScope=null,j;g=g.$parent}while(g);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;for(var g,h,j,k=N([f],arguments,1);d=e;){for(f.currentScope=d,g=d.$$listeners[a]||[],h=0,j=g.length;j>h;h++)if(g[h])try{g[h].apply(null,k)}catch(l){i(l)}else g.splice(h,1),h--,j--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return f.currentScope=null,f}};var y=new n,z=y.$$asyncQueue=[],A=y.$$postDigestQueue=[],B=y.$$applyAsyncQueue=[];return y}]}function Wb(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=dc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Xb(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw te("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=nd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw te("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Yb(a){var b=[];return s(a)&&f(a,function(a){b.push(Xb(a))}),b}function Zb(){this.SCE_CONTEXTS=ue;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Yb(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Yb(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?ec(b):!!a.exec(b.href)}function f(c){var d,f,g=dc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw te("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw te("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===ue.RESOURCE_URL){if(f(b))return b;throw te("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===ue.HTML)return k(b);throw te("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw te("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[ue.HTML]=g(l),m[ue.CSS]=g(l),m[ue.URL]=g(l),m[ue.JS]=g(l),m[ue.RESOURCE_URL]=g(m[ue.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function $b(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>_c)throw te("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=L(ue);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=p),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(ue,function(a,b){var c=Wc(b);d[pa("parse_as_"+c)]=function(b){return e(a,b)},d[pa("get_trusted_"+c)]=function(b){return g(a,b)},d[pa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function _b(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(Wc((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var n in j)if(d=i.exec(n)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=u(h.body.style.webkitTransition),l=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=_c)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:od(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function ac(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){function g(a){if(!f)throw Wd("tpload","Failed to load template: {0}",e);return c.reject(a)}d.totalPendingRequests++;var h=b.defaults&&b.defaults.transformResponse;ld(h)?h=h.filter(function(a){return a!==eb}):h===eb&&(h=null);var i={cache:a,transformResponse:h};return b.get(e,i)["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},g)}return d.totalPendingRequests=0,d}]}function bc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=id.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+nd(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function cc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){var j,k=s(i)&&!i,l=(k?d:c).defer(),m=l.promise;return j=b.defer(function(){try{l.resolve(f())}catch(b){l.reject(b),e(b)}finally{delete g[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=j,g[j]=l,m}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function dc(a){var b=a;return _c&&(ve.setAttribute("href",b),b=ve.href),ve.setAttribute("href",b),{href:ve.href,protocol:ve.protocol?ve.protocol.replace(/:$/,""):"",host:ve.host,search:ve.search?ve.search.replace(/^\?/,""):"",hash:ve.hash?ve.hash.replace(/^#/,""):"",hostname:ve.hostname,port:ve.port,pathname:"/"===ve.pathname.charAt(0)?ve.pathname:"/"+ve.pathname}}function ec(a){var b=u(a)?dc(a):a;return b.protocol===we.protocol&&b.host===we.host}function fc(){this.$get=q(a)}function gc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",kc),b("date",xc),b("filter",hc),b("json",yc),b("limitTo",zc),b("lowercase",Be),b("number",lc),b("orderBy",Ac),b("uppercase",Ce)}function hc(){return function(a,b,c){if(!ld(a))return a;var d,e;switch(typeof b){case"function":d=b;break;case"boolean":case"number":case"string":e=!0;case"object":d=ic(b,c,e);break;default:return a}return a.filter(d)}}function ic(a,b,c){var d,e=t(a)&&"$"in a;return b===!0?b=M:x(b)||(b=function(a,b){return t(a)||t(b)?!1:(a=Wc(""+a),b=Wc(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!t(d)?jc(d,a.$,b,!1):jc(d,a,b,c)}}function jc(a,b,c,d,e){var f=null!==a?typeof a:"null",g=null!==b?typeof b:"null";if("string"===g&&"!"===b.charAt(0))return!jc(a,b.substring(1),c,d);if(ld(a))return a.some(function(a){return jc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&jc(a[h],b,c,!0))return!0;return e?!1:jc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!x(i)&&!r(i)){var j="$"===h,k=j?a:a[h];if(!jc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function kc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:mc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function lc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:mc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function mc(a,b,c,d,e){if(!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?a=0:(h=g,j=!0)}if(j)e>0&&1>a&&(h=a.toFixed(e),a=parseFloat(h));else{var l=(g.split(xe)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(xe),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return 0===a&&(f=!1),i.push(f?b.negPre:b.posPre,h,f?b.negSuf:b.posSuf),i.join("")}function nc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function oc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),nc(f,b,d)}}function pc(a,b){return function(c,d){var e=c["get"+a](),f=Yc(b?"SHORT"+a:a);return d[f][e]}}function qc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=nc(Math[b>0?"floor":"ceil"](b/60),2)+nc(Math.abs(b%60),2)}function rc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function sc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function tc(a){return function(b){var c=rc(b.getFullYear()),d=sc(b),e=+d-+c,f=1+Math.round(e/6048e5);return nc(f,a)}}function uc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function vc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function wc(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function xc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=Ae.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)h=ze.exec(d),h?(j=N(j,h,1),d=j.pop()):(j.push(d),d=null);return e&&"UTC"===e&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset())),f(j,function(b){g=ye[b],i+=g?g(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function yc(){return function(a,b){return r(b)&&(b=2),R(a,b)}}function zc(){return function(a,b){return v(a)&&(a=a.toString()),ld(a)||u(a)?(b=Math.abs(Number(b))===1/0?Number(b):m(b),b?b>0?a.slice(0,b):a.slice(b):u(a)?"":[]):a}}function Ac(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return b?function(b,c){return a(c,b)}:a}function h(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function i(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),h(a))?a:"function"==typeof a.toString&&(a=a.toString(),h(a))?a:""}function j(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=i(a),b=i(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=ld(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||p;if(u(b)){if("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(j,c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return j(a[e],b[e])},c)}}return g(function(a,b){return j(d(a),d(b))},c)}),dd.call(b).sort(g(f,d))):b}}function Bc(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Cc(a,b){a.$name=b}function Dc(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||Fe;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){ga(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),J(i,a)},Sc({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(J(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,of),e.addClass(a,pf),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,of,pf+" "+Ge),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Ge),h.$submitted=!0,j.$setSubmitted()}}function Ec(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Fc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d)}function Gc(a,b,c,d,e,f){var g=Wc(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=md(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Hc(a,b){if(w(a))return a;if(u(a)){Qe.lastIndex=0;var c=Qe.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=rc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function Ic(a,b){return function(c,d){var e,g;if(w(c))return c;if(u(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Ke.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function Jc(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return s(a)?w(a)?a:d(a):c}Kc(f,g,h,i),Gc(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return"UTC"===p&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return c}),i.$formatters.push(function(a){if(a&&!w(a))throw tf("datefmt","Expected `{0}` to be a date",a);if(m(a)){if(o=a,o&&"UTC"===p){var b=6e4*o.getTimezoneOffset();o=new Date(o.getTime()+b)}return l("date")(a,e,p)}return o=null,""}),s(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||r(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(s(h.max)||h.ngMax){var t;i.$validators.max=function(a){return!m(a)||r(t)||d(a)<=t},h.$observe("max",function(a){t=n(a),i.$validate()})}}}function Kc(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=t(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(Vc)||{};return d.badInput&&!d.typeMismatch?c:a})}function Lc(a,b,d,e,f,g){if(Kc(a,b,d,e),Gc(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Ne.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!v(a))throw tf("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),s(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||r(h)||a>=h},d.$observe("min",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),h=v(a)&&!isNaN(a)?a:c,e.$validate()})}if(s(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||r(i)||i>=a},d.$observe("max",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),i=v(a)&&!isNaN(a)?a:c,e.$validate()})}}function Mc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Le.test(c)}}function Nc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Me.test(c)}}function Oc(a,b,c,d){r(c.name)&&b.attr("name",j());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function Pc(a,b,c,e,f){var g;if(s(e)){if(g=a(e),!g.constant)throw d("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,e);return g(b)}return f}function Qc(a,b,c,d,e,f,g,h){var i=Pc(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Pc(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return M(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Rc(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(ld(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),
d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!M(a,o)){var d=e(o);m(d,c)}}else j(c)}o=L(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function Sc(a){function b(a,b,i){b===c?d("$pending",a,i):e("$pending",a,i),E(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(sf,!0),h.$valid=h.$invalid=c,g("",null)):(f(sf,!1),h.$valid=Tc(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),m.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),Tc(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(n.addClass(i,a),j[a]=!0):!b&&j[a]&&(n.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ca(a,"-"):"",f(mf+a,b===!0),f(nf+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.parentForm,n=a.$animate;j[nf]=!(j[mf]=i.hasClass(mf)),h.$setValidity=b}function Tc(a){if(a)for(var b in a)return!1;return!0}var Uc=/^\/(.+)\/([a-z]*)$/,Vc="validity",Wc=function(a){return u(a)?a.toLowerCase():a},Xc=Object.prototype.hasOwnProperty,Yc=function(a){return u(a)?a.toUpperCase():a},Zc=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},$c=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Wc=Zc,Yc=$c);var _c,ad,bd,cd,dd=[].slice,ed=[].splice,fd=[].push,gd=Object.prototype.toString,hd=d("ng"),id=a.angular||(a.angular={}),jd=0;_c=b.documentMode,o.$inject=[],p.$inject=[];var kd,ld=Array.isArray,md=function(a){return u(a)?a.trim():a},nd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},od=function(){if(s(od.isActive_))return od.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return od.isActive_=a},pd=["ng-","data-ng-","ng:","x-ng-"],qd=/[A-Z]/g,rd=!1,sd=1,td=3,ud=8,vd=9,wd=11,xd={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};ua.expando="ng339";var yd=ua.cache={},zd=1,Ad=function(a,b,c){a.addEventListener(b,c,!1)},Bd=function(a,b,c){a.removeEventListener(b,c,!1)};ua._data=function(a){return this.cache[a[this.expando]]||{}};var Cd=/([\:\-\_]+(.))/g,Dd=/^moz([A-Z])/,Ed={mouseleave:"mouseout",mouseenter:"mouseover"},Fd=d("jqLite"),Gd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hd=/<|&#?\w+;/,Id=/<([\w:]+)/,Jd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kd.optgroup=Kd.option,Kd.tbody=Kd.tfoot=Kd.colgroup=Kd.caption=Kd.thead,Kd.th=Kd.td;var Ld=ua.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ua(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return ad(a>=0?this[a]:this[this.length+a])},length:0,push:fd,sort:[].sort,splice:[].splice},Md={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Md[Wc(a)]=a});var Nd={};f("input,select,option,textarea,button,form,details".split(","),function(a){Nd[a]=!0});var Od={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Aa,removeData:ya},function(a,b){ua[b]=a}),f({data:Aa,inheritedData:Ga,scope:function(a){return ad.data(a,"$scope")||Ga(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return ad.data(a,"$isolateScope")||ad.data(a,"$isolateScopeNoTemplate")},controller:Fa,injector:function(a){return Ga(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ba,css:function(a,b,c){return b=pa(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=Wc(b);if(Md[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===sd||c===td?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===I(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(wa(a,!0),void(a.innerHTML=b))},empty:Ha},function(a,b){ua.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Ha&&(2==a.length&&a!==Ba&&a!==Fa?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===Aa)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:ya,on:function Uf(a,b,c,d){if(s(d))throw Fd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ra(a)){var e=za(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Ma(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Uf(a,Ed[b],function(a){var c=this,d=a.relatedTarget;d&&(d===c||c.contains(d))||g(a,b)}):"$destroy"!==b&&Ad(a,b,g),j=f[b]),j.push(c)}}},off:xa,one:function(a,b,c){a=ad(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;wa(a),f(new ua(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===sd&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===sd||c===wd){b=new ua(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===sd){var c=a.firstChild;f(new ua(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=ad(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Ia,detach:function(a){Ia(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new ua(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Da,removeClass:Ca,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!Ba(a,b)),(d?Da:Ca)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==wd?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:va,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=za(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=L(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){ua.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=ad(e))):Ea(e,a(this[f],b,c,d));return s(e)?e:this},ua.prototype.bind=ua.prototype.on,ua.prototype.unbind=ua.prototype.off}),Pa.prototype={put:function(a,b){this[Oa(a,this.nextUid)]=b},get:function(a){return this[Oa(a,this.nextUid)]},remove:function(a){var b=this[a=Oa(a,this.nextUid)];return delete this[a],b}};var Pd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qd=/,/,Rd=/^\s*(_?)(\S+?)\1\s*$/,Sd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Td=d("$injector");Sa.$$annotate=Ra;var Ud=d("$animate"),Vd=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Ud("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,b,c){function d(b){var d,e=a.defer();return e.promise.$$cancelFn=function(){d&&d()},c.$$postDigest(function(){d=b(function(){e.resolve()})}),e.promise}function e(a,b){var c=[],d=[],e=ja();return f((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0}),f(b,function(a,b){var f=e[b];a===!1&&f?d.push(b):a!==!0||f||c.push(b)}),c.length+d.length>0&&[c.length?c:null,d.length?d:null]}function g(a,b,c){for(var d=0,e=b.length;e>d;++d){var f=b[d];a[f]=c}}function h(){return j||(j=a.defer(),b(function(){j.resolve(),j=null})),j.promise}function i(a,b){if(id.isObject(b)){var c=l(b.from||{},b.to||{});a.css(c)}}var j;return{animate:function(a,b,c){return i(a,{from:b,to:c}),h()},enter:function(a,b,c,d){return i(a,d),c?c.after(a):b.prepend(a),h()},leave:function(a,b){return i(a,b),a.remove(),h()},move:function(a,b,c,d){return this.enter(a,b,c,d)},addClass:function(a,b,c){return this.setClass(a,b,[],c)},$$addClassImmediately:function(a,b,c){return a=ad(a),b=u(b)?b:ld(b)?b.join(" "):"",f(a,function(a){Da(a,b)}),i(a,c),h()},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},$$removeClassImmediately:function(a,b,c){return a=ad(a),b=u(b)?b:ld(b)?b.join(" "):"",f(a,function(a){Ca(a,b)}),i(a,c),h()},setClass:function(a,b,c,f){var h=this,i="$$animateClasses",j=!1;a=ad(a);var k=a.data(i);k?f&&k.options&&(k.options=id.extend(k.options||{},f)):(k={classes:{},options:f},j=!0);var l=k.classes;return b=ld(b)?b:b.split(" "),c=ld(c)?c:c.split(" "),g(l,b,!0),g(l,c,!1),j&&(k.promise=d(function(b){var c=a.data(i);if(a.removeData(i),c){var d=e(a,c.classes);d&&h.$$setClassImmediately(a,d[0],d[1],c.options)}b()}),a.data(i,k)),k.promise},$$setClassImmediately:function(a,b,c,d){return b&&this.$$addClassImmediately(a,b),c&&this.$$removeClassImmediately(a,c),i(a,d),h()},enabled:o,cancel:o}}]}],Wd=d("$compile");Za.$inject=["$provide","$$sanitizeUriProvider"];var Xd=/^((?:x|data)[\:\-_])/i,Yd=d("$controller"),Zd="application/json",$d={"Content-Type":Zd+";charset=utf-8"},_d=/^\[|^\{(?!\{)/,ae={"[":/]$/,"{":/}$/},be=/^\)\]\}',?\n/,ce=d("$interpolate"),de=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ee={http:80,https:443,ftp:21},fe=d("$location"),ge={$$html5:!1,$$replace:!1,absUrl:Cb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=de.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Cb("$$protocol"),host:Cb("$$host"),port:Cb("$$port"),path:Db("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a)||v(a))a=a.toString(),this.$$search=V(a);else{if(!t(a))throw fe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=K(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Db("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Bb,Ab,zb],function(a){a.prototype=Object.create(ge),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==zb||!this.$$html5)throw fe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var he=d("$parse"),ie=Function.prototype.call,je=Function.prototype.apply,ke=Function.prototype.bind,le=ja();f({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,b){a.constant=a.literal=a.sharedGetter=!0,le[b]=a}),le["this"]=function(a){return a},le["this"].sharedGetter=!0;var me=l(ja(),{"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"!":function(a,b,c){return!c(a,b)},"=":!0,"|":!0}),ne={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},oe=function(a){this.options=a};oe.prototype={constructor:oe,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=me[b],f=me[c],g=me[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||"\x0B"===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw he("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Wc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=ne[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var pe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};pe.ZERO=l(function(){return 0},{sharedGetter:!0,constant:!0}),pe.prototype={constructor:pe,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in le?a=le[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b,c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw he("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw he("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){if(0===this.tokens.length)throw he("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},unaryFn:function(a,b){var c=me[a];return l(function(a,d){return c(a,d,b)},{constant:b.constant,inputs:[b]})},binaryFn:function(a,b,c,d){var e=me[b];return l(function(b,d){return e(b,d,a,c)},{constant:a.constant&&c.constant,inputs:!d&&[a,c]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return Ob(a,this.options,this.text)},constant:function(){var a=this.consume().value;return l(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0,f=a.length;f>e;e++)d=a[e](b,c);return d}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},filter:function(a){var b,d,e=this.$filter(this.consume().text);if(this.peek(":"))for(b=[],d=[];this.expect(":");)b.push(this.expression());var f=[a].concat(b||[]);return l(function(f,g){var h=a(f,g);if(d){d[0]=h;for(var i=b.length;i--;)d[i+1]=b[i](f,g);return e.apply(c,d)}return e(h)},{constant:!e.$stateful&&f.every(Jb),inputs:!e.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),l(function(b,d){return c.assign(b,a(b,d),d)},{inputs:[c,a]})):c},ternary:function(){var a,b,c=this.logicalOR();if((b=this.expect("?"))&&(a=this.assignment(),this.consume(":"))){var d=this.assignment();return l(function(b,e){return c(b,e)?a(b,e):d(b,e)},{constant:c.constant&&a.constant&&d.constant})}return c},logicalOR:function(){for(var a,b=this.logicalAND();a=this.expect("||");)b=this.binaryFn(b,a.text,this.logicalAND(),!0);return b},logicalAND:function(){for(var a,b=this.equality();a=this.expect("&&");)b=this.binaryFn(b,a.text,this.equality(),!0);return b},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b=this.binaryFn(b,a.text,this.relational());return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b=this.binaryFn(b,a.text,this.additive());return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.text,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.text,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(pe.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var b=this.identifier();return l(function(d,e,f){var g=f||a(d,e);return null==g?c:b(g)},{assign:function(c,d,e){var f=a(c,e);return f||a.assign(c,f={},e),b.assign(f,d)}})},objectIndex:function(a){var b=this.text,d=this.expression();return this.consume("]"),l(function(e,f){var g,h=a(e,f),i=d(e,f);return Gb(i,b),h?g=Hb(h[i],b):c},{assign:function(c,e,f){var g=Gb(d(c,f),b),h=Hb(a(c,f),b);return h||a.assign(c,h={},f),h[g]=e}})},functionCall:function(a,b){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var i=b?b(g,h):s(b)?c:g,j=a(g,h,i)||o;if(f)for(var k=d.length;k--;)f[k]=Hb(d[k](g,h),e);Hb(i,e),Ib(j,e);var l=j.apply?j.apply(i,f):j(f[0],f[1],f[2],f[3],f[4]);return f&&(f.length=0),Hb(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e](b,c));return d},{literal:!0,constant:a.every(Jb),inputs:a})},object:function(){var a=[],b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.consume();c.constant?a.push(c.value):c.identifier?a.push(c.text):this.throwError("invalid key",c),this.consume(":"),b.push(this.expression())}while(this.expect(","));return this.consume("}"),l(function(c,d){for(var e={},f=0,g=b.length;g>f;f++)e[a[f]]=b[f](c,d);return e},{literal:!0,constant:b.every(Jb),inputs:b})}};var qe=ja(),re=ja(),se=Object.prototype.valueOf,te=d("$sce"),ue={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wd=d("$compile"),ve=b.createElement("a"),we=dc(a.location.href);gc.$inject=["$provide"],kc.$inject=["$locale"],lc.$inject=["$locale"];var xe=".",ye={yyyy:oc("FullYear",4),yy:oc("FullYear",2,0,!0),y:oc("FullYear",1),MMMM:pc("Month"),MMM:pc("Month",!0),MM:oc("Month",2,1),M:oc("Month",1,1),dd:oc("Date",2),d:oc("Date",1),HH:oc("Hours",2),H:oc("Hours",1),hh:oc("Hours",2,-12),h:oc("Hours",1,-12),mm:oc("Minutes",2),m:oc("Minutes",1),ss:oc("Seconds",2),s:oc("Seconds",1),sss:oc("Milliseconds",3),EEEE:pc("Day"),EEE:pc("Day",!0),a:uc,Z:qc,ww:tc(2),w:tc(1),G:vc,GG:vc,GGG:vc,GGGG:wc},ze=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ae=/^\-?\d+$/;xc.$inject=["$locale"];var Be=q(Wc),Ce=q(Yc);Ac.$inject=["$parse"];var De=q({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref||b.name?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===gd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Ee={};f(Md,function(a,b){if("multiple"!=a){var c=$a("ng-"+b);Ee[c]=function(){return{restrict:"A",priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(Od,function(a,b){Ee[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Uc);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=$a("ng-"+a);Ee[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===gd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(_c&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Fe={$addControl:o,$$renameControl:Cc,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o},Ge="ng-submitted";Dc.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var He=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:Dc,compile:function(d,e){d.addClass(of).addClass(mf);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,d,e,g){if(!("action"in e)){var h=function(b){a.$apply(function(){g.$commitViewValue(),g.$setSubmitted()}),b.preventDefault()};Ad(d[0],"submit",h),d.on("$destroy",function(){b(function(){Bd(d[0],"submit",h)},0,!1)})}var i=g.$$parentForm;f&&(Kb(a,null,g.$name,g,g.$name),e.$observe(f,function(b){g.$name!==b&&(Kb(a,null,g.$name,c,g.$name),i.$$renameControl(g,b),Kb(a,null,g.$name,g,g.$name))})),d.on("$destroy",function(){i.$removeControl(g),f&&Kb(a,null,e[f],c,g.$name),l(g,Fe)})}}}};return d}]},Ie=He(),Je=He(!0),Ke=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Le=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Me=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ne=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Oe=/^(\d{4})-(\d{2})-(\d{2})$/,Pe=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qe=/^(\d{4})-W(\d\d)$/,Re=/^(\d{4})-(\d\d)$/,Se=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Te={text:Fc,date:Jc("date",Oe,Ic(Oe,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Jc("datetimelocal",Pe,Ic(Pe,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Jc("time",Se,Ic(Se,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Jc("week",Qe,Hc,"yyyy-Www"),month:Jc("month",Re,Ic(Re,["yyyy","MM"]),"yyyy-MM"),number:Lc,url:Mc,email:Nc,radio:Oc,checkbox:Qc,hidden:o,button:o,submit:o,reset:o,file:o},Ue=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Te[Wc(g.type)]||Te.text)(e,f,g,h[0],b,a,c,d)}}}}],Ve=/^(true|false|\d+)$/,We=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ve.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Xe=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],Ye=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],Ze=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],$e=q({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),_e=Rc("",!0),af=Rc("Odd",0),bf=Rc("Even",1),cf=Bc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),df=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ef={},ff={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=$a("ng-"+a);ef[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};ff[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var gf=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ia(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],hf=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:id.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,q=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!s(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a;var i=l(b,function(a){q(),c.enter(a,null,f).then(g)});m=b,o=i,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(q(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(q(),k.template=null)})}}}}],jf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(sa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],kf=Bc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),lf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?md(g):g,j=function(a){if(!r(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?md(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return ld(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},mf="ng-valid",nf="ng-invalid",of="ng-pristine",pf="ng-dirty",qf="ng-untouched",rf="ng-touched",sf="ng-pending",tf=new d("ngModel"),uf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var m,n=g(d.ngModel),p=n.assign,q=n,t=p,u=null,w=this;this.$$setOptions=function(a){if(w.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return x(c)&&(c=b(a)),c},t=function(a,b){x(n(a))?c(a,{$$$p:w.$modelValue}):p(a,w.$modelValue)}}else if(!n.assign)throw tf("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,T(e))},this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var y=e.inheritedData("$formController")||Fe,z=0;Sc({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:y,$animate:h}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,h.removeClass(e,pf),h.addClass(e,of)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,h.removeClass(e,of),h.addClass(e,pf),y.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,h.setClass(e,qf,rf)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,h.setClass(e,rf,qf)},this.$rollbackViewValue=function(){i.cancel(u),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!v(w.$modelValue)||!isNaN(w.$modelValue)){var a=w.$$lastCommittedViewValue,b=w.$$rawModelValue,d=w.$valid,e=w.$modelValue,f=w.$options&&w.$options.allowInvalid;w.$$runValidators(b,a,function(a){f||d===a||(w.$modelValue=a?b:c,w.$modelValue!==e&&w.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=w.$$parserName||"parse";return m!==c?(m||(f(w.$validators,function(a,b){i(b,null);
}),f(w.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m):(i(a,null),!0)}function g(){var c=!0;return f(w.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(w.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(w.$asyncValidators,function(f,g){var h=f(a,b);if(!F(h))throw tf("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},o):j(!0)}function i(a,b){l===z&&w.$setValidity(a,b)}function j(a){l===z&&d(a)}z++;var l=z;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=w.$viewValue;i.cancel(u),(w.$$lastCommittedViewValue!==a||""===a&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=a,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){w.$modelValue!==g&&w.$$writeModelToScope()}var d=w.$$lastCommittedViewValue,e=d;if(m=r(e)?c:!0)for(var f=0;f<w.$parsers.length;f++)if(e=w.$parsers[f](e),r(e)){m=!1;break}v(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=q(a));var g=w.$modelValue,h=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=e,h&&(w.$modelValue=e,b()),w.$$runValidators(e,w.$$lastCommittedViewValue,function(a){h||(w.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){t(a,w.$modelValue),f(w.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){w.$viewValue=a,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=w.$options;e&&s(e.debounce)&&(c=e.debounce,v(c)?d=c:v(c[b])?d=c[b]:v(c["default"])&&(d=c["default"])),i.cancel(u),d?u=i(function(){w.$commitViewValue()},d):j.$$phase?w.$commitViewValue():a.$apply(function(){w.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==w.$modelValue){w.$modelValue=w.$$rawModelValue=b,m=c;for(var d=w.$formatters,e=d.length,f=b;e--;)f=d[e](f);w.$viewValue!==f&&(w.$viewValue=w.$$lastCommittedViewValue=f,w.$render(),w.$$runValidators(b,f,o))}return b})}],vf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:uf,priority:1,compile:function(b){return b.addClass(of).addClass(qf).addClass(mf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||Fe;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],wf=/(\s+|^)default(\s+|$)/,xf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=a.$eval(b.ngModelOptions),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=md(this.$options.updateOn.replace(wf,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},yf=Bc({terminal:!0,priority:1e3}),zf=["$locale","$interpolate",function(a,b){var c=/{}/g,d=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(e,g,h){function i(a){g.text(a||"")}var j,k=h.count,l=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,n=e.$eval(l)||{},o={},p=b.startSymbol(),q=b.endSymbol(),r=p+k+"-"+m+q,s=id.noop;f(h,function(a,b){var c=d.exec(b);if(c){var e=(c[1]?"-":"")+Wc(c[2]);n[e]=g.attr(h.$attr[b])}}),f(n,function(a,d){o[d]=b(a.replace(c,r))}),e.$watch(k,function(b){var c=parseFloat(b),d=isNaN(c);d||c in n||(c=a.pluralCat(c-m)),c===j||d&&isNaN(j)||(s(),s=e.$watch(o[c],i),j=c)})}}}],Af=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:Oa};return t?w=a(t):(y=function(a,b){return Oa(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=ja();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=ja();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)d.hasOwnProperty(K)&&"$"!=K.charAt(0)&&E.push(K);E.sort()}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=ia(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(ia(F.clone),null,ad(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,ad(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Bf="ng-hide",Cf="ng-hide-animate",Df=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Bf,{tempClasses:Cf})})}}}],Ef=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Bf,{tempClasses:Cf})})}}}],Ff=Bc(function(a,b,c){a.$watchCollection(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)})}),Gf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=ia(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Hf=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),If=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Jf=Bc({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),Kf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Lf=d("ngOptions"),Mf=q({restrict:"A",terminal:!0}),Nf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b,c){ga(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove()),c&&c[0].hasAttribute("selected")&&(c[0].selected=!0)},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue===a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Oa(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(z.parent()&&z.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Pa(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){M(d,c.$viewValue)||(d=L(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,h,i){function j(a,c,d){return M[B]=d,E&&(M[E]=c),a(b,M)}function k(){b.$apply(function(){var a,c=H(b)||[];if(t)a=[],f(h.val(),function(b){b=J?K[b]:b,a.push(l(b,c[b]))});else{var d=J?K[h.val()]:h.val();a=l(d,c[d])}i.$setViewValue(a),r()})}function l(a,b){if("?"===a)return c;if(""===a)return null;var d=D?D:G;return j(d,a,b)}function m(){var a,c=H(b);if(c&&ld(c)){a=new Array(c.length);for(var d=0,e=c.length;e>d;d++)a[d]=j(A,d,c[d]);return a}if(c){a={};for(var f in c)c.hasOwnProperty(f)&&(a[f]=j(A,f,c[f]))}return a}function n(a){var b;if(t)if(J&&ld(a)){b=new Pa([]);for(var c=0;c<a.length;c++)b.put(j(J,null,a[c]),!0)}else b=new Pa(a);else J&&(a=j(J,null,a));return function(c,d){var e;return e=J?J:D?D:G,t?s(b.remove(j(e,c,d))):a===j(e,c,d)}}function o(){w||(b.$$postDigest(r),w=!0)}function q(a,b,c){a[b]=a[b]||0,a[b]+=c?1:-1}function r(){w=!1;var a,c,d,e,k,l,m,o,r,u,z,B,C,D,G,I,N,O={"":[]},P=[""],Q=i.$viewValue,R=H(b)||[],S=E?g(R):R,T={},U=n(Q),V=!1;for(K={},B=0;u=S.length,u>B;B++)m=B,E&&(m=S[B],"$"===m.charAt(0))||(o=R[m],a=j(F,m,o)||"",(c=O[a])||(c=O[a]=[],P.push(a)),C=U(m,o),V=V||C,I=j(A,m,o),I=s(I)?I:"",N=J?J(b,M):E?S[B]:B,J&&(K[N]=m),c.push({id:N,label:I,selected:C}));for(t||(v||null===Q?O[""].unshift({id:"",label:"",selected:!V}):V||O[""].unshift({id:"?",label:"",selected:!0})),z=0,r=P.length;r>z;z++){for(a=P[z],c=O[a],L.length<=z?(e={element:y.clone().attr("label",a),label:c.label},k=[e],L.push(k),h.append(e.element)):(k=L[z],e=k[0],e.label!=a&&e.element.attr("label",e.label=a)),D=null,B=0,u=c.length;u>B;B++)d=c[B],(l=k[B+1])?(D=l.element,l.label!==d.label&&(q(T,l.label,!1),q(T,d.label,!0),D.text(l.label=d.label),D.prop("label",l.label)),l.id!==d.id&&D.val(l.id=d.id),D[0].selected!==d.selected&&(D.prop("selected",l.selected=d.selected),_c&&D.prop("selected",l.selected))):(""===d.id&&v?G=v:(G=x.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),k.push(l={element:G,label:d.label,id:d.id,selected:d.selected}),q(T,d.label,!0),D?D.after(G):e.element.append(G),D=G);for(B++;k.length>B;)d=k.pop(),q(T,d.label,!1),d.element.remove()}for(;L.length>z;){for(c=L.pop(),B=1;B<c.length;++B)q(T,c[B].label,!1);c[0].element.remove()}f(T,function(a,b){a>0?p.addOption(b):0>a&&p.removeOption(b)})}var z;if(!(z=u.match(e)))throw Lf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(h));var A=d(z[2]||z[1]),B=z[4]||z[6],C=/ as /.test(z[0])&&z[1],D=C?d(C):null,E=z[5],F=d(z[3]||""),G=d(z[2]?z[1]:B),H=d(z[7]),I=z[8],J=I?d(z[8]):null,K={},L=[[{element:h,label:""}]],M={};v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),h.empty(),h.on("change",k),i.$render=r,b.$watchCollection(H,o),b.$watchCollection(m,o),t&&b.$watchCollection(function(){return i.$modelValue},o)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=!1,x=ad(b.createElement("option")),y=ad(b.createElement("optgroup")),z=x.clone(),A=0,B=i.children(),C=B.length;C>A;A++)if(""===B[A].value){o=v=B.eq(A);break}p.init(q,v,z),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],Of=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound||(h=b),e?a.$watch(e,function(a,b){d.$set("value",a),b!==a&&h.removeOption(b),h.addOption(a,c)}):h.addOption(d.value,c),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Pf=q({restrict:"E",terminal:!1}),Qf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Rf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(u(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,T(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||r(g)||g.test(a)}}}}},Sf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=m(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Tf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=m(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(da(),na(id),void ad(b).ready(function(){$(b,_)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return g(b,j(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[],d=j(c,b.noop);return d.chars(a),c.join("")}function f(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),z[d])for(;t.last()&&A[t.last()];)e("",t.last());y[d]&&t.last()==d&&e("",d),g=v[d]||!!g,g||t.push(d);var i={};f.replace(n,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=t.length-1;f>=0&&t[f]!=d;f--);if(f>=0){for(e=t.length-1;e>=f;e--)c.end&&c.end(t[e]);t.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,g,i,j,t=[],u=a;for(t.last=function(){return t[t.length-1]};a;){if(j="",g=!0,t.last()&&C[t.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+t.last()+"[^>]*>","i"),function(a,b){return b=b.replace(q,"$1").replace(s,"$1"),c.chars&&c.chars(h(b)),""}),e("",t.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),g=!1)):r.test(a)?(i=a.match(r),i&&(a=a.replace(i[0],""),g=!1)):p.test(a)?(i=a.match(m),i&&(a=a.substring(i[0].length),i[0].replace(m,e),g=!1)):o.test(a)&&(i=a.match(l),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(l,d)),g=!1):(j+="<",a=a.substring(1))),g&&(f=a.indexOf("<"),j+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(h(j)))),a==u)throw k("badparse","The sanitizer was unable to parse the following block of html: {0}",a);u=a}e()}function h(a){return a?(I.innerHTML=a.replace(/</g,"&lt;"),I.textContent):""}function i(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&C[a]&&(d=a),d||D[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),h="img"===a&&"src"===g||"background"===g;H[g]!==!0||E[g]===!0&&!c(d,h)||(e(" "),e(f),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||D[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var k=b.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,n=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,o=/^</,p=/^<\//,q=/<!--(.*?)-->/g,r=/<!DOCTYPE([^>]*?)>/i,s=/<!\[CDATA\[(.*?)]]>/g,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^\#-~| |!])/g,v=f("area,br,col,hr,img,wbr"),w=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=f("rp,rt"),y=b.extend({},x,w),z=b.extend({},w,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=b.extend({},x,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=f("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),C=f("script,style"),D=b.extend({},v,z,A,y,B),E=f("background,cite,href,longdesc,src,usemap,xlink:href"),F=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),G=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),H=b.extend({},E,G,F),I=document.createElement("pre");b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,d=/^mailto:/;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d){e.directive(a,["$parse","$swipe",function(e,f){var g=75,h=.3,i=30;return function(j,k,l){function m(a){if(!n)return!1;var b=Math.abs(a.y-n.y),d=(a.x-n.x)*c;return o&&g>b&&d>0&&d>i&&h>b/d}var n,o,p=e(l[a]),q=["touch"];b.isDefined(l.ngSwipeDisableMouse)||q.push("mouse"),f.bind(k,{start:function(a,b){n=a,o=!0},cancel:function(a){o=!1},end:function(a,b){m(a)&&j.$apply(function(){k.triggerHandler(d),p(j,{$event:b})})}},q)}}])}var e=b.module("ngTouch",[]);e.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function c(a,c){var d=[];return b.forEach(a,function(a){var b=e[a][c];b&&d.push(b)}),d.join(" ")}var d=10,e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(b,e,f){var g,h,i,j,k=!1;f=f||["mouse","touch"],b.on(c(f,"start"),function(b){i=a(b),k=!0,g=0,h=0,j=i,e.start&&e.start(i,b)});var l=c(f,"cancel");l&&b.on(l,function(a){k=!1,e.cancel&&e.cancel(a)}),b.on(c(f,"move"),function(b){if(k&&i){var c=a(b);if(g+=Math.abs(c.x-j.x),h+=Math.abs(c.y-j.y),j=c,!(d>g&&d>h))return h>g?(k=!1,void(e.cancel&&e.cancel(b))):(b.preventDefault(),void(e.move&&e.move(c,b)))}}),b.on(c(f,"end"),function(b){k&&(k=!1,e.end&&e.end(a(b),b))})}}}]),e.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),e.directive("ngClick",["$parse","$timeout","$rootElement",function(a,c,d){function e(a,b,c,d){return Math.abs(a-c)<p&&Math.abs(b-d)<p}function f(a,b,c){for(var d=0;d<a.length;d+=2)if(e(a[d],a[d+1],b,c))return a.splice(d,d+2),!0;return!1}function g(a){if(!(Date.now()-j>o)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,d=b[0].clientY;1>c&&1>d||l&&l[0]===c&&l[1]===d||(l&&(l=null),"label"===a.target.tagName.toLowerCase()&&(l=[c,d]),f(k,c,d)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))}}function h(a){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,e=b[0].clientY;k.push(d,e),c(function(){for(var a=0;a<k.length;a+=2)if(k[a]==d&&k[a+1]==e)return void k.splice(a,a+2)},o,!1)}function i(a,b){k||(d[0].addEventListener("click",g,!0),d[0].addEventListener("touchstart",h,!0),k=[]),j=Date.now(),f(k,a,b)}var j,k,l,m=750,n=12,o=2500,p=25,q="ng-click-active";return function(c,d,e){function f(){o=!1,d.removeClass(q)}var g,h,j,k,l=a(e.ngClick),o=!1;d.on("touchstart",function(a){o=!0,g=a.target?a.target:a.srcElement,3==g.nodeType&&(g=g.parentNode),d.addClass(q),h=Date.now();var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].originalEvent||b[0];j=c.clientX,k=c.clientY}),d.on("touchmove",function(a){f()}),d.on("touchcancel",function(a){f()}),d.on("touchend",function(a){var c=Date.now()-h,l=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],p=l[0].originalEvent||l[0],q=p.clientX,r=p.clientY,s=Math.sqrt(Math.pow(q-j,2)+Math.pow(r-k,2));o&&m>c&&n>s&&(i(q,r),g&&g.blur(),b.isDefined(e.disabled)&&e.disabled!==!1||d.triggerHandler("click",[a])),f()}),d.onclick=function(a){},d.on("click",function(a,b){c.$apply(function(){l(c,{$event:b||a})})}),d.on("mousedown",function(a){d.addClass(q)}),d.on("mousemove mouseup",function(a){d.removeClass(q)})}}]),d("ngSwipeLeft",-1,"swipeleft"),d("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("respond",[]).factory("Respond",["$rootScope","$window","$timeout",function(a,b,c){"use strict";function d(a){function b(a){h.push(parseInt(a,10)),h.sort(function(a,b){return b-a})}angular.isArray(a)?angular.forEach(a,function(a){b(a)}):b(a),e()}function e(){for(var c=0,d=0;d<h.length;d++)if(b.innerWidth>=h[d]){c=h[d];break}if(c!==i){var e=i;i=c,a.$broadcast("breakpoint",e,i,h)}}function f(){return i}function g(){return h}var h=[],i=null,j=null;return angular.element(b).bind("resize",function(){j||(j=!0,c(function(){e(),j=!1},100))}),{addBreakpoint:d,getCurrentBreakpoint:f,getBreakpoints:g}}]).directive("respondClass",["$rootScope","Respond",function(a,b){"use strict";return{restrict:"A",link:function(c,d,e){var f=c.$eval(e.respondClass),g=[];a.$on("breakpoint",function(a,b,c){-1!==g.indexOf(b)&&d.removeClass(f[b]),-1!==g.indexOf(c)&&d.addClass(f[c])}),angular.forEach(f,function(a,b){g.push(parseInt(b,10))}),b.addBreakpoint(g)}}}]),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else{if(!angular.isFunction(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");a=b[d](a,c)}}),a},i=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||i(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return h(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=0,C=!0,D="default",E={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},F="2.7.2",G=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};G.displayName="angular-translate/service: getFirstBrowserLanguage";var H=function(){var a=G()||"";return E[D]&&(a=E[D](a)),a};H.displayName="angular-translate/service: getLocale";var I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(I(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],I(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&I(b,angular.lowercase(k[0]))>-1)return k[0]}return a},L=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],M(b));return this};this.translations=L,this.cloakClassName=function(a){return a?(x=a,this):x};var M=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?M(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};M.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return N(a),this};var N=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return O(a),this};var O=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&I(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var P=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=P,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},D=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():H();
return e=u.length?K(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?B:(B=a,this)},this.statefulFilter=function(a){return void 0===a?C:(C=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,A=b.get(n||"$translateDefaultInterpolation"),D=!1,E={},G={},H=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return H(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=J.apply(a));var n=function(){var a=e?G[e]:G[i];if(l=0,k&&!a){var b=f.get(v);if(a=G[b],g&&g.length){var c=I(g,b);l=0===c?1:0,I(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){aa(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else aa(a,b,c,h).then(m.resolve,m.reject);return m.promise},Q=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},R=function(a){i=a,c.$emit("$translateChangeSuccess",{language:a}),k&&f.put(H.storageKey(),i),A.setLocale(i);var b=function(a,b){E[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(E,b),c.$emit("$translateChangeEnd",{language:a})},S=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),D=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,M(a))}):angular.extend(d,M(b)),D=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var T=function(a){var c=b.get(a);c.setLocale(e||i),E[c.getInterpolationIdentifier()]=c};T.displayName="interpolationFactoryAdder",angular.forEach(w,T)}var U=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(G[a]){var c=function(a){L(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",G[a].then(c,b.reject)}else b.reject();return b.promise},V=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?V(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",U(a).then(g,f.reject),f.promise},W=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return W(a,e.substr(2),c,d);d.setLocale(i)}return e},X=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},Y=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];V(i,b,c,e).then(h.resolve,function(){Y(a+1,b,c,e,f).then(h.resolve)})}else f?h.resolve(f):h.resolve(X(b,c));return h.promise},Z=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=W(f,b,c,d),e||(e=Z(a+1,b,c,d))}return e},$=function(a,b,c,d){return Y(u>0?u:l,a,b,c,d)},_=function(a,b,c){return Z(u>0?u:l,a,b,c)},aa=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?E[c]:A;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!D&&(l=X(a,b)),i&&g&&g.length?$(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(Q(a))}):m&&!D&&l?e?f.resolve(e):f.resolve(l):e?f.resolve(e):f.reject(Q(a))}return f.promise},ba=function(a,b,c){var d,e=i?t[i]:t,f=A;if(E&&Object.prototype.hasOwnProperty.call(E,c)&&(f=E[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?ba(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!D&&(j=X(a,b)),i&&g&&g.length?(l=0,d=_(a,b,f)):d=m&&!D&&j?j:Q(a)}return d},ca=function(a){j===a&&(j=void 0),G[a]=void 0};if(H.preferredLanguage=function(a){return a&&N(a),e},H.cloakClassName=function(){return x},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(O(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)G[g[b]]||(G[g[b]]=S(g[b]));H.use(H.use())}return h?g[0]:g},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(g,a);b>-1&&(u=b)}else u=0},H.proposedLanguage=function(){return j},H.storage=function(){return f},H.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=K(a);return e&&(a=e),!z&&t[a]||!o||G[a]?j===a&&G[a]?G[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),R(a)):(j=a,G[a]=S(a).then(function(a){return L(a.key,a.table),b.resolve(a.key),R(a.key),a},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),G[a]["finally"](function(){ca(a)})),b.promise},H.storageKey=function(){return P()},H.isPostCompilingEnabled=function(){return y},H.isForceAsyncReloadEnabled=function(){return z},H.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){L(c.key,c.table),a===i&&R(i),b()};h.displayName="refreshPostProcessor",S(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(S(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(S(i));var n=function(a){t={},angular.forEach(a,function(a){L(a.key,a.table)}),i&&R(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},H.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=H.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=J.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=ba(a,b,c):(q||r)&&(j=Q(a))),"undefined"!=typeof j)break}return j||""===j||(j=A.interpolate(a,b),m&&!D&&(j=X(a,b))),j},H.versionInfo=function(){return F},H.loaderCache=function(){return s},H.directivePriority=function(){return B},H.statefulFilter=function(){return C},o&&(angular.equals(t,{})&&H.use(H.use()),g&&g.length))for(var da=function(a){return L(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},ea=0,fa=g.length;fa>ea;ea++){var ga=g[ea];!z&&t[ga]||(G[ga]=S(ga).then(da))}return H}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,f){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,h){var i=h.translateValues?h.translateValues:void 0,j=h.translateInterpolation?h.translateInterpolation:void 0,k=b[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",m="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,n,o){b.interpolateParams={},b.preText="",b.postText="";var p={},q=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),k)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},r=function(a){if(angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=g.apply(n.text()).match(l);if(angular.isArray(d)){b.preText=d[1],b.postText=d[3],p.translate=c(d[2])(b.$parent);var e=n.text().match(m);angular.isArray(e)&&e[2]&&e[2].length&&(r._unwatchOld=b.$watch(e[2],function(a){p.translate=a,x()}))}else p.translate=n.text().replace(/^\s+|\s+$/g,"")}else p.translate=a;x()},s=function(a){o.$observe(a,function(b){p[a]=b,x()})};q(b.interpolateParams,o,h);var t=!0;o.$observe("translate",function(a){"undefined"==typeof a?r(""):""===a&&t||(p.translate=a,x()),t=!1});for(var u in o)o.hasOwnProperty(u)&&"translateAttr"===u.substr(0,13)&&s(u);if(o.$observe("translateDefault",function(a){b.defaultText=a}),i&&o.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),k){var v=function(a){o.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&v(w)}var x=function(){for(var a in p)p.hasOwnProperty(a)&&void 0!==p[a]&&y(a,p[a],b,b.interpolateParams,b.defaultText)},y=function(b,c,d,e,f){c?a(c,e,j,f).then(function(a){z(a,d,!0,b)},function(a){z(a,d,!1,b)}):z(c,d,!1,b)},z=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),n.html(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),i="undefined"!=typeof h.translateCompile,j=i&&"false"!==h.translateCompile;(g&&!i||j)&&d(n.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=o.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),n.attr(k,b)}};(i||k||o.translateDefault)&&b.$watch("interpolateParams",x,!0);var A=f.$on("$translateChangeSuccess",x);n.text().length?r(o.translate?o.translate:""):o.translate&&r(o.translate),x(),b.$on("$destroy",A)}}}}function f(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(b.cloakClassName())},e=function(){c.removeClass(b.cloakClassName())},f=a.$on("$translateChangeEnd",function(){e(),f(),f=null});return d(),function(a,c,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(a){b(a).then(e,d)})}}}}function g(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function h(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.$inject=["$rootScope","$translate"],f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",g),g.$inject=["$parse","$translate"],g.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.$inject=["$cacheFactory"],h.displayName="$translationCache","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a,b,c){"use strict";var d={},e=b.get(c),f=new MessageFormat("en"),g="messageformat";return e||(e=b(c)),e.put("en",f),d.setLocale=function(a){f=e.get(a),f||(f=new MessageFormat(a),e.put(a,f))},d.getInterpolationIdentifier=function(){return g},d.useSanitizeValueStrategy=function(b){return a.useStrategy(b),this},d.interpolate=function(b,c){c=c||{},c=a.sanitize(c,"params");var d=e.get(b+angular.toJson(c));if(!d){for(var g in c)if(c.hasOwnProperty(g)){var h=parseInt(c[g],10);angular.isNumber(h)&&""+h===c[g]&&(c[g]=h)}d=f.compile(b)(c),d=a.sanitize(d,"text"),e.put(b+angular.toJson(c),d)}return d},d}return angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").factory("$translateMessageFormatInterpolation",a),a.$inject=["$translateSanitization","$cacheFactory","TRANSLATE_MF_INTERPOLATION_CACHE"],a.displayName="$translateMessageFormatInterpolation","pascalprecht.translate"}),function(a){function b(a,c,d){var e=a||"en";if(c)b.locale[e]=c;else{for(;e&&!b.locale.hasOwnProperty(e);)e=e.replace(/[-_]?[^-_]*$/,"");e||(e=a.replace(/[-_].*$/,""),b.loadLocale(e))}this.lc=e,this.globalName=d||"i18n"}"locale"in b||(b.locale={}),b.loadLocale=function(a){try{var c=require("path").join(__dirname,"locale",a+".js"),d=(""+require("fs").readFileSync(c)).match(/{[^]*}/);if(!d)throw"no function found in file '"+c+"'";b.locale[a]="function(n)"+d}catch(e){if("en"!=a)throw e.message="Locale "+a+" could not be loaded: "+e.message,e;b.locale[a]='function(n){return n===1?"one":"other"}'}},b.prototype.functions=function(){var a=[];for(var c in b.locale)b.locale.hasOwnProperty(c)&&a.push(JSON.stringify(c)+":"+b.locale[c].toString().trim());return"{lc:{"+a.join(",")+'},\nc:function(d,k){if(!d)throw new Error("MessageFormat: Data required for \'"+k+"\'.")},\nn:function(d,k,o){if(isNaN(d[k]))throw new Error("MessageFormat: \'"+k+"\' isn\'t a number.");return d[k]-(o||0)},\nv:function(d,k){'+this.globalName+".c(d,k);return d[k]},\np:function(d,k,o,l,p){"+this.globalName+".c(d,k);return d[k] in p?p[d[k]]:(k="+this.globalName+".lc[l](d[k]-o),k in p?p[k]:p.other)},\ns:function(d,k,p){"+this.globalName+".c(d,k);return d[k] in p?p[d[k]]:p.other}}"};var c=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Na!==b&&(Na>b&&(Na=0,Oa={line:1,column:1,seenCR:!1}),c(Oa,Na,b),Na=b),Oa}function d(a){Pa>La||(La>Pa&&(Pa=La,Qa=[]),Qa.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a,b;return a=La,b=g(),b!==B&&(Ma=a,b=E(b)),a=b}function g(){var a,b,c,d;if(a=La,b=r(),b!==B){for(c=[],d=h();d!==B;)c.push(d),d=h();c!==B?(Ma=a,b=G(b,c),a=b):(La=a,a=F)}else La=a,a=F;return a}function h(){var b,c,e,f,g,h,j;return b=La,123===a.charCodeAt(La)?(c=H,La++):(c=B,0===Ra&&d(I)),c!==B?(e=x(),e!==B?(f=i(),f!==B?(g=x(),g!==B?(125===a.charCodeAt(La)?(h=J,La++):(h=B,0===Ra&&d(K)),h!==B?(j=r(),j!==B?(Ma=b,c=L(f,j),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F),b}function i(){var b,c,e,f,g;return b=La,c=s(),c!==B?(e=La,44===a.charCodeAt(La)?(f=N,La++):(f=B,0===Ra&&d(O)),f!==B?(g=j(),g!==B?(f=[f,g],e=f):(La=e,e=F)):(La=e,e=F),e===B&&(e=M),e!==B?(Ma=b,c=P(c,e),b=c):(La=b,b=F)):(La=b,b=F),b}function j(){var b,c,e,f,g,h,i,j;return b=La,c=x(),c!==B?(a.substr(La,6)===Q?(e=Q,La+=6):(e=B,0===Ra&&d(R)),e!==B?(f=x(),f!==B?(44===a.charCodeAt(La)?(g=N,La++):(g=B,0===Ra&&d(O)),g!==B?(h=x(),h!==B?(i=k(),i!==B?(j=x(),j!==B?(Ma=b,c=S(e,i),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F),b===B&&(b=La,c=x(),c!==B?(a.substr(La,6)===T?(e=T,La+=6):(e=B,0===Ra&&d(U)),e!==B?(f=x(),f!==B?(44===a.charCodeAt(La)?(g=N,La++):(g=B,0===Ra&&d(O)),g!==B?(h=x(),h!==B?(i=l(),i!==B?(j=x(),j!==B?(Ma=b,c=S(e,i),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)),b}function k(){var a,b;return a=La,b=m(),b!==B&&(Ma=a,b=V(b)),a=b}function l(){var a,b;return a=La,b=o(),b!==B&&(Ma=a,b=W(b)),a=b}function m(){var a,b,c,d;if(a=La,b=n(),b===B&&(b=M),b!==B){for(c=[],d=p();d!==B;)c.push(d),d=p();c!==B?(Ma=a,b=X(b,c),a=b):(La=a,a=F)}else La=a,a=F;return a}function n(){var b,c,e,f,g,h,i,j;return b=La,c=x(),c!==B?(a.substr(La,6)===Y?(e=Y,La+=6):(e=B,0===Ra&&d(Z)),e!==B?(f=x(),f!==B?(58===a.charCodeAt(La)?(g=$,La++):(g=B,0===Ra&&d(_)),g!==B?(h=x(),h!==B?(i=v(),i!==B?(j=x(),j!==B?(Ma=b,c=aa(i),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F),b}function o(){var a,b,c;for(a=La,b=[],c=p();c!==B;)b.push(c),c=p();return b!==B&&(Ma=a,b=ba(b)),a=b}function p(){var b,c,e,f,h,i,j,k,l;return b=La,c=x(),c!==B?(e=q(),e!==B?(f=x(),f!==B?(123===a.charCodeAt(La)?(h=H,La++):(h=B,0===Ra&&d(I)),h!==B?(i=x(),i!==B?(j=g(),j!==B?(k=x(),k!==B?(125===a.charCodeAt(La)?(l=J,La++):(l=B,0===Ra&&d(K)),l!==B?(Ma=b,c=ca(e,j),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F),b}function q(){var b,c,e;return b=La,c=s(),c!==B&&(Ma=b,c=da(c)),b=c,b===B&&(b=La,61===a.charCodeAt(La)?(c=ea,La++):(c=B,0===Ra&&d(fa)),c!==B?(e=v(),e!==B?(Ma=b,c=aa(e),b=c):(La=b,b=F)):(La=b,b=F)),b}function r(){var a,b,c,d,e,f,g;if(a=La,b=x(),b!==B){for(c=[],d=La,e=x(),e!==B?(f=t(),f!==B?(g=x(),g!==B?(e=[e,f,g],d=e):(La=d,d=F)):(La=d,d=F)):(La=d,d=F);d!==B;)c.push(d),d=La,e=x(),e!==B?(f=t(),f!==B?(g=x(),g!==B?(e=[e,f,g],d=e):(La=d,d=F)):(La=d,d=F)):(La=d,d=F);c!==B?(Ma=a,b=ga(b,c),a=b):(La=a,a=F)}else La=a,a=F;return a}function s(){var b,c,e,f,g;if(b=La,c=x(),c!==B)if(ha.test(a.charAt(La))?(e=a.charAt(La),La++):(e=B,0===Ra&&d(ia)),e!==B){for(f=[],ja.test(a.charAt(La))?(g=a.charAt(La),La++):(g=B,0===Ra&&d(ka));g!==B;)f.push(g),ja.test(a.charAt(La))?(g=a.charAt(La),La++):(g=B,0===Ra&&d(ka));f!==B?(g=x(),g!==B?(Ma=b,c=la(e,f),b=c):(La=b,b=F)):(La=b,b=F)}else La=b,b=F;else La=b,b=F;return b}function t(){var a,b,c;if(a=La,b=[],c=u(),c!==B)for(;c!==B;)b.push(c),c=u();else b=F;return b!==B&&(Ma=a,b=ma(b)),a=b}function u(){var b,c,e,f,g,h;return b=La,na.test(a.charAt(La))?(c=a.charAt(La),La++):(c=B,0===Ra&&d(oa)),c!==B&&(Ma=b,c=pa(c)),b=c,b===B&&(b=La,a.substr(La,2)===qa?(c=qa,La+=2):(c=B,0===Ra&&d(ra)),c!==B&&(Ma=b,c=sa()),b=c,b===B&&(b=La,a.substr(La,2)===ta?(c=ta,La+=2):(c=B,0===Ra&&d(ua)),c!==B&&(Ma=b,c=va()),b=c,b===B&&(b=La,a.substr(La,2)===wa?(c=wa,La+=2):(c=B,0===Ra&&d(xa)),c!==B&&(Ma=b,c=ya()),b=c,b===B&&(b=La,a.substr(La,2)===za?(c=za,La+=2):(c=B,0===Ra&&d(Aa)),c!==B?(e=w(),e!==B?(f=w(),f!==B?(g=w(),g!==B?(h=w(),h!==B?(Ma=b,c=Ba(e,f,g,h),b=c):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F)):(La=b,b=F))))),b}function v(){var b,c,e;if(b=La,c=[],Ca.test(a.charAt(La))?(e=a.charAt(La),La++):(e=B,0===Ra&&d(Da)),e!==B)for(;e!==B;)c.push(e),Ca.test(a.charAt(La))?(e=a.charAt(La),La++):(e=B,0===Ra&&d(Da));else c=F;return c!==B&&(Ma=b,c=Ea(c)),b=c}function w(){var b;return Fa.test(a.charAt(La))?(b=a.charAt(La),La++):(b=B,0===Ra&&d(Ga)),b}function x(){var a,b,c;for(Ra++,a=La,b=[],c=y();c!==B;)b.push(c),c=y();return b!==B&&(Ma=a,b=Ia(b)),a=b,Ra--,a===B&&(b=B,0===Ra&&d(Ha)),a}function y(){var b;return Ja.test(a.charAt(La))?(b=a.charAt(La),La++):(b=B,0===Ra&&d(Ka)),b}var z,A=arguments.length>1?arguments[1]:{},B={},C={start:f},D=f,E=function(a){return{type:"program",program:a}},F=B,G=function(a,b){var c=[];a&&a.val&&c.push(a);for(var d in b)b.hasOwnProperty(d)&&c.push(b[d]);return{type:"messageFormatPattern",statements:c}},H="{",I={type:"literal",value:"{",description:'"{"'},J="}",K={type:"literal",value:"}",description:'"}"'},L=function(a,b){var c=[];return a&&c.push(a),b&&b.val&&c.push(b),{type:"messageFormatPatternRight",statements:c}},M=null,N=",",O={type:"literal",value:",",description:'","'},P=function(a,b){var c={type:"messageFormatElement",argumentIndex:a};return b&&b.length?c.elementFormat=b[1]:c.output=!0,c},Q="plural",R={type:"literal",value:"plural",description:'"plural"'},S=function(a,b){return{type:"elementFormat",key:a,val:b.val}},T="select",U={type:"literal",value:"select",description:'"select"'},V=function(a){return{type:"pluralStyle",val:a}},W=function(a){return{type:"selectStyle",val:a}},X=function(a,b){var c={type:"pluralFormatPattern",pluralForms:b};return a?c.offset=a:c.offset=0,c},Y="offset",Z={type:"literal",value:"offset",description:'"offset"'},$=":",_={type:"literal",value:":",description:'":"'},aa=function(a){return a},ba=function(a){return{type:"selectFormatPattern",pluralForms:a}},ca=function(a,b){return{type:"pluralForms",key:a,val:b}},da=function(a){return a},ea="=",fa={type:"literal",value:"=",description:'"="'},ga=function(a,b){for(var c=[],d=0;d<b.length;++d)for(var e=0;e<b[d].length;++e)c.push(b[d][e]);return{type:"string",val:a+c.join("")}},ha=/^[0-9a-zA-Z$_]/,ia={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},ja=/^[^ \t\n\r,.+={}]/,ka={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},la=function(a,b){return a+(b?b.join(""):"")},ma=function(a){return a.join("")},na=/^[^{}\\\0-\x1F \t\n\r]/,oa={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},pa=function(a){return a},qa="\\#",ra={type:"literal",value:"\\#",description:'"\\\\#"'},sa=function(){return"\\#"},ta="\\{",ua={type:"literal",value:"\\{",description:'"\\\\{"'},va=function(){return"{"},wa="\\}",xa={type:"literal",value:"\\}",description:'"\\\\}"'},ya=function(){return"}"},za="\\u",Aa={type:"literal",value:"\\u",description:'"\\\\u"'},Ba=function(a,b,c,d){return String.fromCharCode(parseInt("0x"+a+b+c+d))},Ca=/^[0-9]/,Da={type:"class",value:"[0-9]",description:"[0-9]"},Ea=function(a){return parseInt(a.join(""),10)},Fa=/^[0-9a-fA-F]/,Ga={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Ha={type:"other",description:"whitespace"},Ia=function(a){return a.join("")},Ja=/^[ \t\n\r]/,Ka={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},La=0,Ma=0,Na=0,Oa={line:1,column:1,seenCR:!1},Pa=0,Qa=[],Ra=0;if("startRule"in A){if(!(A.startRule in C))throw new Error("Can't start parsing from rule \""+A.startRule+'".');D=C[A.startRule]}if(z=D(),z!==B&&La===a.length)return z;throw z!==B&&La<a.length&&d({type:"end",description:"end of input"}),e(null,Qa,Pa)}return a(b,Error),{SyntaxError:b,parse:c}}();b.prototype.parse=function(){return c.parse.apply(c,arguments)},b.prototype.precompile=function(a){function b(a){var b=JSON.parse(JSON.stringify(a));return b.pf_count++,b}function c(a,f){f=f||{keys:{},offset:{}};var g,h,i=[];switch(a.type){case"program":return c(a.program);case"messageFormatPattern":for(g=0;g<a.statements.length;++g)i.push(c(a.statements[g],f));return h=i.join("+")||'""',f.pf_count?h:"function(d){return "+h+"}";case"messageFormatPatternRight":for(g=0;g<a.statements.length;++g)i.push(c(a.statements[g],f));return i.join("+");case"messageFormatElement":return f.pf_count=f.pf_count||0,a.output?d.globalName+'.v(d,"'+a.argumentIndex+'")':(f.keys[f.pf_count]='"'+a.argumentIndex+'"',c(a.elementFormat,f));case"elementFormat":return"select"===a.key?d.globalName+".s(d,"+f.keys[f.pf_count]+","+c(a.val,f)+")":"plural"===a.key?(f.offset[f.pf_count||0]=a.val.offset||0,d.globalName+".p(d,"+f.keys[f.pf_count]+","+(f.offset[f.pf_count]||0)+',"'+d.lc+'",'+c(a.val,f)+")"):"";case"pluralFormatPattern":for(f.pf_count=f.pf_count||0,e=!0,g=0;g<a.pluralForms.length;++g)"other"===a.pluralForms[g].key&&(e=!1),i.push('"'+a.pluralForms[g].key+'":'+c(a.pluralForms[g].val,b(f)));if(e)throw new Error("No 'other' form found in pluralFormatPattern "+f.pf_count);return"{"+i.join(",")+"}";case"selectFormatPattern":for(f.pf_count=f.pf_count||0,f.offset[f.pf_count]=0,e=!0,g=0;g<a.pluralForms.length;++g)"other"===a.pluralForms[g].key&&(e=!1),i.push('"'+a.pluralForms[g].key+'":'+c(a.pluralForms[g].val,b(f)));if(e)throw new Error("No 'other' form found in selectFormatPattern "+f.pf_count);return"{"+i.join(",")+"}";case"string":if(h='"'+(a.val||"").replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"',f.pf_count){var j=f.offset[f.pf_count-1];h=h.replace(/(^|[^\\])#/g,'$1"+'+d.globalName+".n(d,"+f.keys[f.pf_count-1]+(j?","+j:"")+')+"'),h=h.replace(/^""\+/,"").replace(/\+""$/,"")}return h;default:throw new Error("Bad AST type: "+a.type)}}var d=this,e=!1;return c(a)},b.prototype.compile=function(a){return new Function("this['"+this.globalName+"']="+this.functions()+";return "+this.precompile(this.parse(a)))()},b.prototype.precompileObject=function(a){var b=[];for(var c in a)b.push(JSON.stringify(c)+":"+this.precompile(this.parse(a[c])));return"{\n"+b.join(",\n")+"}"},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.MessageFormat=b):"function"==typeof define&&define.amd?define(function(){return b}):a.MessageFormat=b}(this),MessageFormat.locale.fr=function(a){return 0===Math.floor(a)||1==Math.floor(a)?"one":"other"};var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){!c&&hasProp(a,e)||(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):-1===a.indexOf("!")?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(each(globalDefQueue,function(a){var b=a[0];"string"==typeof b&&(u.defQueueMap[b]=!0),B.push(a)}),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}u.defQueueMap={}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){
this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){try{e=u.execCb(c,f,d,e)}catch(g){a=g}if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a);"undefined"!=typeof console&&console.error?console.error(a):req.onError(a)}}else e=f;if(this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad)){var h=[];each(this.depMaps,function(a){h.push(a.normalizedMap||a)}),req.onResourceLoad(u,this.map,h)}l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(u.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.map.normalizedMap=f,this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",bind(this,this.errback)):this.events.error&&i(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,defQueueMap:{},Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b,null,!0))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);e.undefed=!0,d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),delete u.defQueueMap[a],e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(u.defQueueMap={},d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((-1===h.indexOf("?")?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);if(!e(b.id)){var c=[];return eachProp(y,function(a,d){0!==d.indexOf("_@r")&&each(a.depMaps,function(a){return a.id===b.id&&c.push(d),!0})}),j(makeError("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a,b,c){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),e.onNodeCreated&&e.onNodeCreated(d,e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),e?(e.defQueue.push([a,b,c]),e.defQueueMap[a]=!0):globalDefQueue.push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),void 0!==window.require&&require.config({baseUrl:"/scripts/",paths:{domReady:"../components/requirejs-domready/domReady",text:"../components/requirejs-text/text",components:"../components",moment:"../components/moment/moment",site:"../site/",cornerstone:"../components/cornerstone/htdocs",belvedere:"../components/belvedere/htdocs",partials:"../partials",cyclamen:"../components/cyclamenjs/src",delivery:"../components/delivery/src",snowdrop:"../components/snowdrop/src/snowdrop",photoswipe:"../components/photoswipe/dist",json:"../components/delivery/lib/json","moment-fr-ca":"../components/moment/locale/fr-ca"},map:{"*":{"snowdrop/registry":"delivery/registry"}}});var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an_unknown_OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone_iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(BrowserDetect.init(),!aetn)var aetn={};aetn.videoplayer=function(){function a(a,c,d,e,f,g){function h(){var c=!1;if("non-Flash"==aetn.videoplayer.runtime())return void(D.nonFlashHandler&&D.nonFlashHandler());if("bad-Flash"==aetn.videoplayer.runtime())return void(D.badFlashVersionHandler&&D.badFlashVersionHandler());var d=new Player(a);d.runtime=aetn.videoplayer.runtime(),d.fp.bgcolor="0x000000",d.fp.wmode="opaque",d.logLevel=document.location.toString().indexOf("debug=true")>-1?"debug":"error",document.location.toString().indexOf("test=on")>-1&&(c=!0),d.allowFullScreen="true",d.allowScriptAccess="always",d.backgroundColor="0x131313",d.controlBackgroundColor="0x131313",d.controlColor="0xBEBEBE",d.controlFrameColor="0x545759",d.controlHoverColor="0xFF0000",d.controlSelectedColor="0xFFFFFF",d.frameColor="0x545759",d.loadProgressColor="0x444444",d.pageBackgroundColor="0x131313",d.playProgressColor="0xFF0000",d.scrubberColor="0xBEBEBE",d.scrubberFrameColor="0x444444",d.scrubTrackColor="0xBEBEBE",d.textBackgroundColor="0x383838",d.textColor="0xBEBEBE",d.previewImageAssetType="Video Still",d.autoPlay="false",d.layoutUrl=("/"!=v.charAt(v.length-1)?v+"/":v)+"../data/AETN_basic_meta_glass.xml?x=asdf",d.pluginAkamaiHD="type=auth|priority=0|URL="+v+"/swf/akamaiHD.swf?v="+b+"|hosts=hdaks3.aetndigital.com",d.pluginAETNPersistentOverlay="type=auth|priority=2|URL="+v+"/swf/aetn/AETNPersistentOverlay.swf?v="+b+k(s.persistentOverlay),s.adobePass_use_old?d.pluginAETNPass="jkvar=HelloWorld|type=url|priority=1|URL="+v+"/swf/aetn/aetnPass.swf?v="+b+l(A,s.adobePass):d.pluginAETNPass="jkvar=HelloWorld|type=url|priority=1|URL="+v+"/swf/aetn/AETNPass2.swf?v="+b+l(A,s.adobePass),d.pluginFreewheel="type=ads|priority=10|url="+v+"/swf/freewheel.swf?v="+b+"|adManagerUrl=http://adm.fwmrm.net/p/aetn_live/AdManager.swf|enablePrerollsAndPostrolls=false|preloadSlots=false|customIdField=thePlatformID"+(c?l(t.freewheelFlash,x.flash_test):l(x.flash_live,t.freewheelFlash)),d.pluginComScore="type=tracking|priority=12|URL="+v+"/swf/comScore.swf?v="+b+"|trackEachChapter=true"+k(t.comscore),d.pluginNielsen="type=tracking|priority=14|URL="+v+"/swf/ggtp397.swf?v="+b+l(y,t.nielsen),d.pluginAETNOmniture="type=tracking|priority=16|URL="+v+"/swf/aetn/AETNOmniture.swf?v="+b+"|host=metrics.aetn.com|enableTrackHeartbeat=false"+k(t.omniture),d.pluginConviva="type=|priority=17|URL=http://livepassdl.conviva.com/thePlatform/ConvivaThePlatformPlugin_5_1_2.swf"+l(z,t.conviva),d.pluginAETNMCustomBasic="type=overlay|priority=20|URL="+v+"/swf/aetn/AETNCustomBasic.swf?v="+b+"|mbr=true|switch=m3u|assetType=Flash_Video",d.pluginAETNMButtonShare="type=overlay|priority=22|URL="+v+"/swf/aetn/AETNButtonShare.swf?v="+b,d.pluginAETNShareScreen="type=overlay|priority=24|URL="+v+"/swf/aetn/AETNShareScreen.swf?v="+b+k(s.shareConfig),s.hotmoments&&(d.pluginAETVHotMoments="type="+s.hotmoments.type+"|priority="+s.hotmoments.priority+"|URL="+s.hotmoments.URL+(s.hotmoments.callback?"|callback="+s.hotmoments.callback:"")),d.overrideNativeControls="true",s.showPDKControlsInHTML5||(d.pluginHtml5AETNControls="type=overlay|URL="+v+"/js/plugins/aetn/AETNControlsPlugIn.js?v="+b),d.pluginHtml5UrlSigning="type=rewrite|URL="+v+"/js/plugins/aetn/AETNUrlSigningPlugIn.js?v="+b+"|priority=1",s.adobePass&&s.adobePass.policy&&(B.policy=s.adobePass.policy),d.pluginHtml5LinkUrlMod="type=player|URL="+v+"/js/plugins/aetn/AETNLinkUrlModPlugIn.js?v="+b+"|priority=2"+l(B,s.html5UrlParams),d.pluginHtml5ShareCard="type=overlay|URL="+v+"/js/plugins/aetn/AETNShareCardPlugIn.js?v="+b,d.pluginHtml5ErrorCard="type=error|videoLandingPageUrl=http://www.history.com|URL="+v+"/js/plugins/aetn/AETNErrorCardPlugIn.js?v="+b,d.pluginHtml5ComScore="type=tracking|URL="+v+"/js/plugins/comScore.js?v="+b+"|trackEachChapter=true"+k(t.comscore),d.pluginHtml5Omniture="type=tracking|URL="+v+"/js/plugins/aetn/AETNOmnitureMediaPlugIn.js?v="+b+"|host=metrics.aetn.com"+k(t.omniture,C),d.pluginHtml5Freewheel="type=adcomponent|URL="+v+"/js/plugins/freewheel.js||adManagerUrl=http://adm.fwmrm.net/p/aetn_live/AdManager.js|customIdField=thePlatformID"+(c?l(t.freewheel,x.html5_test):l(x.html5_live,t.freewheel)),s&&jQuery.extend(!0,d,s),"HTML5"==d.runtime&&d.html5ReleaseURL&&(d.releaseURL=d.html5ReleaseURL,d.showControls=!!s.showPDKControlsInHTML5),d.bind(a)}function k(a,b){var c="";return a?jQuery.each(a,function(a,b){c+="|"+a+"="+b}):b&&(c=b),c}function l(a,b){var c={};jQuery.extend(c,a,b);var d="";return jQuery.each(c,function(a,b){d+="|"+a+"="+b}),d}function m(a){for(var b=0;b<r.length;b++)if("300"==r[b].width&&"250"==r[b].height){a.data.baseClip.isAd===!0?(r[b].swapElement&&r[b].swapElement.children(":not(#"+r[b].adId+")").hide(),jQuery("#"+r[b].adId).show()):(r[b].swapElement&&r[b].swapElement.children().show(),jQuery("#"+r[b].adId).hide());break}}function n(a){if(w||"Flash"!=aetn.videoplayer.runtime())for(var b=0;b<r.length;b++)if("300"==r[b].width&&"250"==r[b].height){r[b].swapElement&&r[b].swapElement.children().show(),jQuery("#"+r[b].adId).hide(),w=!1;break}}function o(){var a=jQuery(document).find("#"+u),b=!1;return a.length>0&&(b=!0),b}var p=this,q=[a],r=f?f:null,s=d,t=e,u=a,v=c,w=!1,x={flash_live:{networkId:171213,playerProfile:"171213:AETN_flash_live",serverUrl:"http://29ccd.v.fwmrm.net/ad/p",siteSectionNetworkId:171213,videoAssetNetworkId:171213,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},flash_test:{networkId:171212,playerProfile:"171212:AETN_flash_test",serverUrl:"http://29ccc.v.fwmrm.net/ad/p",siteSectionNetworkId:171212,videoAssetNetworkId:171212,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},html5_live:{networkId:171213,playerProfile:"171213:AETN_html5_live",serverUrl:"http://29ccd.v.fwmrm.net/ad/g",siteSectionNetworkId:171213,videoAssetNetworkId:171213,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},html5_test:{networkId:171212,playerProfile:"171212:AETN_html5_test",serverUrl:"http://29ccc.v.fwmrm.net/ad/g",siteSectionNetworkId:171212,videoAssetNetworkId:171212,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)}},y={censuscategory:"seriesNameGlobal",subcategory:"season",title:"title"},z={viewerId:"",serviceUrl:"http://livepass.conviva.com",cdnName:"AKAMAI",deviceType:"PC",playerName:"PDK Flash 5.1.3",customerId:"c3.TP-AE",metadataKeys:"network,thePlatformId,programID,isLongForm,title,episode,mrssCategory,availableDate,premierDate,season,isBehindWall,duration","playerTag.syndicator":"Synacor","playerTag.streamProtocol":"hds","playerTag.playParameters":"mbr=true&switch=hds&assetTypes=medium_video_ak&manifest=true","playerTag.player":"PDK","playerTag.playerVersion":"1.0.1","playerTag.accessType":"Free","playerTag.mvpd":""},A={assetTypes:"medium_video_ak",assetType:"medium_video_ak",mbr:"true",metafile:"false","switch":"hds",aetnPass:"aetn.video.adobePass"},B={assetTypes:"medium_video_ak",assetType:"medium_video_ak",mbr:"true",metafile:"false","switch":"hls"},C="|brandPrefix=HIS|enableTrackHeartbeat=false",D={nonFlashHandler:!1,badFlashVersionHandler:!1};if(jQuery.extend(D,g),this.bindListener=function(a,b,c){tpController.addEventListener(a,b,c)},this.unbindListener=function(a,b){tpController.removeEventListener(a,b,"*")},this.playVideo=function(a,b,c){var d="Flash"==aetn.videoplayer.runtime()?a.releaseURL:a.html5ReleaseURL?a.html5ReleaseURL:a.releaseURL;b?tpController.loadReleaseURL(d,!0,c):tpController.setReleaseURL(d,!0,c)},this.pauseVideo=function(a,b){o()&&tpController.pause(a,["aeplayer"],!0)},this.displayAcudeoCompanionAd=function(a){if(r)for(i=0;i<r.length;i++){var b=r[i];for(j=0;j<a.length;j++)if(b.width==a[j].width&&b.height==a[j].height){b.swapElement&&b.swapElement.children(":not(#"+b.adId+")").hide(),b.staticAdId&&jQuery("#"+b.staticAdId).hide(),jQuery("#"+b.adId).is(":visible")||jQuery("#"+b.adId).show(),tmDisplayBanner(a,b.adId,b.width,b.height),w=!0,"true"==b.hideAfterVideoAdEnd&&tpController.addEventListener("OnMediaEnd",n,q);break}}},this.wrapCompanionMarkup=function(a){var b=r[a].adId,c=jQuery("#"+r[a].adId);if(1==c.length&&!(jQuery("._fwph",c).length>0)){jQuery("script",c).remove();var d=b+"_fw_ad",e="_fw_container_"+d,f=jQuery("<span>").attr("id",e);c.wrapInner(f),f=jQuery("#_fw_container_"+d,c);var g=jQuery("<span>").attr("id",d).addClass("_fwph");g=f.wrap(g).parent();var h=jQuery("<form>").attr("id","_fw_form_"+d).css("display","none");h.append(jQuery("<input>").attr({type:"hidden",name:"_fw_input_"+d,id:"_fw_input_"+d,value:r[a].settings})),g.append(h),"true"==r[a].hideAfterVideoAdEnd&&tpController.addEventListener("OnMediaStart",m,q)}},this.start=function(){h()},"HTML5"==aetn.videoplayer.runtime()||"FW"==t.adSwitch){var E=jQuery("#"+a).height(),F=jQuery("#"+a).width();jQuery.each(r,function(a,b){b.settings&&p.wrapCompanionMarkup(a)}),jQuery("<style type='text/css'> #fw-pdk-plugin-video-display-base{height: "+E+"px; width: "+F+"px} </style>").appendTo("head")}}var b="1_1_11",c={};return c.init=function(b,c,d,e,f,g){var h=new a(b,c,d,e,f,g);return h},c.playVideo=function(a,b,c){c.playVideo(a,b,scopes)},c.pauseVideo=function(a,b){b.pauseVideo(a,scopes)},c.wrapCompanionMarkup=function(a,b){b.wrapCompanionMarkup(a)},c.bindListener=function(a,b,c){player.bindListener(a,b,c)},c.unbindListener=function(a,b,c){player.unbindListener(a,b,c)},c.runtime=function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("iphone")>-1||a.indexOf("ipad")>-1||a.indexOf("android")>-1)return"HTML5";if(swfobject.hasFlashPlayerVersion("10.1.0")){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var b=swfobject.getFlashPlayerVersion();if("11"==b.major&&"3"==b.minor)return"bad-Flash"}return"Flash"}return"non-Flash"},c}();var aetn=aetn?aetn:{};aetn.biography=aetn.biography?aetn.biography:{},aetn.biography.videocontroller=function(){function a(a){i=a,j=k[i].player,n=k[i].playlist,o=k[i].playerIndex,m=k[i].scope}function b(a,b,c){var d=a.substr(0,a.indexOf("/",10))+"/pservice/embed-player/?siteId=bio&tPid={platformID}",e=b.playlist,f=b.playerIndex,g={autoPlay:b.autoPlay,shareConfig:{embedCode:'<iframe width="480" height="320" src="'+d+'" frameborder="0" scrolling="no" allowfullscreen></iframe>'},layoutUrl:h.videoplayer.layoutUrl,embed:{embedSite:"bio"},releaseURL:e[f].videoURLs.releaseURL,adobePass_use_old:!0};return e[f].videoURLs.html5ReleaseURL&&(g.html5ReleaseURL=e[0].videoURLs.html5ReleaseURL),$.extend(!0,g,c),g}function c(a,b){var c={adSwitch:"FW",comscore:{c2:"3005002",c4:"6357324"},omniture:{host:"metrics.aetn.com",brandPrefix:"BIO",enableTrackHeartbeat:"false"},nielsen:{clientid:"us-901285",vcid:"c03"}};return $.extend(!0,c,b),c}function d(b){var c=b.originator?b.originator.controlId:this.scope.scopeIds[2];switch(b.type){case"OnSetRelease":case"OnSetReleaseUrl":a(c);break;case"OnReleaseEnd":"false"!==k[c].autoPlay&&g.nextVideo(c);break;case"OnReleaseStart":e(c);break;case"OnLoadReleaseUrl":break;case"OnMediaUnpause":a(c)}}function e(a){var b=document.getElementById(a),c=new Event("PDK:OnReleaseStart");c.target=b,b.dispatchEvent(c)}function f(a){a.bindListener("OnSetReleaseUrl",d,l),a.bindListener("OnSetRelease",d,l),a.bindListener("OnReleaseEnd",d,l),a.bindListener("OnReleaseStart",d,l),a.bindListener("OnLoadRelease",d,l),a.bindListener("OnLoadReleaseUrl",d,l),a.bindListener("OnMediaUnpause",d,l),a.bindListener("OnReleaseSelected",d,l)}var g={},h={};h.display={},h.display.flash={},h.videoplayer={},h.display.flash.FLASH_DOWNLOAD_URL="http://www.adobe.com/products/flashplayer/",h.videoplayer.layoutUrl="../data/AETN_basic_meta_glass.xml";var i,j,k={},l=["default","javascript"],m=[],n={},o=0;return g.initPlayer=function(a,d,e,g,i,j,m,n){var o=g,p=i,q=void 0,r=d;n||(n={}),h.videoplayer.layoutUrl=e+"/../data/AETN_basic_meta_glass.xml",k[a]={autoPlay:o,autoStart:p,playerIndex:0,playlist:d,scope:[a]},k[a].player=q=aetn.videoplayer.init(a,e,b(e,k[a],n),c(r,j),m,{}),l.push(a),q.start(),f(q)},g.nextVideo=function(a){i=a,n=k[i].playlist,o=k[i].playerIndex,m=k[i].scope,j=k[i].player,o<n.length-1&&(o++,k[i].playerIndex=o,j.playVideo(n[o].videoURLs,!1,m))},g.playVideo=function(a,b,c){aetn.videoplayer.playVideo(a,b)},g.getPlayers=function(){return k},g.getPlayerById=function(a){return k[a]},g.getCurrentlyActivePlayer=function(){return void 0!==i&&k[i]?k[i]:k[0]},g.removePlayer=function(a){var b=l.indexOf(a);l.splice(b,1),delete k[a]},g}(),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==q)return c}}function g(a){return a&&b.element(a)}function h(a){return b.element(f(a))}function i(a,b){return f(a)==f(b)}var j,k=b.noop,l=b.forEach,m=e.$$selectors,n=b.isArray,o=b.isString,p=b.isObject,q=1,r="$$ngAnimateState",s="$$ngAnimateChildren",t="ng-animate",u={running:!0};d.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(a,c,d,q,v,w,x,y,z,A){function B(a,b){var c=a.data(r)||{};return b&&(c.running=!0,c.structural=!0,a.data(r,c)),c.disabled||c.running&&c.structural}function C(a){var b,d=c.defer();return d.promise.$$cancelFn=function(){b&&b()},x.$$postDigest(function(){b=a(function(){d.resolve()})}),d.promise}function D(a){return p(a)?(a.tempClasses&&o(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a):void 0}function E(a,b,c){c=c||{};var d={};l(c,function(a,b){l(b.split(" "),function(b){d[b]=a})});var e=Object.create(null);l((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0});var f=[],g=[];return l(b&&b.classes||[],function(a,b){var c=e[b],h=d[b]||{};a===!1?(c||"addClass"==h.event)&&g.push(b):a===!0&&(c&&"removeClass"!=h.event||f.push(b))}),f.length+g.length>0&&[f.join(" "),g.join(" ")]}function F(a){if(a){var b=[],c={},e=a.substr(1).split(".");(q.transitions||q.animations)&&b.push(d.get(m[""]));for(var f=0;f<e.length;f++){var g=e[f],h=m[g];h&&!c[g]&&(b.push(d.get(h)),c[g]=!0)}return b}}function G(a,c,d,e){function f(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),w.push({event:b,fn:c}),t.push({event:b,fn:d}),!0):void 0}function g(b,c,f){function g(a){if(c){if((c[a]||k)(),++m<h.length)return;c=null}f()}var h=[];l(b,function(a){a.fn&&h.push(a)});var m=0;l(h,function(b,f){var h=function(){g(f)};switch(b.event){case"setClass":c.push(b.fn(a,i,j,h,e));break;case"animate":c.push(b.fn(a,d,e.from,e.to,h));break;case"addClass":c.push(b.fn(a,i||d,h,e));break;case"removeClass":c.push(b.fn(a,j||d,h,e));break;default:c.push(b.fn(a,h,e))}}),c&&0===c.length&&f()}var h=a[0];if(h){e&&(e.to=e.to||{},e.from=e.from||{});var i,j;n(d)&&(i=d[0],j=d[1],i?j?d=i+" "+j:(d=i,c="addClass"):(d=j,c="removeClass"));var m="setClass"==c,o=m||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class"),q=p+" "+d;if(O(q)){var r=k,s=[],t=[],u=k,v=[],w=[],x=(" "+q).replace(/\s+/g,".");return l(F(x),function(a){var b=f(a,c);!b&&m&&(f(a,"addClass"),f(a,"removeClass"))}),{node:h,event:c,className:d,isClassBased:o,isSetClassOperation:m,applyStyles:function(){e&&a.css(b.extend(e.from||{},e.to||{}))},before:function(a){r=a,g(t,s,function(){r=k,a()})},after:function(a){u=a,g(w,v,function(){u=k,a()})},cancel:function(){s&&(l(s,function(a){(a||k)(!0)}),r(!0)),v&&(l(v,function(a){(a||k)(!0)}),u(!0))}}}}}function H(a,c,d,e,f,g,h,i){function m(b){var e="$animate:"+b;x&&x[e]&&x[e].length>0&&w(function(){d.triggerHandler(e,{event:a,className:c})})}function n(){m("before")}function o(){m("after")}function p(){m("close"),i()}function q(){q.hasBeenRun||(q.hasBeenRun=!0,g())}function s(){if(!s.hasBeenRun){v&&v.applyStyles(),s.hasBeenRun=!0,h&&h.tempClasses&&l(h.tempClasses,function(a){j.removeClass(d,a)});var b=d.data(r);b&&(v&&v.isClassBased?J(d,c):(w(function(){var b=d.data(r)||{};H==b.index&&J(d,c,a)}),d.data(r,b))),p()}}var u=k,v=G(d,a,c,h);if(!v)return q(),n(),o(),s(),u;a=v.event,c=v.className;var x=b.element._data(v.node);if(x=x&&x.events,e||(e=f?f.parent():d.parent()),K(d,e))return q(),n(),o(),s(),u;var y=d.data(r)||{},z=y.active||{},A=y.totalActive||0,B=y.last,C=!1;if(A>0){var D=[];if(v.isClassBased){if("setClass"==B.event)D.push(B),J(d,c);else if(z[c]){var E=z[c];E.event==a?C=!0:(D.push(E),J(d,c))}}else if("leave"==a&&z["ng-leave"])C=!0;else{for(var F in z)D.push(z[F]);y={},J(d,!0)}D.length>0&&l(D,function(a){a.cancel()})}if(!v.isClassBased||v.isSetClassOperation||"animate"==a||C||(C="addClass"==a==d.hasClass(c)),C)return q(),n(),o(),p(),u;z=y.active||{},A=y.totalActive||0,"leave"==a&&d.one("$destroy",function(a){var c=b.element(this),d=c.data(r);if(d){var e=d.active["ng-leave"];e&&(e.cancel(),J(c,"ng-leave"))}}),j.addClass(d,t),h&&h.tempClasses&&l(h.tempClasses,function(a){j.addClass(d,a)});var H=M++;return A++,z[c]=v,d.data(r,{last:v,active:z,index:H,totalActive:A}),n(),v.before(function(b){var e=d.data(r);b=b||!e||!e.active[c]||v.isClassBased&&e.active[c].event!=a,q(),b===!0?s():(o(),v.after(s))}),v.cancel}function I(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(t):c.querySelectorAll("."+t);
l(d,function(a){a=b.element(a);var c=a.data(r);c&&c.active&&l(c.active,function(a){a.cancel()})})}}function J(a,b){if(i(a,v))u.disabled||(u.running=!1,u.structural=!1);else if(b){var c=a.data(r)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),!d&&c.totalActive||(j.removeClass(a,t),a.removeData(r))}}function K(a,c){if(u.disabled)return!0;if(i(a,v))return u.running;var d,e,f;do{if(0===c.length)break;var g=i(c,v),h=g?u:c.data(r)||{};if(h.disabled)return!0;if(g&&(f=!0),d!==!1){var j=c.data(s);b.isDefined(j)&&(d=j)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}j=A,v.data(r,u);var L=x.$watch(function(){return z.totalPendingRequests},function(a,b){0===a&&(L(),x.$$postDigest(function(){x.$$postDigest(function(){u.running=!1})}))}),M=0,N=e.classNameFilter(),O=N?function(a){return N.test(a)}:function(){return!0};return{animate:function(a,b,c,d,e){return d=d||"ng-inline-animate",e=D(e)||{},e.from=c?b:null,e.to=c?c:b,C(function(b){return H("animate",d,h(a),null,null,k,e,b)})},enter:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),B(c,!0),a.enter(c,d,e),C(function(a){return H("enter","ng-enter",h(c),d,e,k,f,a)})},leave:function(c,d){return d=D(d),c=b.element(c),I(c),B(c,!0),C(function(b){return H("leave","ng-leave",h(c),null,null,function(){a.leave(c)},d,b)})},move:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),I(c),B(c,!0),a.move(c,d,e),C(function(a){return H("move","ng-move",h(c),d,e,k,f,a)})},addClass:function(a,b,c){return this.setClass(a,b,[],c)},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},setClass:function(c,d,e,g){g=D(g);var i="$$animateClasses";if(c=b.element(c),c=h(c),B(c))return a.$$setClassImmediately(c,d,e,g);var j,k=c.data(i),m=!!k;return k||(k={},k.classes={}),j=k.classes,d=n(d)?d:d.split(" "),l(d,function(a){a&&a.length&&(j[a]=!0)}),e=n(e)?e:e.split(" "),l(e,function(a){a&&a.length&&(j[a]=!1)}),m?(g&&k.options&&(k.options=b.extend(k.options||{},g)),k.promise):(c.data(i,k={classes:j,options:g}),k.promise=C(function(b){var d=c.parent(),e=f(c),g=e.parentNode;if(!g||g.$$NG_REMOVED||e.$$NG_REMOVED)return void b();var h=c.data(i);c.removeData(i);var j=c.data(r)||{},k=E(c,h,j.active);return k?H("setClass",k,c,d,null,function(){k[0]&&a.$$addClassImmediately(c,k[0]),k[1]&&a.$$removeClassImmediately(c,k[1])},h.options,b):b()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,b){switch(arguments.length){case 2:if(a)J(b);else{var c=b.data(r)||{};c.disabled=!0,b.data(r,c)}break;case 1:u.disabled=!a;break;default:a=!u.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function i(){J||(J=h(function(){W=[],J=null,U={}}))}function m(a,b){J&&J(),W.push(b),J=h(function(){l(W,function(a){a()}),W=[],J=null,U={}})}function p(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){r(Z),Z=[]},c,!1))}function r(a){l(a,function(a){var b=a.data(Q);b&&l(b.closeAnimationFns,function(a){a()})})}function s(a,b){var c=b?U[b]:null;if(!c){var e=0,f=0,g=0,h=0;l(a,function(a){if(a.nodeType==q){var b=d.getComputedStyle(a)||{},c=b[E+K];e=Math.max(t(c),e);var i=b[E+M];f=Math.max(t(i),f);b[G+M];h=Math.max(t(b[G+M]),h);var j=t(b[G+K]);j>0&&(j*=parseInt(b[G+N],10)||1),g=Math.max(j,g)}}),c={total:0,transitionDelay:f,transitionDuration:e,animationDelay:h,animationDuration:g},b&&(U[b]=c)}return c}function t(a){var b=0,c=o(a)?a.split(/\s*,\s*/):[];return l(c,function(a){b=Math.max(parseFloat(a)||0,b)}),b}function u(a){var b=a.parent(),c=b.data(P);return c||(b.data(P,++V),c=V),c+"-"+f(a).getAttribute("class")}function v(a,b,c,d){var e=["ng-enter","ng-leave","ng-move"].indexOf(c)>=0,g=u(b),h=g+" "+c,i=U[h]?++U[h].total:0,k={};if(i>0){var l=c+"-stagger",m=g+" "+l,n=!U[m];n&&j.addClass(b,l),k=s(b,m),n&&j.removeClass(b,l)}j.addClass(b,c);var o=b.data(Q)||{},p=s(b,h),q=p.transitionDuration,r=p.animationDuration;if(e&&0===q&&0===r)return j.removeClass(b,c),!1;var t=d||e&&q>0,v=r>0&&k.animationDelay>0&&0===k.animationDuration,w=o.closeAnimationFns||[];b.data(Q,{stagger:k,cacheKey:h,running:o.running||0,itemIndex:i,blockTransition:t,closeAnimationFns:w});var z=f(b);return t&&(x(z,!0),d&&b.css(d)),v&&y(z,!0),!0}function w(a,b,c,d,e){function h(){b.off(M,i),j.removeClass(b,n),j.removeClass(b,o),K&&g.cancel(K),C(b,c);var a=f(b);for(var d in r)a.style.removeProperty(r[d])}function i(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-L,0)>=G&&e>=D&&d()}var k=f(b),m=b.data(Q);if(-1==k.getAttribute("class").indexOf(c)||!m)return void d();var n="",o="";l(c.split(" "),function(a,b){var c=(b>0?" ":"")+a;n+=c+"-active",o+=c+"-pending"});var q="",r=[],t=m.itemIndex,u=m.stagger,v=0;if(t>0){var w=0;u.transitionDelay>0&&0===u.transitionDuration&&(w=u.transitionDelay*t);var z=0;u.animationDelay>0&&0===u.animationDuration&&(z=u.animationDelay*t,r.push(I+"animation-play-state")),v=Math.round(100*Math.max(w,z))/100}v||(j.addClass(b,n),m.blockTransition&&x(k,!1));var A=m.cacheKey+" "+n,B=s(b,A),D=Math.max(B.transitionDuration,B.animationDuration);if(0===D)return j.removeClass(b,n),C(b,c),void d();!v&&e&&Object.keys(e).length>0&&(B.transitionDuration||(b.css("transition",B.animationDuration+"s linear all"),r.push("transition")),b.css(e));var E=Math.max(B.transitionDelay,B.animationDelay),G=E*T;if(r.length>0){var J=k.getAttribute("style")||"";";"!==J.charAt(J.length-1)&&(J+=";"),k.setAttribute("style",J+" "+q)}var K,L=Date.now(),M=H+" "+F,N=(E+D)*S,O=(v+N)*T;return v>0&&(j.addClass(b,o),K=g(function(){K=null,B.transitionDuration>0&&x(k,!1),B.animationDuration>0&&y(k,!1),j.addClass(b,n),j.removeClass(b,o),e&&(0===B.transitionDuration&&b.css("transition",B.animationDuration+"s linear all"),b.css(e),r.push("transition"))},v*T,!1)),b.on(M,i),m.closeAnimationFns.push(function(){h(),d()}),m.running++,p(b,O),h}function x(a,b){a.style[E+L]=b?"none":""}function y(a,b){a.style[G+O]=b?"paused":""}function z(a,b,c,d){return v(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d,e){return b.data(Q)?w(a,b,c,d,e):(C(b,c),void d())}function B(a,b,c,d,e){var f=z(a,b,c,e.from);if(!f)return i(),void d();var g=f;return m(b,function(){g=A(a,b,c,d,e.to)}),function(a){(g||k)(a)}}function C(a,b){j.removeClass(a,b);var c=a.data(Q);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(Q))}function D(a,b){var c="";return a=n(a)?a:a.split(/\s+/),l(a,function(a,d){a&&a.length>0&&(c+=(d>0?" ":"")+a+b)}),c}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="PlayState",P="$$ngAnimateKey",Q="$$ngAnimateCSS3Data",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{animate:function(a,b,c,d,e,f){return f=f||{},f.from=c,f.to=d,B("animate",a,b,e,f)},enter:function(a,b,c){return c=c||{},B("enter",a,"ng-enter",b,c)},leave:function(a,b,c){return c=c||{},B("leave",a,"ng-leave",b,c)},move:function(a,b,c){return c=c||{},B("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,e){e=e||{};var f=D(c,"-remove")+" "+D(b,"-add"),g=z("setClass",a,f,e.from);return g?(m(a,d),g):(i(),void d())},beforeAddClass:function(a,b,c,d){d=d||{};var e=z("addClass",a,D(b,"-add"),d.from);return e?(m(a,c),e):(i(),void c())},beforeRemoveClass:function(a,b,c,d){d=d||{};var e=z("removeClass",a,D(b,"-remove"),d.from);return e?(m(a,c),e):(i(),void c())},setClass:function(a,b,c,d,e){e=e||{},c=D(c,"-remove"),b=D(b,"-add");var f=c+" "+b;return A("setClass",a,f,d,e.to)},addClass:function(a,b,c,d){return d=d||{},A("addClass",a,D(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){return d=d||{},A("removeClass",a,D(b,"-remove"),c,d.to)}}}])}])}(window,window.angular);
//# sourceMappingURL=components.min.js.map
define("cornerstone/cstLogger",[],function(){"use strict";return["$http","cstConfig",function(a,b){var c;if(window.console)c=window.console,"object"==typeof c.log&&["log","info","warn","error"].forEach(function(a){c[a]=this.bind(c[a],c)},Function.prototype.call);else{var d=function(){};c={log:d,info:d,warn:d,error:d,trace:d}}var e={DEBUG:c.log,INFO:c.info,WARN:c.warn,ERROR:c.error,CRITICAL:c.error},f={init:function(a,b,c,d){if(this.levels={DEBUG:1,INFO:2,WARN:3,ERROR:4,CRITICAL:5,NO_LOGGING:6},!a)throw new Error("clientLevelThreshold is required");if(this.clientLevelThreshold=this.levels[a.toUpperCase()],!this.clientLevelThreshold)throw new Error("invalid clientLevelThreshold");if(!b)throw new Error("serverLevelThreshold is required");if(this.serverLevelThreshold=this.levels[b.toUpperCase()],!this.serverLevelThreshold)throw new Error("invalid serverLevelThreshold");if(!c)throw new Error("endpoint is required");this.endpoint=c,this.appName=d},_getActivity:function(){return"undefined"==typeof document?"no document":document.URL},_makeLogRecord:function(a,b){return{message:a,level:b,rcid:null,env:null,appName:this.appName,trace:(new Error).stack,activity:this._getActivity()}},_dispatchLogRecord:function(b,d){if(this.levels[d]>=this.clientLevelThreshold){var f=e[d];f.apply(c,[b.message])}this.levels[d]>=this.serverLevelThreshold&&a.post(this.endpoint,JSON.stringify([b]))},_log:function(a,b){if(b=b.toUpperCase(),!(this.levels[b]<this.clientLevelThreshold&&this.levels[b]<this.serverLevelThreshold)){var c=this._makeLogRecord(a,b);this._dispatchLogRecord(c,b)}},debug:function(a){this._log(a,"debug")},info:function(a){this._log(a,"info")},warn:function(a){this._log(a,"warn")},error:function(a){this._log(a,"error")},critical:function(a){this._log(a,"critical")}},g=b.getModuleConfig("cornerstone"),h=g&&g.cstLogger&&g.cstLogger.clientLevelThreshold?g.cstLogger.clientLevelThreshold:"debug",i=g&&g.cstLogger&&g.cstLogger.serverLevelThreshold?g.cstLogger.serverLevelThreshold:"no_logging",j=g.cstLogger.endpoint||"/:logger",k=g.cstLogger.proxyUrl;k&&(j=k+j);var l=g.cstLogger.appName;return f.init(h,i,j,l),f}]}),define("cornerstone/cstConfig",[],function(){"use strict";var a;return window.cstInitialConfig?(a=window.cstInitialConfig,window.cstInitialConfig=null):a="",function(){return{getModuleConfig:function(b){return a[b]?a[b]:{}}}}}),define("cornerstone/module",["cornerstone/cstLogger","cornerstone/cstConfig"],function(a,b){"use strict";var c=angular.module("cornerstone",[]);return c.factory("cstLogger",a),c.factory("cstConfig",b),c}),define("belvedere/blvCloudinaryRawResolver",[],function(){"use strict";return["$q",function(a){var b="files.saymedia-content.com";return"undefined"!=typeof cloudinaryCname&&(b=cloudinaryCname),$.cloudinary.config({cloud_name:cloudinaryCloudName,cname:b,private_cdn:!0,secure_distribution:"tempest-res.cloudinary.com",cdn_subdomain:!0}),{getDefaultCloudinaryOptions:function(){return{crop:"fill",height:380,width:630}},_formatIsJpeg:function(a){return"jpg"===a.toLowerCase()||"jpeg"===a.toLowerCase()},_formatIsPng:function(a){return"png"===a.toLowerCase()},_formatIsGif:function(a){return"gif"===a.toLowerCase()},_consideredSmall:function(a,b){return!!(a&&90>=a||b&&90>=b)},resolver:function(a,b){return b||(b=this.getDefaultCloudinaryOptions()),b.format=a.format,b.preferredFormat&&(b.format=b.preferredFormat),b.color_space="srgb",this._formatIsGif(a.format)&&(b={},b.format=a.format),b.convertPngToJpg&&this._formatIsPng(b.format)&&(b.format="jpg"),this._formatIsJpeg(b.format)&&(b.dpr=$.cloudinary.device_pixel_ratio()),b.dpr>1.4&&b.retinaQuality&&(b.quality=b.retinaQuality),!b.quality&&this._formatIsJpeg(b.format)&&(this._consideredSmall(b.height,b.width)?b.quality=90:b.quality=80),$.cloudinary.url(a.publicId,b)}}}]}),define("belvedere/blvTmlProcessor",[],function(){"use strict";return["$compile","$rootScope","$q","blvTmlUtil",function(a,b,c,d){var e=function(a,b){angular.element(a).attr("tml-external-provider-"+a.getAttribute("tml-external-provider"),!0),"theplatform"===a.getAttribute("tml-external-provider")&&angular.element(a).attr("tml-player-index",b)},f=function(a,b){var c=angular.element(a);if(c.find("[tml-image]").attr("tml-collection-item",!0),"slideshow"===a.getAttribute("tml-render-style")){var d=c.find("div[tml-external-provider]");d.length>0?(c.attr("tml-collection-grid",!0),c.attr("tml-render-style","thumbnails")):c.attr("tml-collection-carousel",!0)}else"thumbnails"===a.getAttribute("tml-render-style")&&c.attr("tml-collection-grid",!0)},g=function(a){"slideshow"===a.getAttribute("tml-render-style")?a.removeAttribute("tml-collection-carousel"):"thumbnails"===a.getAttribute("tml-render-style")?a.removeAttribute("tml-collection-grid"):a.removeAttribute("tml-collection-carousel")},h=function(a){a.removeAttribute("tml-render-layout")},i=function(a){a.removeAttribute("tml-external-provider-"+a.getAttribute("tml-external-provider"))},j=function(a,b){var c;c=!a.getAttribute("tml-render-layout")||a.getAttribute("tml-render-size")||a.getAttribute("tml-render-position")?d.getMappedTmlRenderLayout(a):d.validateLayout(a.getAttribute("tml-render-layout"),a);var e=angular.element(a);e.attr("tml-render-layout",c)},k=[{type:"external provider",selector:"[tml-external-provider]",mutate:e,revert:i},{type:"collection",selector:"[tml-collection]",mutate:f,revert:g},{type:"add tml layout",selector:"blockquote, [tml-image]:not([tml-collection-item]),[tml-collection],[tml-external-provider]:not([tml-collection-item]),[tml-product]:not([tml-collection-item])",mutate:j,revert:h}];return{tmlToAngularTemplate:function(a){var b=angular.element("<div>").append(angular.element(a)),c=k.map(function(a){return a.selector}).join(",");return b.find(c).each(function(a,b){for(var c=0;c<k.length;++c)angular.element(b).is(k[c].selector)&&k[c].mutate(b,a)}),b.html()},angularTemplateToTml:function(a){var b=angular.element("<div>").append(angular.element(a)),c=k.map(function(a){return a.selector}).join(",");return b.find(c).each(function(a,b){for(var c=0;c<k.length;++c)angular.element(b).is(k[c].selector)&&k[c].revert(b)}),b.html()},compile:function(a){return this.compileWithPromise(a).domObject},Registry:function(){var a={};this.overrideAdZone=function(b,c){a[b]||(a[b]=c)},this.getOverriddenAdZones=function(){return a}},compileWithPromise:function(a){var e=this.getLinkFn(a),f={};d.resetTmlPromises();var g=b.$new(),h=new this.Registry;g.$on("blvTmlRegistration",function(a,b){b(h)}),f.domObject=e(g),f.registry=h;var i=d.getTmlPromises();if(i.length>0)f.promiseObject=c.all(i);else{var j=c.defer();j.resolve(!0),f.promiseObject=j.promise}return d.resetTmlPromises(),f},getLinkFn:function(b){var c=this.tmlToAngularTemplate(b);return a(c)}}}]}),define("belvedere/blvTmlUtil",[],function(){"use strict";return function(){var a=[],b={"default":"inline",small:"left",smallleft:"left",smallright:"right",smallcenter:"left",medium:"right",mediumleft:"left",mediumright:"right",mediumcenter:"right",large:"inline",largeleft:"inline",largeright:"inline",largecenter:"inline",xlarge:"breakout",xlargeleft:"breakout",xlargeright:"breakout",xlargecenter:"breakout",left:"left",right:"right",center:"inline"},c={"default":{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout","full-bleed"]},product:{defaultLayout:"inline",supportedLayouts:["inline"]},blockquote:{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout"]},image:{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout","full-bleed"]},externalEmbed:{defaultLayout:"inline",supportedLayouts:["inline","breakout","full-bleed"]},collection:{defaultLayout:"inline",supportedLayouts:["inline","breakout","full-bleed"]}},d={left:"l-wrap-left",right:"l-wrap-right",inline:"l-inline",breakout:"l-breakout","full-bleed":"l-full-bleed"},e=["BLOCKQUOTE","P","H2","H3","H4","OL","UL","SECTION"],f=["tml-anchor","tml-section","tml-render-layout","tml-render-position","tml-render-size"],g=["tml-image","tml-product","tml-collection","tml-collection-title","tml-collection-caption","tml-anchor","tml-external-id","tml-image-caption","tml-external-provider","tml-external-provider-theplatform-path","tml-embed-src","tml-embed-thumbnail","tml-embed-height","tml-embed-width","tml-render-size","tml-render-layout","tml-render-position","tml-render-style"],h=["href","rel","fragment-id"],i=["tml-linebreak"];return{layoutConfigByType:c,getMappedTmlRenderLayout:function(a){var c="",d="";a.getAttribute("tml-render-position")&&(c=a.getAttribute("tml-render-position")),a.getAttribute("tml-render-size")&&(d=a.getAttribute("tml-render-size"));var e=d+c;""===e&&(e="default");var f=this.validateLayout(b[e],a);return f},validateLayout:function(a,b){var d=a,e="default";return b.getAttribute("tml-image")?e="image":b.getAttribute("tml-collection")?e="collection":b.getAttribute("tml-externalProvider")?e="externalEmbed":b.getAttribute("tml-product")?e="product":"blockquote"===b.tagName.toLowerCase()&&(e="blockquote"),$.inArray(a,c[e].supportedLayouts)<0&&(d=c[e].defaultLayout),d},getValidBlockElements:function(){return e},getValidBlockElementAttributes:function(){return f},getValidEmbedElementAttributes:function(){return g},getValidInlineElementAttributes:function(){return h},getValidBrElementAttributes:function(){return i},getTmlRenderLayout:function(a){if(!angular.isDefined(a.tmlRenderLayout))return"";var b=a.tmlRenderLayout;return d[b]?d[b]:""},isValidBlockElement:function(a){return e.indexOf(a.context.nodeName)>-1},getTmlPromises:function(){return a},trackTmlPromise:function(b){a.push(b)},resetTmlPromises:function(){a=[]}}}}),define("belvedere/tmlModule",["belvedere/blvCloudinaryRawResolver","belvedere/blvTmlProcessor","belvedere/blvTmlUtil"],function(a,b,c){"use strict";var d=angular.module("belvedere",[]);return d.service("blvCloudinaryRawResolver",a),d.service("blvTmlProcessor",b),d.service("blvTmlUtil",c),d}),define("delivery/deferred",[],function(){"use strict";return function(a,b){var c=[],d=function(){c.push(arguments)};d.implement=function(d){for(var e=0;e<c.length;e++)d.apply(a,c[e]);a[b]=d},a[b]=d}}),define("delivery/beacons",["delivery/deferred"],function(a){"use strict";function b(a,b,c){var d=!1;"undefined"!=typeof c&&(d=!0,"/"!==c[c.length-1]&&(c+="/"),/\w*:\/\//.test(c)||0===c.indexOf("//")||(c="https://"+c)),this.send=function(e,f,g){if(d){b.debug(e+": "+f);var h=new Date;if("undefined"==typeof g&&(g={}),"string"!=typeof f||!/^[0-9a-fA-F_]+$/.test(f.slice(f.search("_")+1,f.length))){var i="beacon.send(name, rid) rid must be a hexadecimal string";throw b.error(i),new Error(i)}g.rid=f,g.curtime=h.getTime(),g.curtz=h.getTimezoneOffset();var j=[];a:for(var k in g){var l=g[k];switch(typeof l){case"number":case"boolean":case"string":j.push(escape(k)+"="+escape(l));continue a;default:b.debug("parameter "+k+" for beacon "+e+" is of unknown type: "+typeof l)}}a.fireRequest(c+e+"?"+j.join("&"))}},this.exception=function(){}}return b}),define("delivery/ready",[],function(){"use strict";function a(){var a=!1,b=[];document.readyState in{complete:!0,interactive:!0}&&(a=!0);var c=function(){for(a=!0;b.length>0;)b.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",c,!1),window.attachEvent("onload",c)),this.ready=function(c){a?c():b.push(c)}}return function(){var b=new a;return function(a){b.ready(a)}}()}),define("delivery/loader",["delivery/ready"],function(a){"use strict";function b(b,c){function d(a,b,c){var d=document.createElement("script");d.setAttribute("src",a),d.setAttribute("type","text/javascript"),d.sayUsed=!0;var e=function(){"undefined"!=typeof c&&c.call(this,arguments),d.onreadystatechange=null,d.onload=null,b||d.parentNode.removeChild(d)};return d.onload=e,d.onreadystatechange=function(){d.readyState in{loaded:1,complete:1}&&e.call(this,arguments)},d}var e,f=0;a(function(){e=document.getElementsByTagName("head")[0]}),this.fetch=function(a){var b;return window.XMLHttpRequest?b=new XMLHttpRequest:window.ActiveXObject&&(b=new ActiveXObject("Microsoft.XMLHTTP")),b.open("GET",a,!1),b.send(null),c.debug("loader.fetch("+a+")"),b.responseText},this.fireRequest=function(a){b.fireRequest(a)},this.loadScript=function(b,c){a(function(){e.appendChild(d(b,0,c))})},this.jsonp=function(a,b,d,e,g){c.debug("loader.jsonp()"),"undefined"==typeof g&&(g=3e3);var h=function(){delete this[k]},i=window.setTimeout(function(){e(),h()},g),j=f++,k="jsonp_"+j;this[k]=function(){window.clearTimeout(i),e.apply(this,arguments),h()},d[b]="loader."+k;var l="?",m="";for(var n in d)m+=l+n+"="+escape(d[n]),l="&";c.debug("JSONP: "+a+m),this.loadScript(a+m)},this.insertScript=function(a,b,c){var e=d(a,1,c);return b.parentNode.insertBefore(e,b),e},this.appendScript=function(a,b,c){var e=d(a,1,c);return b.appendChild(e),e}}return b}),define("phxCore/services/phxBeaconClient",["delivery/beacons","delivery/loader"],function(a,b){"use strict";return["cstLogger","cstConfig","phxPixelClient",function(c,d,e){return{makeBeaconClient:function(){var f=new e,g=d.getModuleConfig("phxEventDemux").beaconServerUrl,h=new b(f,c);return new a(h,c,g)}}}]}),define("phxCore/services/phxBlocks",[],function(){"use strict";return[function(){function a(a,b){f[a]=b,e[a]=b.clone()}function b(a,b){f.hasOwnProperty(a)&&(f[a].replaceWith(b),f[a]=b)}function c(a){b(a,e[a])}function d(a){return f.hasOwnProperty(a)}var e={},f={};return{register:a,replace:b,restore:c,hasInsertionBlock:d}}]}),define("phxCore/services/phxBreakouts",[],function(){"use strict";return["$window","$rootScope","phxUtil","phxCategorizr","phxEvents",function(a,b,c,d,e){var f=[],g=[],h=null,i=0,j=0,k=function(a,b){var c=angular.element(a);b&&c.data("padding",b),c.length&&f.push(c)},l=function(a,b){var c=angular.element(a);b&&c.data("padding",b),c.length&&g.push(c)},m=function(){var a=".l-breakout, .l-full-bleed";angular.forEach(angular.element(a),function(a){0===angular.element(a).parents(".m-collection--carousel").length&&l(a,50)}),b.$broadcast("phxBreakoutDamsRegistered")},n=function(a){var b=angular.element(a);b.length&&(h=b)},o=function(a){var b=angular.element(a);b.length&&f.indexOf(b)&&f.splice(f.indexOf(b),1)},p=function(a){var b=angular.element(a);b.length&&-1!==g.indexOf(b)&&g.splice(g.indexOf(b),1)},q=function(a){var b=angular.element(a);b.length&&(h=null)},r=function(){g=[],f=[]},s=function(a){var b=a;b&&b.parentNode&&b.parentNode.removeChild(b)},t=function(a){return 0===a.width||0===a.height},u=function(a,b){return a.bounds.top<b.bounds.top?-1:a.bounds.top>b.bounds.top?1:0},v=function(a){var b=a.getBoundingClientRect(),c={},d=angular.element(a);return c.top=b.top+window.pageYOffset,c.bottom=b.bottom+window.pageYOffset,c.left=b.left+window.pageXOffset,c.right=b.right+window.pageXOffset,c.height=b.height,c.width=b.width,c.force=d.data("force")||!1,c},w=function(a,b,c){var d=Math.min.apply(Math,[b,c]),e=Math.max.apply(Math,[b,c]);return a>=d&&e>=a},x=function(a,b,c){var d=0;return i&&(d+=i),j&&(d+=j),b.force||a.force?b.height>=10&&(b.top<=a.top-d&&b.bottom>=a.top-d||b.top>=a.top-d&&b.bottom<=a.bottom+d||b.top<=a.bottom+d&&b.bottom>=a.bottom+d||b.top<=a.top-d&&b.bottom>=a.bottom+d):(w(b.top,a.top,a.bottom)||w(a.top,b.top,b.bottom))&&(w(b.left,a.left,a.right)||w(a.left,b.left,b.right))},y=function(b){var c=a.requestAnimationFrame;return c?function(){c(function(){c(b)})}:b},z=c.throttle(y(function(){if(!d.isSizeA()){for(var a=0;a<g.length;a++)g[a].bounds=v(g[a][0]),g[a].skip=t(g[a].bounds);for(var b=0;b<f.length;b++)f[b].data("phxOriginalMarginTop")||f[b].data("phxOriginalMarginTop",window.getComputedStyle(f[b][0]).marginTop),f[b][0].style.marginTop=f[b].data("phxOriginalMarginTop"),f[b].removeClass("reflow-pre"),f[b].removeClass("reflow-post"),f[b].bounds=v(f[b][0]),f[b].skip=t(f[b].bounds);if(g.sort(u),f.sort(u),g.length>0&&f.length>0)for(var c in g)if(!g[c].skip){var e=v(g[c][0]);i=g[c].attr("phx-breakdancr-padding")?parseInt(g[c].attr("phx-breakdancr-padding")):g[c].data("padding")?g[c].data("padding"):0;for(var k in f){var l=window.getComputedStyle(f[k][0]);if("fixed"!==l.position&&"absolute"!==l.position&&f[k].skip===!1){var m=v(f[k][0]);if(j=f[k].attr("phx-breakdancr-padding")?parseInt(f[k].attr("phx-breakdancr-padding")):f[k].data("padding")?f[k].data("padding"):0,x(e,m)){var n=e.bottom-m.top,o=l.marginTop,p=l.marginBottom,q=parseInt(n,10)+parseInt(o,10)+parseInt(p,10);f[k][0].style.marginTop=parseInt(q)+parseInt(i)+parseInt(j)+"px",f[k-1]&&!f[k-1].skip&&($(f[k-1][0]).addClass("reflow-pre"),$(f[k][0]).addClass("reflow-post"));break}}}}if(h)for(var r=v(h[0]),w=!1,y=0;y<f.length;y++)w===!0?s(f[y][0]):(f[y].bounds=v(f[y][0]),f[y].bounds.bottom>r.bottom&&(s(f[y][0]),w=!0))}}),250);return e.$on("resize",z),b.$on("$locationChangeStart",r),{registerFlow:k,registerDam:l,findAndRegisterDams:m,registerBounds:n,unregisterFlow:o,unregisterDam:p,unregisterBounds:q,processBreakouts:z,reset:r}}]}),define("phxCore/services/phxCategorizr",[],function(){"use strict";return function(){var _deviceType,_os,_osVersion,_browser,_browserVersion,_ua,_breakpoint,_connectionType,_connectionSpeed,_slugList,mediaBreakPoints=[0,300,675,1023,136e3],mediaBreakpointNames=[null,"A","B","C","D"],_deviceRules=[{cond:/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/gi,result:"tv"},{cond:/Xbox|PLAYSTATION.3|Wii/gi,result:"tv"},{cond:"/iP(a|ro)d/i.exec(ua) || ( /tablet/i.exec(ua) && !/RX-34/i.exec(ua) ) || /FOLIO/i.exec(ua)",result:"tablet"},{cond:"/Linux/i.exec(ua) && /Android/i.exec(ua) && !/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945/i.exec(ua)",result:"tablet"},{cond:"/Kindle/i.exec(ua) || /Mac.OS/i.exec(ua) && /Silk/i.exec(ua)",result:"tablet"},{cond:"/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i.exec(ua) || /MB511/i.exec(ua) && /RUTEM/i.exec(ua)",result:"tablet"},{cond:/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/gi,result:"mobile"},{cond:"/Opera/i.exec(ua) && /Windows.NT.5/i.exec(ua) && /HTC|Xda|Mini|Vario|SAMSUNG-GT-i8000|SAMSUNG-SGH-i9/i.exec(ua)",result:"mobile"},{cond:"/Windows.(NT|XP|ME|9)/.exec(ua) && !/Phone/i.exec(ua)  || /Win(9|.9|NT)/i.exec(ua)",result:"desktop"},{cond:"/Macintosh|PowerPC/i.exec(ua) && !/Silk/i.exec(ua)",result:"desktop"},{cond:"/Linux/i.exec(ua) && /X11/i.exec(ua)",result:"desktop"},{cond:/Solaris|SunOS|BSD/gi,result:"desktop"},{cond:"/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i.exec(ua) && !/Mobile/i.exec(ua)",result:"desktop"},{cond:"/Node/i.exec(ua)",result:"server"}],_osRules={tv:[],desktop:[{cond:/Win/gi,versearch:"Win",result:"Windows"},{cond:/Mac/gi,versearch:"OS",result:"Mac OS"},{cond:/Linux/gi,versearch:"",result:"Linux"}],tablet:[{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/iP(a|ro)d/gi,versearch:"OS",result:"iOS"}],mobile:[{cond:/iPhone/gi,versearch:"OS",result:"iOS"},{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/Windows/gi,versearch:"",result:"Windows Phone"},{cond:/Symbian/gi,versearch:"",result:"Symbian"}],server:[{cond:/linux/gi,versearch:"",result:"linux"}]},_browserRules={tv:[],desktop:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Trident/gi,versearch:"; rv",result:"MSIE"},{cond:/\sEdge\/\d+\.\d+/gi,versearch:" Edge",result:"Edge"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}],tablet:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Silk/gi,versearch:"Silk",result:"Silk"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"}],mobile:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}],server:[{cond:/Node/gi,versearch:"",result:"node"}]},_searchVersion=function(a,b){var c=a.indexOf(b);if(-1!==c){var d=parseFloat(a.substring(c+b.length+1))||null;return d}},_getDeviceInfo=function(agentString){var deviceType="mobile",breakpoint="C";_slugList=void 0;for(var ua=agentString||navigator.userAgent,c=0;c<_deviceRules.length;c++)if("string"==typeof _deviceRules[c].cond){if(eval(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}}else if(ua.match(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}for(var o=0;o<_osRules[deviceType].length;o++)if(ua.match(_osRules[deviceType][o].cond)){_os=_osRules[deviceType][o].result,_osVersion=_searchVersion(ua,_osRules[deviceType][o].versearch);break}for(var b=0;b<_browserRules[deviceType].length;b++)if(ua.match(_browserRules[deviceType][b].cond)){_browser=_browserRules[deviceType][b].result,_browserVersion=_searchVersion(ua,_browserRules[deviceType][b].versearch);break}var clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||null;if(clientWidth)for(var i in mediaBreakPoints)clientWidth>=mediaBreakPoints[i]&&(breakpoint=mediaBreakpointNames[i]);var connection=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};_connectionType=connection.type,_ua=ua,_deviceType=deviceType,_breakpoint=breakpoint},_checkInfo=function(a){_deviceType||_getDeviceInfo()},_getDeviceType=function(){return _checkInfo(),_deviceType},_getOs=function(){return _checkInfo(),_os},_getOsVersion=function(){return _checkInfo(),_osVersion},_getBrowser=function(){return _checkInfo(),_browser},_getBrowserVersion=function(){return _checkInfo(),_browserVersion},_getUserAgent=function(){return _checkInfo(),_ua},_getBreakpoint=function(){return _checkInfo(),_breakpoint},_getConnectionType=function(){return _checkInfo(),_connectionType},_getConnectionSpeed=function(){return _checkInfo(),_connectionSpeed},_isError=function(){return null===_deviceType},_isServer=function(){return"server"===_deviceType},_isDesktop=function(){return"desktop"===_deviceType},_isTablet=function(){return"tablet"===_deviceType},_isPhone=function(){return"mobile"===_deviceType},_isMobile=function(){return _isPhone()||_isTablet()},_isTV=function(){return"tv"===_deviceType},_isWebView=function(){var a=_getUserAgent();return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(a)},_isBrowserDesktopFirefox=function(){return _isDesktop()&&"Firefox"===_browser},_isBrowserDesktopIE=function(){return _isDesktop()&&"MSIE"===_browser},_isBrowserDesktopIE6=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=6&&7>_browserVersion},_isBrowserDesktopIE7=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=7&&8>_browserVersion},_isBrowserDesktopIE8=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=8&&9>_browserVersion},_isBrowserDesktopIE9=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=9&&10>_browserVersion},_isBrowserDesktopIE10=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=10&&11>_browserVersion},_isBrowserDesktopIE11=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=11&&12>_browserVersion},_isSizeA=function(){return"A"===_breakpoint},_isSizeB=function(){return"B"===_breakpoint},_isSizeC=function(){return"C"===_breakpoint},_isSizeD=function(){return"D"===_breakpoint},_isHighSpeed=function(){return 3===_connectionType||4===_connectionType},_isMediumSpeed=function(){return 3===_connectionType||4===_connectionType},_isLowSpeed=function(){return 3===_connectionType||4===_connectionType},_isUnknownSpeed=function(){return 3===_connectionType||4===_connectionType},_cleanSlug=function(a){return angular.isDefined(a)?a.toLowerCase().replace(/\s/g,"-"):void 0},_getSlugList=function(){if(_checkInfo(),"undefined"==typeof _slugList){var a=[];return a.push(_cleanSlug(_deviceType)),a.push(_cleanSlug(_os)),a.push(_cleanSlug(_browser)),_osVersion&&a.push(_cleanSlug(_os+parseInt(_osVersion,10).toString())),_browserVersion&&a.push(_cleanSlug(_browser+parseInt(_browserVersion,10).toString())),_slugList=a}return _slugList};this.$get=function(){return{getDeviceInfo:_getDeviceInfo,getDeviceType:_getDeviceType,getOs:_getOs,getOsVersion:_getOsVersion,getBrowser:_getBrowser,getBrowserVersion:_getBrowserVersion,getBreakpoint:_getBreakpoint,getConnectionType:_getConnectionType,getConnectionSpeed:_getConnectionSpeed,getSlugList:_getSlugList,getUserAgent:_getUserAgent,isError:_isError,isServer:_isServer,isDesktop:_isDesktop,isTablet:_isTablet,isPhone:_isPhone,isMobile:_isMobile,isTV:_isTV,isWebView:_isWebView,isBrowserDesktopFirefox:_isBrowserDesktopFirefox,isBrowserDesktopIE:_isBrowserDesktopIE,isBrowserDesktopIE6:_isBrowserDesktopIE6,isBrowserDesktopIE7:_isBrowserDesktopIE7,isBrowserDesktopIE8:_isBrowserDesktopIE8,isBrowserDesktopIE9:_isBrowserDesktopIE9,isBrowserDesktopIE10:_isBrowserDesktopIE10,isBrowserDesktopIE11:_isBrowserDesktopIE11,isSizeA:_isSizeA,isSizeB:_isSizeB,isSizeC:_isSizeC,isSizeD:_isSizeD,isHighSpeed:_isHighSpeed,isMediumSpeed:_isMediumSpeed,isLowSpeed:_isLowSpeed,isUnknownSpeed:_isUnknownSpeed}}}}),define("phxCore/services/phxChangeDetectionUtils",[],function(){"use strict";return["$window",function(a){var b=function(b,c){if(a.requestAnimationFrame){var d=angular.element("<iframe width=0 frameborder=0></iframe>");return d.css("height","100%"),d.css("position","absolute"),d.css("top","0"),d.css("bottom","0"),d.css("right","0"),d.css("left","auto"),d.css("opacity","0"),b.append(d),a.requestAnimationFrame(function(){d[0].contentWindow.onresize=c}),function(){d.remove()}}};return{addHeightChangeListener:b}}]}),define("phxCore/services/phxContentApi",[],function(){"use strict";return["$http","$q","$location","$rootScope","Config","phxSocial","phxDataPreparation","phxCategorizr",function(a,b,c,d,e,f,g,h){function i(a,b,c){this.items=a.items,this.totalItems=a.totalItems||a.items.length,this.title=a.title,this.path=b,this.loading=!1,this._collection=a,this._queryParams=c||{},this._moreItemsCallbacks=[],this._loadingCallbacks=[],this._moreResultsToken=a.moreResultsToken,this.hasMoreItems=this._hasMoreItems(a),this._createBackLinks()}function j(a,b,c,d){if(a&&"object"==typeof a){for(var e in a)"_collection"!==e&&(a[e]=j(a[e],b,c,d));a.objectType&&("stream"===a.objectType?a=new i(a,b,c):a.id&&(g.prepareItem(a),d.push(a)))}return a}function k(b){var c={};angular.forEach(b,function(a){if(a.path&&"ContentUserProfile"!==a.objectType&&(a.socialStats&&(a.socialProof=f.buildSocialProof(a.socialStats)),!h.isServer()&&f.isFresh(a.publicationTimestamp)&&"ContentRichTerm"!==a.objectType&&Object.keys(c).length<100)){var b="ContentArticle"===a.objectType?a.contentNodeId:a.id;c[b]||(c[b]=[]),c[b].push(a)}});var d=[];for(var e in c)d.push(e);d.length>0&&(d.sort(),a.get("/.api/social-by-ids/"+d.join(",")).then(function(a){angular.forEach(a.data||{},function(a,b){function d(c){e[b]||(e[b]=f.buildSocialProof(a)),c.socialProof=e[b]}var e={};c[b].forEach(d)})}))}function l(a,b,c){var d=[],e=j(a,b,c,d);return k(d),e}function m(c,d){d=d?angular.copy(d):{},d.previewTime=p,d.auth=q,d.expires=r,d.nonce=s;var e=c+"?"+JSON.stringify(d);return u[e]?u[e]:a.get("/.api/item"+c,{params:d}).then(function(a){var b=l(a.data,a.data.path,d,!0);return b},function(a){if(404===a.status)return null;var c="HTTP Error "+a.status;a.data&&a.data.error&&(c+=" - "+a.data.error);var d=new Error(c);return d.status=a.status,b.reject(d)})}function n(b,c){var d="/.api/reading-list/"+b;return c&&(d+="?size="+c),a.get(d).then(function(a){return l(a.data,null,null,!1)})}function o(){var b={previewTime:p,auth:q,expires:r,nonce:s};return a.get("/.api/coverlines",{params:b}).then(function(a){return l(a.data,null,null,!1)})}var p,q,r,s,t=d.$on("$locationChangeSuccess",function(){p=c.search().previewTime,q=c.search().auth,r=c.search().expires,s=c.search().nonce,t()}),u={};return i.prototype={loadMoreItems:function(){if(!this.loading&&this.hasMoreItems){var b=this;this.loading=!0,this._callCallbacks(this._loadingCallbacks,[this.loading]);var c=angular.copy(this._queryParams);c.moreResultsToken=this._moreResultsToken,a.get("/.api/stream"+this.path,{params:c}).then(function(a){return l(a.data)}).then(function(a){a=a._collection,b._moreResultsToken=a.moreResultsToken;var c=b.items.length;Array.prototype.push.apply(b.items,a.items),b.loading=!1,b.hasMoreItems=b._hasMoreItems(a),b._createBackLinks(),b._callCallbacks(b._loadingCallbacks,[b.loading]),b._callCallbacks(b._moreItemsCallbacks,[c])})}},watchMoreItems:function(a){this._moreItemsCallbacks.push(a)},watchLoading:function(a){this._loadingCallbacks.push(a)},_callCallbacks:function(a,b){for(var c=0;c<a.length;c++)a[c].apply(this,b)},_hasMoreItems:function(a){var b=!!(this.path&&a.moreResultsToken&&a.items.length>0&&this.items.length<a.totalItems);return b},_createBackLinks:function(){this.items.forEach(function(a,b){a._collection=this,a._collectionIndex=b},this)}},{getContentItem:m,getReadingList:n,getCoverlines:o,ContentStreamer:i}}]}),define("phxCore/services/phxCachedContentItems",[],function(){"use strict";return["$q",function(a){var b={};return{getById:function(a){return b[a]},put:function(a){a&&a.id&&(b[a.id]=a)},getObjectPromise:function(b){return a.when(this.getById(b))},getMultiObjectPromises:function(a){return a.map(this.getObjectPromise,this)}}}]}),define("phxCore/services/phxCookies",[],function(){"use strict";return["cstLogger",function(a){function b(b){var c=null;try{c=$.cookie(b)}catch(d){a.error("Potential previous UAID cookie corruption!: "+d)}return c}function c(a,b,c){$.cookie(a,b,c)}return $.cookie.json=!0,$.cookie.defaults.path="/",{get:b,put:c}}]}),define("phxCore/services/phxDataPreparation",[],function(){"use strict";return["$filter","Config","phxUtil","phxCachedContentItems",function(a,b,c,d){function e(a){if(a){var b=a.match(h);if(b){var c=parseInt(b[2],10);return b[1]&&(c+=60*parseInt(b[1],10)),c}}return null}function f(a,b){return a.overrideLabel=b.overrideLabel,a.overridePromoTitle=b.overridePromoTitle,a.isImageOnly=b.isImageOnly,a.primaryImageId=b.overridePromoPhotoId||a.primaryImageId,a.primaryImage=b.overridePromoPhoto||a.primaryImage,a.featuredImageId=b.overridePromoPhotoId||a.featuredImageId,a.featuredImage=b.overridePromoPhoto||a.featuredImage,a.promoTitle=b.overridePromoTitle||a.promoTitle,a}function g(a){if(a._block){var e=a._block;delete a._block,a=f(a,e)}return i[a.objectType]&&(a.promoTitle=a.promoTitle||a.title,a.author=a.authorProfile,a.label=c.getLabelForItem(a),a.canonicalUrl=a.canonicalUrl||b.siteUrl+a.path,i[a.objectType](a)),d.put(a),a}var h=/^(\d*):(\d+)$/,i={ContentArticle:function(a){a.disqusTitle=a.promoTitle,a.author&&(a.disqusTitle+=" - by "+a.author.title),a.disqusIdentifier=a.disqusId},ContentRecipe:function(a){var b=[{key:"duration",display:"Duration",type:"time",itemprop:"totalTime"},{key:"cookTime",display:"Cook Time",type:"time",itemprop:"cookTime"},{key:"prepTime",display:"Prep Time",type:"time",itemprop:"prepTime"},{key:"servingSizeDescription",display:"Servings",type:"string",itemprop:"recipeYield"}];a.properties=[],angular.forEach(b,function(b){if(a[b.key]){var c=angular.copy(b);c.value=a[b.key],a.properties.push(c)}}),a.disqusTitle=a.promoTitle,a.author&&(a.disqusTitle+=" - by "+a.author.title),a.disqusIdentifier=a.disqusId},ContentVideo:function(a){if(a.display){var b="<p>"+a.display.sdescs+"</p>";a.source&&a.source.path&&a.source.title&&(b+='<p>Read more about <a href="'+a.source.path+'">'+a.source.title+"</a>.</p>"),
angular.extend(a,{title:a.display.title,primaryImage:{externalUrl:a.display.image.url},videoPlatformCode:"theplatform",videoPlatformId:a.videoTpID,videoPlatformMeta:{videoURLs:a.videoURLs},bodyTml:b,duration:e(a.display.duration),contentRating:a.display.rating,publicationTimestamp:new Date(a.display.addedTimestamp).toISOString(),contentUrl:a.videoURLs?a.videoURLs.releaseURL:null}),delete a.primaryAssociation,delete a.videoID,delete a.videoTpID,delete a.display,delete a.videoURLs}},ContentEmbed:function(a){},ContentBasicPage:function(a){},ContentPerson:function(a){},ContentRichTerm:function(a){},ContentUserProfile:function(a){},ContentReference:function(a){},ContentHubPage:function(a){},ContentSection:function(a){}};return{prepareItem:g,parseTimeInterval:e}}]}),define("phxCore/services/phxEmbeds",[],function(){"use strict";return["$q","$http","$rootScope","$timeout","Config",function(a,b,c,d,e){function f(){if(0!==j.length){var a=j;j=[],b({method:"JSONP",url:document.location.protocol+"//api.embed.ly/1/oembed",params:{key:e.embedly.apiKey,urls:a.map(function(a){return a.url}),callback:"JSON_CALLBACK",maxwidth:h,width:h,autoplay:!1,nostyle:!0},responseType:"json"}).success(function(b,c,d,e){b.map(function(b,c){a[c].promise.resolve(b)})}).error(function(b,c,d,e){a.map(function(a){a.promise.reject(b)})})}}var g,h=630,i=200,j=[];c.$on("phxFocusedPageChanged",function(){window.embedly&&d(function(){angular.element("a.embedly-card").length>0&&window.embedly.look()},50)});var k=!1,l=function(c){var d=a.defer();return b({method:"JSONP",params:{callback:"JSON_CALLBACK"},url:"https://api.instagram.com/oembed/?url=http://instagr.am/p/"+c+"/"}).then(function(a){d.resolve(a.data)}),d.promise};return{createCard:function(a){var b='<a class="embedly-card" href="'+a+'" data-card-chrome="0" data-card-controls="0"></a>';if(!k){var c=document.createElement("script");c.setAttribute("src",("https:"===document.location.protocol?"https":"http")+"://cdn.embedly.com/widgets/platform.js"),c.setAttribute("id","embedly-platform"),c.setAttribute("async","true"),document.getElementsByTagName("head")[0].appendChild(c),k=!0}return b},load:function(b){g&&d.cancel(g);var c=a.defer();return j.push({url:b,promise:c}),g=d(function(){d.cancel(g),f()},i),c.promise},loadInstagram:l}}]}),define("delivery/now",[],function(){"use strict";return function(){return(new Date).getTime()}}),define("delivery/json",[],function(){"use strict";var localJSON=window.JSON||{};return"undefined"!=typeof localJSON.stringify&&'{"test":["1"]}'===localJSON.stringify({test:["1"]})||(localJSON.stringify=function(a){var b=typeof a;if("object"!==b||null===a)return"string"===b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor===Array;for(c in a)d=a[c],b=typeof d,"function"!==b&&("string"===b?d='"'+d+'"':"object"===b&&null!==d&&(d=localJSON.stringify(d)),e.push((f?"":'"'+c+'":')+String(d)));return(f?"[":"{")+String(e)+(f?"]":"}")},localJSON.parse=localJSON.parse||function(string){return eval("("+string+")")}),localJSON}),define("delivery/clone",["delivery/json"],function(a){"use strict";return function(b){return a.parse(a.stringify(b))}}),define("delivery/mixin",[],function(){"use strict";return function(a){for(var b in this)if(this.hasOwnProperty(b)){if(a.hasOwnProperty(b))throw new Error(a.toString()+" already has property "+b);a[b]=this[b]}}}),define("cyclamen/eventbus",["delivery/json","delivery/clone","delivery/mixin"],function(a,b,c){"use strict";function d(d){var e={},f={},g={},h=function(a,b){return a+":"+b},i=function(a,b){return b in a||(a[b]=[]),a[b]};this.onListen=function(a,b,c){var d=h(a,b);if("function"!=typeof c)throw new Error("callback argument must be a function");var f=i(e,d);f.push(c)},this.addListener=function(a,b,c){var d=h(a,b);if("function"!=typeof c)throw new Error("callback argument must be a function");g.hasOwnProperty(d)&&c.call(this,g[d]);var j=i(f,d);for(j.push(c),j=i(e,d);j.length>0;)j.shift()();return!0},this.removeListener=function(a,b,c){for(var d=h(a,b),e=i(f,d),g=0;g<e.length;g++)if(c===e[g]){do g===e.length?e.pop():e[g]=e[g+1];while(g++<e.length);return!0}return!1},this.dispatch=function(c,e,j){var k=h(c,e);if("string"!=typeof e&&(j=e),"undefined"==typeof j)j={};else if("object"!=typeof j)throw new Error("EventBus.dispatch(ns,type,event): event argument must be an object");var l=i(f,k).slice(0);d&&d.isDebug&&d.debug(k+" - "+a.stringify(j,function(a,b){return"impression"===a&&"object"==typeof b?"[object Impression]":b})+" ("+l.length+" listeners)");for(var m=0;m<l.length;m++)if(l[m].call(this,b(j))===!1)return!1;return g[k]=j,!0},this.dispatcher=function(a){var b=this;return{dispatch:function(c,d){b.dispatch(a,c,d)}}},this.mixin=function(a,b){c.call(this,a),"undefined"!=typeof b&&(delete a.dispatcher,delete a.dispatch,c.call(this.dispatcher(b),a))}}return d}),define("cyclamen/session",["delivery/now","cyclamen/eventbus"],function(a,b){"use strict";return function(c,d,e,f,g,h){this.bus=h||new b(c),this.bus.mixin(this),this.rid=d,this.time=a(),this.product=e,this.specification=f,this.meta=g,this.elapsed=function(){return a()-this.time};var i=f&&f.creative&&f.creative.ctas;if(i&&i.constructor===Array){for(var j={},k=0;k<i.length;k++)for(var l in i[k])i[k].hasOwnProperty(l)&&(j[l]=i[k][l]);f.creative.ctas=j}}}),define("cyclamen/pageview",["cyclamen/session"],function(a,b){"use strict";return function(b,c,d){this.rid=b,this.node=c,this.section=d;var e={debug:function(){console.debug.call(console,arguments)},error:function(){console.error.call(console,arguments)},isDebug:!1};a.call(this,e,b)}}),define("phxCore/services/phxEventBus",["cyclamen/pageview"],function(a){"use strict";return function(){return a}}),define("delivery/event",[],function(){"use strict";function a(){this.add=function(a,b,c){a.addEventListener?a.addEventListener(b,c):"function"==typeof jQuery?jQuery(a).on(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},this.remove=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):"function"==typeof jQuery?jQuery(a).off(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},this.trigger=function(a,b,c){var d=a.ownerDocument;if(a.dispatchEvent&&d.createEvent){var e=d.createEvent("Event");if(e.initEvent(b,!0,!0),"undefined"!=typeof c)for(var f in c)f in e||(e[f]=c[f]);a.dispatchEvent(e)}else"function"==typeof jQuery&&jQuery(a).trigger(b,c)}}return new a}),define("delivery/indexof",[],function(){"use strict";return function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}}),define("cyclamen/demux",["delivery/event","delivery/indexof"],function(a,b){"use strict";function c(c,d,e,f,g){"undefined"==typeof f&&(f={}),"undefined"==typeof g&&(g=[]);var h={dom:function(b,c,e,f){if("string"!=typeof f)throw new Error("DOM target must be event name");if("object"!=typeof b.node)throw new Error("DOM events only supported for session types that belong to a DOM node");return function(c){d.debug("demux.DOM: "+f),c.rid=b.rid,c.integrationId=b.integrationId,c.session=b,c.impression=b,a.trigger(b.node,f,c)}},beacon:function(a,e,f,h){if("string"!=typeof h)throw new Error("event target must be a beacon name");return function(e){if(d.debug("demux.beacon: "+h),b(g,h)>-1){var f,i,j=a.specification?a.specification.traffic:void 0,k=["ccid","lineitemid","creativeid"];if(j)for(f=0;f<k.length;f++)i=k[f],"string"==typeof j[i]&&j[i].length&&(e[i]=j[i]);var l=a.specification?a.specification.creative:void 0,m=["prod"];if(l)for(f=0;f<m.length;f++)i=m[f],"string"==typeof l[i]&&l[i].length&&(e[i]=l[i]);a.dimensions&&a.dimensions.length&&(e.dim=a.dimensions),a.integrationId&&(e.intgid=a.integrationId),e.integrationId&&delete e.integrationId}c.send(h,a.rid,e)}},event:function(a,b,c,e){if("string"!=typeof e)throw new Error("event target must be an event name");return function(c){d.debug("demux.event: "+e),a.dispatch(b,e,c)}},report:function(a,b,c,e){if(e.constructor!==Array)throw new Error(b+":"+c+" event report specification must be an argument mapping, in the form of an array.");return function(b){if("object"!=typeof a.report)throw new Error("Impression report reporting only supported for session types with an impression report object.");var c=a.report,f=e[0];d.debug("demux.report: "+f);for(var g=[],h=1;h<e.length;h++)g.push(b[e[h]]);if("function"!=typeof c[f]){var i="report object has no method "+f;throw d.error(i),new Error(i)}c[f].apply(c,g)}},"function":function(a,b,c,e){return function(b){if("object"!=typeof a.node)throw new Error("Global function reporting only supported for session types that belong to a DOM node");var c=window[e];d.debug("demux.function: "+e),"function"==typeof c&&c.call(a,a.node.parentNode,b)}}},i=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},j=function(a,b){var c=i(a).concat(i(b));if(c.length>1){c.sort();for(var d=0,e=0;e<c.length;d++)for(d!==e&&(c[d]=c[e]);c[d]===c[e];)e++;c.splice(d,e-d)}return c},k=function(a,b,c,d){var e=function(){return a.removeListener(b,c,e),d.apply(this,arguments)};return e};this.attach=function(a){var b=a.product,c={};"undefined"!=typeof b&&f[b]&&(c=f[b]);for(var g=j(e,c),i=0;i<g.length;i++)for(var l=g[i],m=e[l]||{},n=c[l]||{},o=j(m,n),p=0;p<o.length;p++)for(var q=o[p],r=m[q]||{},s=n[q]||{},t=j(r,s),u=0;u<t.length;u++){var v=t[u],w=!1,x=s[v];if("undefined"==typeof x&&(x=r[v]),null!==x){"+"===v.substring(0,1)&&(w=!0,v=v.substring(1)),h.hasOwnProperty(v)||d.error("Unknown dispatch type "+l+":"+q+" "+v);var y=h[v](a,l,q,x);w&&(y=k(a,l,q,y)),a.addListener(l,q,y)}}},this.getRules=function(){return e.clone()}}return c}),define("phxCore/services/phxEventDemux",["cyclamen/demux"],function(a){"use strict";var b={};return["cstLogger","phxBeaconClient",function(c,d){var e=d.makeBeaconClient();return function(d,f){return a.call(this,e,c,d,b,f)}}]}),define("components/features-js/features",[],function(){"use strict";function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}function b(a){return a instanceof Array}function c(a){return!b(a)&&a instanceof Object}function d(a){return"string"==typeof a}function e(a){return null==a}function f(a,b,d){return c(a)&&a.hasOwnProperty(b)?a[b]:d}var g=function(a,b,c){this._name=a,this._cache={},this._world=c,e(b)?b={enabled:this.OFF}:d(b)&&(b={enabled:b}),this._description=this._parseDescription(b),this._enabled=this._parseEnabled(b),this._users=this._parseUsersOrGroups(b,this.USERS),this._groups=this._parseUsersOrGroups(b,this.GROUPS),this._adminVariant=this._parseVariantName(b,this.ADMIN),this._internalVariant=this._parseVariantName(b,this.INTERNAL),this._public_url_override=this._parsePublicURLOverride(b),this._bucketing=this._parseBucketBy(b),this._percentages=this._computePercentages()};g.prototype={DESCRIPTION:"description",ENABLED:"enabled",USERS:"users",GROUPS:"groups",ADMIN:"admin",INTERNAL:"internal",PUBLIC_URL_OVERRIDE:"publicUrlOverride",BUCKETING:"bucketing",ON:"on",OFF:"off",UAID:"uaid",USER:"user",RANDOM:"random",isEnabled:function(){var a=this._bucketingID(),b=this._world.userID();return this._chooseVariant(a,b,!1)!==this.OFF},variant:function(){var a=this._bucketingID(),b=this._world.userID();return this._chooseVariant(a,b,!0)},isEnabledFor:function(a){var b=this.getUserIdFrom(a);return this._chooseVariant(b,b,!1)!==this.OFF},isEnabledBucketingBy:function(a){var b=this._world.userID();return this._chooseVariant(a,b,!1)!==this.OFF},variantFor:function(a){var b=this._getUserIdFrom(a);return this._chooseVariant(b,b,!0)},variantBucketingBy:function(a){var b=this._world.userID();return this._chooseVariant(a,b,!0)},description:function(){return this._description},_getUserIdFromUser:function(a){return a.user_id},_chooseVariant:function(a,b,c){if(c&&this._enabled===this.ON&&this._error("Variant check when fully enabled"),d(this._enabled))return this._enabled;if(e(a)&&this._error("No bucketing ID supplied"),this._cache.hasOwnProperty(a))return this._cache[a];var f=this._variantFromURL(b)||this._variantForUser(b)||this._variantForGroup(b)||this._variantForAdmin(b)||this._variantForInternal()||this._variantByPercentage(a)||[this.OFF,"w"],g=f[0],h=f[1];return c&&g===this.OFF&&this._error("Variant check outside enabled check"),this._world.log(this._name,g,h),this._cache[a]=g,g},_bucketingID:function(){switch(this._bucketing){case this.UAID:case this.RANDOM:var a=this._world.uaid();return a?a:"no uaid";case this.USER:var b=this._world.userID();return e(b)?this._world.uaid():b;default:this._error("Bad bucketing: "+this._bucketing)}},_variantFromURL:function(a){if(this._public_url_override||this._world.isInternalRequest()||this._world.isAdmin(a)){var b=this._world.urlFeatures();if(b)for(var c=b.split(","),d=0;d<c.length;d++){var e=c[d].split(":");if(e[0]===this._name)return[e.length>1?e[1]:this.ON,"o"]}}return!1},_variantForUser:function(a){if(this._users){var b=this._world.userName(a);if(b&&this._users.hasOwnProperty(b))return[this._users[b],"u"]}return!1},_variantForGroup:function(a){if(a)for(var b in this._groups)if(this._world.inGroup(a,b))return[this._groups[b],"g"];return!1},_variantForAdmin:function(a){return a&&this._adminVariant&&this._world.isAdmin(a)?[this._adminVariant,"a"]:!1},_variantForInternal:function(){return this._internalVariant&&this._world.isInternalRequest()?[this._internalVariant,"i"]:!1},_variantByPercentage:function(a){for(var b=100*this._randomish(a),c=0;c<this._percentages.length;c++){var d=this._percentages[c];if(b<d[0]||100===d[0])return[d[1],"w"]}return!1},_randomish:function(a){return this._bucketing===this.RANDOM?this._world.random():this._world.hash(this._name+"-"+a)},_parseDescription:function(a){return f(a,this.DESCRIPTION,"No description")},_parseEnabled:function(b){var e=f(b,this.ENABLED,0);return a(e)?(0>e?(this._error("enabled ("+e+") < 0"),e=0):e>100&&(this._error("enabled ("+e+") > 100"),e=100),{on:e}):d(e)||c(e)?e:void this._error("Malformed enabled property")},_computePercentages:function(){var b=0,d=[];if(c(this._enabled))for(var e in this._enabled){var f=this._enabled[e];(!a(f)||0>f||f>100)&&this._error("Bad percentage "+f),f>0&&(b+=f,d.push([b,e])),b>100&&this._error("Total of percentages > 100: "+b)}return d},_parseUsersOrGroups:function(e,g){var h=f(e,g);if(d(h)||a(h)){var i={};return i[h]=this.ON,i}if(b(h)){for(var j={},k=0;k<h.length;k++)j[h[k].toLowerCase()]=this.ON;return j}if(!c(h))return{};var j={},l=[];if(!l){for(var m in h){var n=h[m];for(var o in n)j[o.toLowerCase()]=m}return j}this._error("Unknown variants "+l.join(", "))},_parseVariantName:function(a,b){var d=f(a,b);return d?c(this._enabled)?this._enabled.hasOwnProperty(d)?d:void this._error("Unknown variant "+d):d:!1},_parsePublicURLOverride:function(a){return f(a,this.PUBLIC_URL_OVERRIDE,!1)},_parseBucketBy:function(a){return f(a,this.BUCKETING,this.UAID)},_error:function(a){throw a}};var h=function(a){this._world=a,this._configCache={}};return h.prototype={isEnabled:function(a){return this._fromConfig(a).isEnabled()},isEnabledFor:function(a,b){return this._fromConfig(a).isEnabledFor(b)},isEnabledBucketingBy:function(a,b){return this._fromConfig(a).isEnabledBucketingBy(b)},variant:function(a){return this._fromConfig(a).variant()},variantFor:function(a,b){return this._fromConfig(a).variantFor(b)},variantBucketingBy:function(a,b){return this._fromConfig(a).variantBucketingBy(b)},description:function(a){return this._fromConfig(a).description()},data:function(a,b){var c=this._world.configValue(a);return c&&c.hasOwnProperty("data")?c.data:b||{}},variantData:function(a,b){var c=this.data(a),d=this.variant(a);return c.hasOwnProperty(d)?c[d]:b},_fromConfig:function(a){if(this._configCache.hasOwnProperty(a))return this._configCache[a];var b=this._world.configValue(a),c=new g(a,b,this._world);return this._configCache[a]=c,c},selections:function(){return this._world.selections()}},h}),function(a){"use strict";function b(){var b=a.crypto||a.msCrypto;if(!h&&b&&b.getRandomValues)try{var c=new Uint8Array(16);k=h=function(){return b.getRandomValues(c),c},h()}catch(d){}if(!h){var e=new Array(16);i=h=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),e[b]=a>>>((3&b)<<3)&255;return e},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function c(){if("function"==typeof require)try{var a=require("crypto").randomBytes;j=h=a&&function(){return a(16)},h()}catch(b){}}function d(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=o[a])});16>e;)b[d+e++]=0;return b}function e(a,b){var c=b||0,d=n;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function f(a,b,c){var d=b&&c||0,f=b||[];a=a||{};var g=null!=a.clockseq?a.clockseq:s,h=null!=a.msecs?a.msecs:(new Date).getTime(),i=null!=a.nsecs?a.nsecs:u+1,j=h-t+(i-u)/1e4;if(0>j&&null==a.clockseq&&(g=g+1&16383),(0>j||h>t)&&null==a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t=h,u=i,s=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[d++]=k>>>24&255,f[d++]=k>>>16&255,f[d++]=k>>>8&255,f[d++]=255&k;var l=h/4294967296*1e4&268435455;f[d++]=l>>>8&255,f[d++]=255&l,f[d++]=l>>>24&15|16,f[d++]=l>>>16&255,f[d++]=g>>>8|128,f[d++]=255&g;for(var m=a.node||r,n=0;6>n;n++)f[d+n]=m[n];return b?b:e(f)}function g(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"===a?new m(16):null,a=null),a=a||{};var f=a.random||(a.rng||h)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b)for(var g=0;16>g;g++)b[d+g]=f[g];return b||e(f)}var h,i,j,k,l;a?b():c();for(var m="function"==typeof Buffer?Buffer:Array,n=[],o={},p=0;256>p;p++)n[p]=(p+256).toString(16).substr(1),o[n[p]]=p;var q=h(),r=[1|q[0],q[1],q[2],q[3],q[4],q[5]],s=16383&(q[6]<<8|q[7]),t=0,u=0,v=g;v.v1=f,v.v4=g,v.parse=d,v.unparse=e,v.BufferClass=m,v._rng=h,v._mathRNG=i,v._nodeRNG=j,v._whatwgRNG=k,"undefined"!=typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd?define("components/node-uuid/uuid",[],function(){return v}):(l=a.uuid,v.noConflict=function(){return a.uuid=l,v},a.uuid=v)}("undefined"!=typeof window?window:null),define("phxCore/services/phxFeatures",["components/features-js/features","components/node-uuid/uuid"],function(a,b){"use strict";return["Config","cstLogger","phxCookies","$location","$window",function(c,d,e,f,g){var h="uaid",i=null,j=c.features2&&c.features2.flags||{},k=c.features2&&c.features2.googleExperiment||null,l=function(){this._selections=[]};l.prototype={configValue:function(a,b){if(g.cxApi&&k&&k.flag===a){var c,d=g.cxApi.chooseVariation(k.experimentId);if(c=k.variations&&k.variations[d]?k.variations[d]:"off","off"===c)return{enabled:0,publicUrlOverride:!0};var e={};return e[c]=100,{enabled:e,publicUrlOverride:!0}}return j.hasOwnProperty(a)?j[a]:b},uaid:function(){if(i)return i;var a=e.get(h);return a&&a.uaid?i=a.uaid:a&&!a.uaid?(i=b.v4(),e.put(h,{uaid:i},{expires:3650}),d.info("Potential previous UAID cookie corruption: "+i)):(i=b.v4(),e.put(h,{uaid:i},{expires:3650})),i},userID:function(){return null},userName:function(a){return null},inGroup:function(a,b){return!1},isAdmin:function(a){return!1},isInternalRequest:function(){return!1},urlFeatures:function(){return f.search().features},random:function(){return Math.random()},hash:function(a){for(var b,c=0,d=0;d<a.length;d++)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return Math.abs(b)%1e3/1e3},log:function(a,b,c){this._selections.push([a,b,c]),d.info("Feature flag: "+a+":"+b+":"+c)},selections:function(){return this._selections}};var m=new a(new l);return m.features=function(){return Object.keys(j)},m}]}),define("phxCore/services/phxFragmentUrl",[],function(){"use strict";return["$location","$rootScope","$timeout","phxCategorizr",function(a,b,c,d){var e=[],f=!1,g=!1,h=null;return{scrollIfHashThenBind:function(b){var d=this,e=a.hash();if(e)if("photos"===e||"videos"===e){var f="photos"===e?"[tml-collection]:not(:has([tml-external-provider]))":"[tml-collection]:has([tml-external-provider])";c(function(){var a=angular.element(f);a.length&&angular.element("html, body").animate({scrollTop:a.offset().top},500)},1e3)}else c(function(){d.setFragment(e,!0,!1),d.bindVerticalScroll(b)},1e3);else d.bindVerticalScroll(b)},setScrolling:function(a){f=a},setFragment:function(e,h,i){var j=100;i&&(a.replace(),a.hash(e),!d.isBrowserDesktopIE10()&&!d.isBrowserDesktopIE11()&&history&&history.replaceState&&history.replaceState({},"",a.url()),b.$$phase||b.$apply(),j=0),h&&(f=!0,c(function(){var a=angular.element('section[tml-anchor="'+e+'"]');a.length&&angular.element("html, body").animate({scrollTop:a.offset().top},500),g&&c(function(){f=!1},600)},200))},bindVerticalScroll:function(a){var b=this;c(function(){$("section[tml-anchor]").each(function(){e.push($(this)),$(this).waypoint(function(){f||b.setFragment($(this).attr("tml-anchor"),!1,!0)},{continuous:!1})}),g=!0,f=!1,$("section.m-page--component").waypoint(function(a){"up"!==a||f||b.setFragment(null,!1,!0)})},2e3),a.$on("$destroy",function(){angular.forEach(e,function(a){a.waypoint("destroy")}),e=[],$("section.l-page-body").waypoint("destroy")})},getInitialFragmentIfNotFound:function(){return h}}}]}),define("phxCore/services/phxLocation",[],function(){"use strict";return["$http","$q","phxAdUtils",function(a,b,c){function d(){if(e)return e.promise;e=b.defer();var d=a.get(c.doveBuildEndpointUrl("location"),{withCredentials:!0,headers:{AccessControlAllowCredentials:!0}});return d.then(function(a){e.resolve(a.data)},function(a){e.reject("Error accessing dove location endpoint: "+a)}),e.promise}var e;return{get:d}}]}),define("phxCore/services/phxGoogleAnalytics",[],function(){"use strict";return["Config","phxUtil","phxCategorizr","$window","phxFeatures",function(a,b,c,d,e){var f,g=a.performance&&b.runInNPercent&&b.runInNPercent(100*a.performance)||!1;return f=d.ga&&!c.isServer()?d.ga:function(){},{set:function(a,b){f("set",a,b),f("_tempestTracker.set",a,b),f("_experimentTracker.set",a,b)},sendPerformanceMetric:function(a,b,d){!c.isServer()&&window._pageLoadStart&&g&&f("_tempestTracker.send","event","Performance",a,b,d,{nonInteraction:1})},sendTiming:function(a,b,e,h){d.console&&d.console.log("TIMING: "+b+" => "+e),!c.isServer()&&d._pageLoadStart&&g&&f("_tempestTracker.send","timing",a,b,e,h)},sendEvent:function(a,b,c,d,e){f("send","event",a,b,c,d,{nonInteraction:e}),f("_tempestTracker.send","event",a,b,c,d,{nonInteraction:e}),f("_experimentTracker.send","event",a,b,c,d,{nonInteraction:e})},sendPageView:function(a,b){f("_experimentTracker.set","dimension5","subsequent"),f("_experimentTracker.set","dimension6",""),f("_experimentTracker.set","dimension7",window.cxApi?""+window.cxApi.getChosenVariation():"no_cxapi"),f("_experimentTracker.set","dimension8",e.isEnabled("smartnav")?e.variant("smartnav"):"not_enabled"),f("set","page",a),f("send","pageview",a),f("_tempestTracker.set","page",a),f("_tempestTracker.send","pageview",a),b&&"ContentPhoto"===b.objectType||(f("_experimentTracker.set","page",a),f("_experimentTracker.send","pageview",a))}}}]}),define("phxCore/services/phxImageOptions",[],function(){"use strict";return["phxImageOptionsProfiles","Config","phxResponsiveSize","phxUtil",function(a,b,c,d){function e(a){var b=c.getName(),h=g[b];if(h.hasOwnProperty(a))return h[a];h[a]=null;var i=f[a]||null;if(i&&i[b]&&(i=$.extend(!0,{},i,i[b])),i&&i["extends"]){var j=e(i["extends"]);j&&"object"==typeof j&&(i=$.extend(!0,{},j,i))}if(i){var k=i.hasOwnProperty("viewportIncrement")?i.viewportIncrement:f.hasOwnProperty("viewportIncrement")?f.viewportIncrement:500,l=i.hasOwnProperty("viewportRound")?Math[i.viewportRound]:f.hasOwnProperty("viewportRound")?Math[f.viewportRound]:Math.floor;if(i.hasOwnProperty("width")&&"viewport"===i.width){var m=d.getViewportDimensions().width;i.width=k*l(m/k)}if(i.hasOwnProperty("height")&&"viewport"===i.height){var n=d.getViewportDimensions().height;i.height=k*l(n/k)}}return h[a]=i,i}var f=a;b.imageOptions&&(f=$.extend(!0,{},f,b.imageOptions));var g={A:{},B:{},C:{},D:{}};return{getOptions:e}}]}),define("phxCore/services/phxImageOptionsProfiles",{"default":{},standardCard:{crop:"fill",gravity:"face",width:300,height:170,retinaQuality:40,convertPngToJpg:!0},imageCard:{"extends":"standardCard",height:350},largeListCard:{"extends":"imageCard",width:620,height:350},verticalListCard:{"extends":"imageCard",width:220,height:330},doubleImageCard:{A:{"extends":"imageCard",width:360,height:205},B:{"extends":"imageCard",width:620,height:350},C:{"extends":"imageCard",width:620,height:350}},tripleImageCard:{A:{"extends":"imageCard",width:360,height:205},B:{"extends":"imageCard",width:620,height:350},C:{"extends":"imageCard",width:940,height:530}},doubleSideBySideImageCard:{A:{"extends":"imageCard",width:360,height:205},B:{"extends":"imageCard",width:620,height:350},C:{"extends":"imageCard",width:460,height:260}},readingList:{crop:"fill",gravity:"face",width:200,height:150},smartNav:{crop:"fill",gravity:"face",width:45,height:45},contentStrip:{crop:"fill",gravity:"face",width:120,height:120},coverlineImageOnly:{crop:"fill",gravity:"face",height:200,quality:90},coverline:{effect:"sharpen",crop:"fill",gravity:"face",height:80,width:80,quality:90},headerPromoStandard:{effect:"sharpen",crop:"fill",gravity:"face",height:75,width:75,quality:90},headerPromoLarge:{effect:"sharpen",crop:"fill",gravity:"face",height:75,width:75,quality:90},headerPromoStandardImageOnly:{crop:"fill",gravity:"face",height:75,width:200,quality:90},headerPromoLargeImageOnly:{crop:"fill",gravity:"face",height:150,width:110,quality:90},personDetailPrimaryImage:{crop:"fill",gravity:"face",width:300,height:300},recipeDetailPrimaryImage:{crop:"fill",width:940,height:529,quality:70},richTermDetailPrimaryImage:{crop:"fill",gravity:"face",width:1290,height:350},articleDetailPrimaryImage:{crop:"fill",quality:75,retinaQuality:50,A:{width:675},B:{width:1024},C:{viewportIncrement:200,width:"viewport"}},articleDetailAuthorImage:{crop:"fill",width:60,height:60,gravity:"face"},recipeDetailAuthorImage:{crop:"fill",width:120,height:90,gravity:"face"},userProfilePrimaryImage:{crop:"fill",width:600,gravity:"face",height:380},collectionFullscreenImage:{crop:"fit",height:"viewport",width:"viewport",viewportIncrement:500,viewportRound:"ceil"},slideshowBackground:{crop:"fit",width:620,height:406,gravity:"center",effect:"blur:800"},slideshowThumbnail:{crop:"fit",height:406,width:620,quality:50},slideshowFullscreen:{crop:"limit",quality:75,height:2500,width:2500,retinaQuality:40,A:{width:1250,height:1250}},"inlineImage:default":{crop:"fit",width:620,A:{width:320},retinaQuality:40},"inlineImage:mm-small":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:300}},"inlineImage:mm-medium":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:460}},"inlineImage:mm-large":{"extends":"inlineImage:default"},"inlineImage:mm-xlarge":{"extends":"inlineImage:default",A:{width:320},B:{width:620},C:{width:940}},"inlineImage:l-wrap-left":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:300}},"inlineImage:l-wrap-right":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:460}},"inlineImage:l-inline":{"extends":"inlineImage:default"},"inlineImage:l-breakout":{"extends":"inlineImage:default",A:{width:320},B:{width:620},C:{width:940}},"inlineImage:l-full-bleed":{crop:"fill",quality:60,retinaQuality:40,A:{width:568},B:{width:768},C:{viewportIncrement:200,width:"viewport"}},socialSharingImage:{crop:"fit",width:1200,height:1200},promoImage:{crop:"fill",width:400,height:300},brandingBadge:{crop:"limit",width:500,height:100},structuredDataPublisherLogo:{crop:"fit",width:600,height:60,preferredFormat:"png"}}),define("phxCore/services/phxImageResizedUrl",[],function(){"use strict";return["$filter","$q","phxCategorizr",function(a,b,c){return{getImageUrl:function(a,d,e){this.element=a[0]||a,this.roundTo=e;var f=b.defer(),g=this.isImageTag(this.element)?this.element.parentNode:this.element,h=this;return g?this.getElementDimension(g).then(function(a){c.isServer()&&(a={width:1200,height:1200},h.roundTo=1);var b=h.getImageOptions(a,d);if(b!==!1){var e=h.createUrl(b,d);f.resolve(e)}else f.reject()}):f.reject(),f.promise},isImageTag:function(a){var b=a[0]||a;return angular.isElement(b)&&"IMG"===angular.uppercase(b.tagName)},getElementDimension:function(a,c){var d=c||b.defer(),e=a[0]||a,f=+e.offsetWidth||0,g=+e.offsetHeight||0;if(0!==e.offsetWidth&&0!==e.offsetHeight||!e.parentNode){var h={width:f,height:g};d.resolve(h)}else this.getElementDimension(e.parentNode,d);return d.promise},getRoundedSize:function(a){if(a){var b;b=a.width>1e3||a.height>1e3?500:100;var c=this.roundTo||b,d=Math.ceil(a.width/c)*c,e=Math.ceil(d*a.height/a.width),f={width:d,height:e};return f}},createUrl:function(b,c){var d=a("phxImageUrl")(c,b);return d},applyAspectRatioToResize:function(a,b,c){var d={},e=a/b;1>=e?(d.width=Math.round(b*c),d.height=b):(d.height=Math.round(a/c),d.width=a);var f=this.getRoundedSize(d);return f},getImageOptions:function(a,b){if(0===a.width||0===a.height)return!1;var c,d,e=a.width,f=a.height,g=e/f,h=1>=g,i=!h,j=this.applyAspectRatioToResize(a.width,a.height,g),k=j.width?j.width:e,l=j.height?j.height:f;c=i&&k>e?k:e,d=!i&&l>f?l:f,i?d=Math.round(c/g):c=Math.round(d*g);var m=b.hasOwnProperty("hasFaces")&&!b.hasFaces?"center":"faces",n="phxImage_w"+c+"_h"+d,o={crop:"fill",width:c,height:d,format:b.format,profileKey:n,gravity:m};return o}}}]}),define("phxCore/services/phxImageUtil",[],function(){"use strict";return["phxImageOptions",function(a){function b(b,c){var d=a.getOptions(c.profile),e=d.width/b.width,f=d.height/b.height,g=Math.min(e,f);return{width:Math.round(b.width*g),height:Math.round(b.height*g)}}return{scaleDimensions:b}}]}),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return za.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){ta.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qb[a]||(e(b),qb[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(){}function k(a,b){b!==!1&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=ta.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ia.length>0)for(c in Ia)d=Ia[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function r(a,b){
var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=ta.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&na(a,"Date",ma(a,"Date")+f*c),g&&la(a,ma(a,"Month")+g*c),d&&ta.updateOffset(a,f||g)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jb[a]||kb[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d),b&&(e[b]=a[d]));return e}function z(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ta[b]=function(e,f){var g,h,i=ta._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ta().utc().set(d,a);return i.call(ta._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return ha(ta([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4===0&&a%100!==0||a%400===0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Ba]<0||a._a[Ba]>11?Ba:a._a[Ca]<1||a._a[Ca]>B(a._a[Aa],a._a[Ba])?Ca:a._a[Da]<0||a._a[Da]>24||24===a._a[Da]&&(0!==a._a[Ea]||0!==a._a[Fa]||0!==a._a[Ga])?Da:a._a[Ea]<0||a._a[Ea]>59?Ea:a._a[Fa]<0||a._a[Fa]>59?Fa:a._a[Ga]<0||a._a[Ga]>999?Ga:-1,a._pf._overflowDayOfYear&&(Aa>b||b>Ca)&&(b=Ca),a._pf.overflow=b)}function G(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(e=H(a[f]).split("-"),b=e.length,c=H(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=J(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Ha[a]&&Ja)try{b=ta.locale(),require("./locale/"+a),ta.locale(b)}catch(c){}return Ha[a]}function K(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(ta.isMoment(a)||v(a)?+a:+ta(a))-+c,c._d.setTime(+c._d+d),ta.updateOffset(c,!1),c):ta(a).local()}function L(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a){var b,c,d=a.match(Na);for(b=0,c=d.length;c>b;b++)pb[d[b]]?d[b]=pb[d[b]]:d[b]=L(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lb[b]||(lb[b]=M(b)),lb[b](a)):a.localeData().invalidDate()}function O(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oa.lastIndex=0;d>=0&&Oa.test(a);)a=a.replace(Oa,c),Oa.lastIndex=0,d-=1;return a}function P(a,b){var c,d=b._strict;switch(a){case"Q":return Za;case"DDDD":return _a;case"YYYY":case"GGGG":case"gggg":return d?ab:Ra;case"Y":case"G":case"g":return cb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bb:Sa;case"S":if(d)return Za;case"SS":if(d)return $a;case"SSS":if(d)return _a;case"DDD":return Qa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ua;case"a":case"A":return b._locale._meridiemParse;case"x":return Xa;case"X":return Ya;case"Z":case"ZZ":return Va;case"T":return Wa;case"SSSS":return Ta;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$a:Pa;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pa;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp(Y(X(a.replace("\\","")),"i"))}}function Q(a){a=a||"";var b=a.match(Va)||[],c=b[b.length-1]||[],d=(c+"").match(hb)||["-",0,0],e=+(60*d[1])+A(d[2]);return"+"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Ba]=3*(A(b)-1));break;case"M":case"MM":null!=b&&(e[Ba]=A(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Ba]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Ca]=A(b));break;case"Do":null!=b&&(e[Ca]=A(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=A(b));break;case"YY":e[Aa]=ta.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Aa]=A(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Da]=A(b);break;case"m":case"mm":e[Ea]=A(b);break;case"s":case"ss":e[Fa]=A(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ga]=A(1e3*("0."+b));break;case"x":c._d=new Date(A(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Q(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=ta.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Aa],ha(ta(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Aa],ha(ta(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ia(d,e,f,h,g),a._a[Aa]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Ca]&&null==a._a[Ba]&&S(a),a._dayOfYear&&(f=b(a._a[Aa],e[Aa]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=da(f,0,a._dayOfYear),a._a[Ba]=d.getUTCMonth(),a._a[Ca]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Da]&&0===a._a[Ea]&&0===a._a[Fa]&&0===a._a[Ga]&&(a._nextDay=!0,a._a[Da]=0),a._d=(a._useUTC?da:ca).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm),a._nextDay&&(a._a[Da]=24)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(b){if(b._f===ta.ISO_8601)return void $(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=O(b._f,b._locale).match(Na)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),pb[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),R(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Da]<=12&&(b._pf.bigHour=a),b._isPm&&b._a[Da]<12&&(b._a[Da]+=12),b._isPm===!1&&12===b._a[Da]&&(b._a[Da]=0),T(b),F(b)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=db.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fb.length;c>b;b++)if(fb[b][1].exec(d)){a._f=fb[b][0]+(e[6]||" ");break}for(b=0,c=gb.length;c>b;b++)if(gb[b][1].exec(d)){a._f+=gb[b][0];break}d.match(Va)&&(a._f+="Z"),W(a)}else a._isValid=!1}function _(a){$(a),a._isValid===!1&&(delete a._isValid,ta.createFromInputFallback(a))}function aa(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function ba(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Ka.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?_(b):u(d)?(b._a=aa(d.slice(0),function(a){return parseInt(a,10)}),T(b)):"object"==typeof d?U(b):"number"==typeof d?b._d=new Date(d):ta.createFromInputFallback(b)}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function fa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ga(a,b,c){var d=ta.duration(a).abs(),e=ya(d.as("s")),f=ya(d.as("m")),g=ya(d.as("h")),h=ya(d.as("d")),i=ya(d.as("M")),j=ya(d.as("y")),k=e<mb.s&&["s",e]||1===f&&["m"]||f<mb.m&&["mm",f]||1===g&&["h"]||g<mb.h&&["hh",g]||1===h&&["d"]||h<mb.d&&["dd",h]||1===i&&["M"]||i<mb.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,fa.apply({},k)}function ha(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ta(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:D(a-1)+g}}function ja(b){var c,d=b._i,e=b._f;return b._locale=b._locale||ta.localeData(b._l),null===d||e===a&&""===d?ta.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),ta.isMoment(d)?new k(d,!0):(e?u(e)?Z(b):W(b):ba(b),c=new k(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function ka(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return ta();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function la(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),B(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ma(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function na(a,b,c){return"Month"===b?la(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function oa(a,b){return function(c){return null!=c?(na(this,a,c),ta.updateOffset(this,b),this):ma(this,a)}}function pa(a){return 400*a/146097}function qa(a){return 146097*a/400}function ra(a){ta.duration.fn[a]=function(){return this._data[a]}}function sa(a){"undefined"==typeof ender&&(ua=xa.moment,a?xa.moment=f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ta):xa.moment=ta)}for(var ta,ua,va,wa="2.8.4",xa="undefined"!=typeof global?global:this,ya=Math.round,za=Object.prototype.hasOwnProperty,Aa=0,Ba=1,Ca=2,Da=3,Ea=4,Fa=5,Ga=6,Ha={},Ia=[],Ja="undefined"!=typeof module&&module&&module.exports,Ka=/^\/?Date\((\-?\d+)/i,La=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ma=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Na=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Oa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pa=/\d\d?/,Qa=/\d{1,3}/,Ra=/\d{1,4}/,Sa=/[+\-]?\d{1,6}/,Ta=/\d+/,Ua=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Va=/Z|[\+\-]\d\d:?\d\d/gi,Wa=/T/i,Xa=/[\+\-]?\d+/,Ya=/[\+\-]?\d+(\.\d{1,3})?/,Za=/\d/,$a=/\d\d/,_a=/\d{3}/,ab=/\d{4}/,bb=/[+-]?\d{6}/,cb=/[+-]?\d+/,db=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eb="YYYY-MM-DDTHH:mm:ssZ",fb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hb=/([\+\-]|\d\d)/gi,ib=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lb={},mb={s:45,m:45,h:22,d:26,M:11},nb="DDD w W M D d".split(" "),ob="M D H h m s w W".split(" "),pb={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+":"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qb={},rb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nb.length;)va=nb.pop(),pb[va+"o"]=i(pb[va],va);for(;ob.length;)va=ob.pop(),pb[va+va]=h(pb[va],2);pb.DDDD=h(pb.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=ta.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ta([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ha(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ta=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),ja(g)},ta.suppressDeprecationWarnings=!1,ta.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),ta.min=function(){var a=[].slice.call(arguments,0);return ka("isBefore",a)},ta.max=function(){var a=[].slice.call(arguments,0);return ka("isAfter",a)},ta.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),ja(g).utc()},ta.unix=function(a){return ta(1e3*a)},ta.duration=function(a,b){var d,e,f,g,h=a,i=null;return ta.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=La.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:A(i[Ca])*d,h:A(i[Da])*d,m:A(i[Ea])*d,s:A(i[Fa])*d,ms:A(i[Ga])*d}):(i=Ma.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=r(ta(h.from),ta(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),ta.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},ta.version=wa,ta.defaultFormat=eb,ta.ISO_8601=function(){},ta.momentProperties=Ia,ta.updateOffset=function(){},ta.relativeTimeThreshold=function(b,c){return mb[b]===a?!1:c===a?mb[b]:(mb[b]=c,!0)},ta.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return ta.locale(a,b)}),ta.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?ta.defineLocale(a,b):ta.localeData(a),c&&(ta.duration._locale=ta._locale=c)),ta._locale._abbr},ta.defineLocale=function(a,b){return null!==b?(b.abbr=a,Ha[a]||(Ha[a]=new j),Ha[a].set(b),ta.locale(a),Ha[a]):(delete Ha[a],null)},ta.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return ta.localeData(a)}),ta.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ta._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},ta.isMoment=function(a){return a instanceof k||null!=a&&c(a,"_isAMomentObject")},ta.isDuration=function(a){return a instanceof l};for(va=rb.length-1;va>=0;--va)z(rb[va]);ta.normalizeUnits=function(a){return x(a)},ta.invalid=function(a){var b=ta.utc(NaN);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},ta.parseZone=function(){return ta.apply(null,arguments).parseZone()},ta.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(ta.fn=k.prototype,{clone:function(){return ta(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ta(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?ta.utc(this._a):ta(this._a)).toArray())>0:!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=N(this,a||ta.defaultFormat);return this.localeData().postformat(b)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return b=x(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-ta(this).startOf("month")-(g-ta(g).startOf("month")),f-=6e4*(this.zone()-ta(this).startOf("month").zone()-(g.zone()-ta(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return ta.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(ta(),a)},calendar:function(a){var b=a||ta(),c=K(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,ta(b)))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ea(a,this.localeData()),this.add(a-b,"d")):b},month:oa("Month",!0),startOf:function(a){switch(a=x(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=x(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this>+a):(c=ta.isMoment(a)?+a:+ta(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+a>+this):(c=ta.isMoment(a)?+a:+ta(a),+this.clone().endOf(b)<c)},isSame:function(a,b){var c;return b=x(b||"millisecond"),"millisecond"===b?(a=ta.isMoment(a)?a:ta(a),+this===+a):(c=+ta(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=ta.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?t(this,ta.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ta.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ta(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=ya((ta(this).startOf("day")-ta(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=ta.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),ta.fn.millisecond=ta.fn.milliseconds=oa("Milliseconds",!1),ta.fn.second=ta.fn.seconds=oa("Seconds",!1),ta.fn.minute=ta.fn.minutes=oa("Minutes",!1),ta.fn.hour=ta.fn.hours=oa("Hours",!0),ta.fn.date=oa("Date",!0),ta.fn.dates=f("dates accessor is deprecated. Use date instead.",oa("Date",!0)),ta.fn.year=oa("FullYear",!0),ta.fn.years=f("years accessor is deprecated. Use year instead.",oa("FullYear",!0)),ta.fn.days=ta.fn.day,ta.fn.months=ta.fn.month,ta.fn.weeks=ta.fn.week,ta.fn.isoWeeks=ta.fn.isoWeek,ta.fn.quarters=ta.fn.quarter,ta.fn.toJSON=ta.fn.toISOString,m(ta.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),h=o(pa(e)),e-=o(qa(h)),f+=o(e/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=ga(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=ta.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ta.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=x(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pa(b),"month"===a?c:c/12;switch(b=this._days+Math.round(qa(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:ta.fn.lang,locale:ta.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),ta.duration.fn.toString=ta.duration.fn.toISOString;for(va in ib)c(ib,va)&&ra(va.toLowerCase());ta.duration.fn.asMilliseconds=function(){return this.as("ms")},ta.duration.fn.asSeconds=function(){return this.as("s")},ta.duration.fn.asMinutes=function(){return this.as("m")},ta.duration.fn.asHours=function(){return this.as("h")},ta.duration.fn.asDays=function(){return this.as("d")},ta.duration.fn.asWeeks=function(){return this.as("weeks")},ta.duration.fn.asMonths=function(){return this.as("M")},ta.duration.fn.asYears=function(){return this.as("y")},ta.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Ja?module.exports=ta:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(xa.moment=ua),ta}),sa(!0)):sa()}.call(this),define("phxCore/services/phxLiveDate",["moment"],function(a){"use strict";return["$interval","$filter",function(b,c){function d(b,d){b=b.replace(/^\"|\"$/g,"").replace(/\Z$/,"+0000");var e=a(b,"YYYY-MM-DD[T]HH:mm:ss.SSSZZ");return a().diff(e,"days")>=1?{date:c("date")(b,d),format:"absolute"}:{date:e.fromNow(),format:"relative"}}return{getDate:function(a,b){var c=d(a,b);return c.date},getLiveDate:function(a,c,e,f){function g(){var f=d(a,e);h&&"absolute"===f.format&&b.cancel(h),c(f.date)}if(a&&c){var h,i=1e3*(f||60);return h=b(g,i),g(),h}}}}]}),define("phxCore/services/phxNavManager",[],function(){
"use strict";return["$rootScope","$location","$timeout","$window","phxContentApi","Config","$q",function(a,b,c,d,e,f,g){function h(a){if("biography"===f.siteKeyword&&a&&"ContentVideo"===a.objectType){var b=[];angular.forEach(a.viewProperties.components,function(a){a.collection&&(b=b.concat(a.collection.items))});var c={title:a.source.title+" Videos",items:b};return g.when(new e.ContentStreamer(c,a.source.path))}return l||(l=e.getReadingList("ContentArticle",10).then(function(a){return a.title="Latest Stories",a.path="/",a})),l}var i=null,j=null,k=null,l=null,m={currentCollection:function(){return j},nextItem:function(a){a=a||0;var b=j&&j.items.length>k+1+a?j.items[k+1+a]:null;return b&&j._skipItem&&b.path===j._skipItem.path?this.nextItem(a+1):b},_setCurrentItem:function(a){i&&i.path===a.path||(i=a,a&&a._collection?(j=a._collection,k=a._collectionIndex):h(a).then(function(b){j=b,k=-1,j._skipItem=a}))},"goto":function(a,e){a.preventDefault(),this._setCurrentItem(e),$("iframe").remove(),d.stop&&d.stop(),c(function(){b.path(e.path)})}};return a.$on("phxFocusedPageChanged",function(a,b){m._setCurrentItem(b.masterItem)}),m}]}),define("phxCore/services/phxPage",[],function(){"use strict";return["$q","$timeout","phxComponent","phxComponentUtil","phxUtil","phxPageReporting","phxEventBus","phxAdvertising","phxAdvertisingNew","phxVideoAdvertising","phxContentApi","$location","$window","phxSponsorships","phxFeatures","$rootScope","phxBeaconClient","phxCookies","phxKruxUtils",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a,b){this.path=a,this.queryParams=b,this.classes=[],this.events=new g,this.errorCode=null,this.components=null,this.masterItem=null,this.sponsorship=null,this.readingList=null,this.advertising=null,this.isDetailPage=!1,this._inited=!1,this.videoAdvertising=null}return t.prototype={init:function(){if(this._inited)return a.when(this);this._inited=!0;var g=this;return g.isCanvas=!1,a.all([k.getContentItem(this.path,this.queryParams)]).then(function(a){var k=a[0];if(k){if("ContentRedirect"===k.objectType)return void(m.location=k.targetUrl);if("ContentVideo"===k.objectType&&"brightcove"===k.videoPlatformCode&&(g.videoAdvertising=j.createContextForPage(g)),k.path!==l.path()&&e.setBrowserPath(k.path,!0),e.showSmartnav()){"/"===k.path&&k.viewProperties.components.unshift({type:"phxSiteHeader",isCanvas:!0});var t=0,u=k.viewProperties.components[0].type;"phxSiteHeader"!==u&&"phxComponentHeader"!==u||(t=1),k.viewProperties.components.splice(t,0,{type:"phxHeaderAd",isCanvas:!0})}if(g.masterItem=k,g.hasSectionSponsorshipComponent=!1,g.components=k.viewProperties.components.filter(function(a){return a.enabledOn?d.canEnable(a.enabledOn):!0}).map(function(a){return"detail"===a.type&&(g.isDetailPage=!0),a.isCanvas===!0&&(g.isCanvas=!0),"phxSectionSponsorshipBadge"===a.type&&(g.hasSectionSponsorshipComponent=!0),c.getComponent(a,g)}),g.sponsorship=n.getSponsorshipForContentItem(k),g.sponsorship&&(g.sponsorship.reporting&&(f.enableReporting(g.events,g.sponsorship.reporting),p.$broadcast("isSponsored")),"ContentSection"===k.objectType&&g.isCanvas&&g.sponsorship.sectionBrandingBadge&&!g.hasSectionSponsorshipComponent)){var v="phxComponentHeader"===k.viewProperties.components[0].type||"phxNavComponent"===k.viewProperties.components[0].type?1:0;g.components.splice(v,0,c.getComponent({type:"phxSectionSponsorshipBadge",isCanvas:!0},g))}}else g.errorCode=404;return o.isEnabled("ads-backends-new")||o.isEnabled("custom-adapter")?g.advertising=i.createContextForPage(g):g.advertising=h.createContextForPage(g),o.isEnabled("alt-demo-data")&&b(function(){var a=new q.makeBeaconClient,b={};b.k=s.getValue("segs"),b.i=s.getValue("kuid");try{b.d=r.get("d0").quantcast.target.segments.map(function(a){return a.id}).join(",")}catch(c){b.d="Invalid Cookie"}a.send("altdemodata","DEADBEEFBADCAFE",b)},5e3,!1),g.events.dispatch("page","loaded"),g})["catch"](function(a){return a.status&&(g.errorCode=a.status),e.runInNPercent(50)&&e.reportError("app error",a),g.advertising=h.createContextForPage(g),g})}},t.prototype.addPageClass=function(a){-1===this.classes.indexOf(a)&&this.classes.push(a)},{Page:t}}]}),define("phxCore/services/phxPageReporting",[],function(){"use strict";return["phxEventDemux","phxPixelClient",function(a,b){function c(b,c){b.specification.traffic.lineitemid=c,b.rid=["pv",c,(new Date).getTime(),""+Math.random(),"_a"].join("-");var d=new a({page:{loaded:{beacon:"pageview"}}},["pageview"]);d.attach(b)}function d(a,c){var d=c.pageview||[];if(0!==d.length){var e=new b;a.addListener("page","loaded",function(){for(var a=0;a<d.length;a++)e.fireRequest(d[a])})}}function e(a,b){if(b){var e={traffic:{}};a.specification=e,b.opportunityLineItemId&&c(a,b.opportunityLineItemId),b.thirdPartyEventEndpoints&&d(a,b.thirdPartyEventEndpoints)}}return{enableReporting:e}}]}),define("phxCore/services/phxPinIt",[],function(){"use strict";return["$window","$document","$filter",function(a,b,c){var d={status:"no",resizable:"yes",scrollbars:"yes",personalbar:"no",directories:"no",location:"no",toolbar:"no",menubar:"no",width:632,height:270,left:0,top:0};return{getPinUrl:function(a,d,e){if(d){var f="//www.pinterest.com/pin/create/button/?url="+(angular.isDefined(a)?encodeURIComponent(a):"")+"&media="+(angular.isDefined(d)?encodeURIComponent(d):"")+"&description="+(angular.isDefined(e)?c("phxStripHtml")(e):b.prop("title"));return f}},pinIt:function(b,c,e,f){var g="",h=angular.extend({},d,f||{});angular.forEach(h,function(a,b){g+=b+"="+a+","});var i=this.getPinUrl(b,c,e);a.open(i,"pin"+(new Date).getTime(),g)}}}]}),define("delivery/pixel",[],function(){"use strict";function a(a){var b=[];"undefined"==typeof a&&(a=3e3);var c=function(){b.shift()};this.fireRequest=function(d){var e=document.createElement("img");e.src=d,b.push(e),window.setTimeout(c,a)}}return a}),define("phxCore/services/phxPixelClient",["delivery/pixel"],function(a){"use strict";return function(){return a}}),define("phxCore/services/phxReadingListUtil",[],function(){"use strict";return["phxCookies","Config","phxCategorizr",function(a,b,c){function d(c){var d=a.get(h)||[],e=d.indexOf(c);for(-1===e?d.push(c):(d.splice(e,1),d.push(c));d.length>b.readingList.numberOfItems;)d.shift();a.put(h,d,{expires:730})}function e(b){var c=a.get(h)||[];return-1!==c.indexOf(b)}function f(a,b){return a.filter(function(a){return b&&a.id===b.id?!1:!!a.primaryImageId})}function g(a){return c.isSizeA()||c.isSizeB()?!1:c.isServer()?!1:"ContentArticle"===a.objectType||"ContentRecipe"===a.objectType}var h="phxReadArticleListCookie";return{markItemAsRead:d,isItemRead:e,prepareItems:f,showReadingList:g}}]}),define("phxCore/services/phxResponsiveSize",[],function(){"use strict";return["$rootScope","Respond",function(a,b){function c(){var a=b.getBreakpoints(),c=b.getCurrentBreakpoint(),d=a.length-a.indexOf(c);return 0===a[a.length-1]&&d--,0===d&&(d=1),d}function d(){e=c(),f=g[e]}var e,f,g={1:"A",2:"B",3:"C",4:"D"};return a.$on("breakpoint",d),d(),{getName:function(){return f},getNumber:function(){return e}}}]}),define("phxCore/services/phxSocial",[],function(){"use strict";return["$window","$location","$timeout","Config","cstLogger","$filter","phxCategorizr",function(a,b,c,d,e,f,g){function h(){var a=g.getUserAgent().indexOf("Windows Phone")>-1;return a}function i(a,b){var c,d={},e=g.isDesktop()||h()?"browser":"app";return c=e+b+"Link",q[a]&&q[a].links&&(d.alt=q[a].links["browser"+b+"Link"],q[a].links.hasOwnProperty(c)?d.url=q[a].links[c]:d.url=d.alt),d}function j(a){return a=[].concat(a).filter(function(a){return a&&a.name?q[a.name]?!0:(console.error('Unsupported social link medium "'+a.name+'"'),!1):!1}),a.map(function(a){var b=i(a.name,"Profile");return{url:b.url.replace("PROFILE_ID",a.id),alt:b.alt.replace("PROFILE_ID",a.id),rel:a.rel,medium:a.name,target:"_blank",trackId:a.name+"-follow"}})}function k(a){var b=/^https?/g,c=b.exec(a);return null!==c}function l(b,c){if(h()||k(b))a.location.href=c;else{var d,e=a.document.createElement("iframe");e.style.border="none",e.style.width="1px",e.style.height="1px",e.onload=function(){clearTimeout(d)},e.src=b,a.addEventListener("pageshow",function(a){clearTimeout(d)},!1),a.addEventListener('pagehide"',function(a){clearTimeout(d)},!1),a.document.body.appendChild(e),d=setTimeout(function(){var b=document.hidden||document.mozHidden||document.webkitHidden||document.msHidden;b||(a.location.href=c)},2e3),r=!0}}function m(a){var b=d.siteUrl+a;return b}function n(a){var b={aggregate:0};for(var c in a){var d=a[c];d&&("disqus"===c?(b.aggregate+=d.lastCount,b[c]=Math.round(d.lastCount)):(b.aggregate+=d.estimate,b[c]=Math.round(d.estimate)))}return b.aggregate=Math.round(b.aggregate),b}function o(a){if(a){var b=Date.parse(a),c=(new Date).getTime()-b,d=Math.floor(c/1e3/60/60);if(240>=d)return!0}return!1}function p(a,b){var c="",d="",g=m(a.path);a&&(c=a.promoTitle||a.title,d=a.teaser||"");var h,i={};if("function"!=typeof w[b])return void e.error(b+" is not supported by phxSocial.");h=w[b],i={url:g,title:c,text:c,subject:c,body:c+". "+d};var j=f("phxImageUrl")(a.primaryImage,"articleDetailPrimaryImage");angular.isDefined(j)?(i.image=j,h(i)):h(i)}var q={facebook:{className:"facebook",proofKey:"facebook",medium:"facebook",links:{browserShareLink:"https://www.facebook.com/sharer.php?u=SHARE_URL",browserProfileLink:"https://www.facebook.com/PROFILE_ID",appProfileLink:"fb://profile/PROFILE_ID"}},twitter:{className:"twitter",proofKey:"twitter",medium:"twitter",links:{browserShareLink:"https://twitter.com/intent/tweet?url=SHARE_URL",browserProfileLink:"https://twitter.com/PROFILE_ID",appShareLink:"twitter://post?message=TITLE_TEXT%20SHARE_URL",appProfileLink:"twitter://user?screen_name=PROFILE_ID"}},googleplus:{className:"gplus",proofKey:"googleplus",medium:"googleplus",links:{browserProfileLink:"http://plus.google.com/PROFILE_ID",browserShareLink:"https://plus.google.com/share?url=SHARE_URL",appShareLink:"gplus://plus.google.com/share?url=SHARE_URL",appProfileLink:"gplus://plus.google.com/PROFILE_ID"}},reddit:{className:"reddit",proofKey:"reddit",medium:"reddit",links:{browserShareLink:"http://www.reddit.com/submit?url=SHARE_URL"}},pinterest:{className:"pinterest",proofKey:"pinterest",medium:"pinterest",links:{browserShareLink:"http://pinterest.com/pin/create/button/?url=SHARE_URL",browserProfileLink:"http://pinterest.com/PROFILE_ID",appProfileLink:"pinterest://user/PROFILE_ID/"}},tumblr:{className:"tumblr",proofKey:null,medium:"tumblr",links:{browserProfileLink:"http://PROFILE_ID.tumblr.com/",browserShareLink:"http://www.tumblr.com/share/link?url=SHARE_URL",browserSharePhotoLink:"http://www.tumblr.com/share/photo?clickthru=SHARE_URL",browserShareQuoteLink:"http://www.tumblr.com/share/quote?source=%20(%3Ca%20href%3D%22SHARE_URL%22%3Evia%3C%2Fa%3E)",appProfileLink:"tumblr://x-callback-url/blog?blogName=PROFILE_ID"}},tumblr_link:{className:"tumblr",proofKey:null,medium:"tumblr_link"},linkedin:{className:"linkedin",proofKey:"linkedin",medium:"linkedin",links:{browserShareLink:"https://www.linkedin.com/cws/share?url=SHARE_URL",browserProfileLink:"http://www.linkedin.com/company/PROFILE_ID",appProfileLink:"linkedin://#profile/PROFILE_ID"}},instagram:{className:"instagram",medium:"instagram",links:{browserProfileLink:"http://instagram.com/PROFILE_ID",appProfileLink:"instagram://user?username=PROFILE_ID"}},youtube:{className:"youtube",medium:"youtube",links:{browserProfileLink:"http://www.youtube.com/user/PROFILE_ID"}},bloglovin:{className:"bloglovin",medium:"bloglovin",links:{browserProfileLink:"http://www.bloglovin.com/blogs/PROFILE_ID"}},email:{className:"email",medium:"email",links:{browserProfileLink:"mailto:PROFILE_ID",appProfileLink:"mailto:PROFILE_ID"}}},r=!1,s=function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c))if(a[c]instanceof Array)for(var d=0;d<a[c].length;d++)b.push(c+"[]="+encodeURIComponent(a[c][d]).replace(/'/g,"%27"));else b.push(c+"="+encodeURIComponent(a[c]).replace(/'/g,"%27"));return b},t=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&-1!==b.indexOf(d)&&(c[d]=a[d]);return c},u=function(b){var c={windowTimeout:!1,windowPopup:g.isDesktop(),destination:null,target:b.target};c.windowPopup?a.open(b.url,c.target):l(b.url,b.alt)},v=function(d,e,f){var h,i,j={url:b.absUrl()};e=e||{},h=angular.extend({},j,e);for(var k in d)d[k]=d[k].replace("SHARE_URL",encodeURIComponent(h.url));delete h.url;var m=s(h).join("&");if(m)for(var n in d)d[n]+="&"+m;if(f=angular.extend({windowSpecs:"width=500,height=500",windowName:"phxShareWindow",windowTimeout:!1,windowPopup:g.isDesktop(),destination:null},f),f.windowPopup){if(i=a.open(d.url,f.windowName,f.windowSpecs),f.windowTimeout!==!1)var o=c(function(){i.close(),c.cancel(o)},f.windowTimeout)}else l(d.url,d.alt);return i},w={};return w.twitter=function(a){var b=i("twitter","Share"),c={windowSpecs:"width=550,height=258,resizable=0,scrollbars=0"};a=t(a,["url","text"]);for(var e in d.social.links)if("twitter"===d.social.links[e].name){a.via=d.social.links[1].id;break}return g.isMobile()&&b.url.indexOf("TITLE_TEXT")>-1?(b.url=b.url.replace("TITLE_TEXT",encodeURIComponent(a.text)),delete a.text):b.url=b.url.replace("TITLE_TEXT%20",""),v(b,a,c)},w.facebook=function(a){var b=i("facebook","Share"),c={windowSpecs:"width=600,height=350,resizable=0,scrollbars=0"};return a=t(a,["url","title"]),a.t=a.title,delete a.title,v(b,a,c)},w.pinterest=function(a){var b=i("pinterest","Share"),c={windowSpecs:"width=665,height=350,resizable=0,scrollbars=0"};return a=t(a,["url","image","body"]),a.image?(a.media=a.image,delete a.image):e.error("Pinterest requires a pin specify an image URL (must start with http://)"),a.body&&(a.description=a.body,delete a.body),v(b,a,c)},w.email=function(a){var b={},c={windowPopup:!0};return a=t(a,["url","subject","body"]),a.subject||e("You should set a subject for your email"),a.body||e("Your should set a body for your email"),b.url="mailto:?subject="+encodeURIComponent(a.subject)+"&body="+encodeURIComponent(a.body)+"%20SHARE_URL",delete a.subject,delete a.body,v(b,a,c)},w.tumblr=function(a,b){var c,d={},f={windowSpecs:"width=900,height=480,resizable=0,scrollbars=0"};switch(a){case"link":d=i("tumblr","Share"),c=["title","description"];break;case"photo":d.url="http://www.tumblr.com/share/photo?clickthru=SHARE_URL",c=["source","caption"];break;case"quote":d=i("tumblr","ShareQuote"),c=["quote"];break;default:return void e("You must specify the type of tumblr post: link or photo")}return v(d,b,f)},w.tumblr_link=function(a){return a=t(a,["url","title","body"]),a.description=a.body,delete a.body,w.tumblr("link",a)},w.tumblr_photo=function(a){return w.tumblr("photo",a)},w.tumblr_quote=function(a){return w.tumblr("quote",a)},w.googleplus=function(a){var b=i("googleplus","Share"),c={windowSpecs:"height=600,width=600,menubar=no,toolbar=no,resizable=yes,scrollbars=yes"};return a=t(a,["url"]),v(b,a,c)},w.linkedin=function(a){var b=i("linkedin","Share"),c={windowSpecs:"width=600,height=390,resizable=0,scrollbars=0"};return a=t(a,["url"]),v(b,a,c)},w.reddit=function(a){var b=i("reddit","Share"),c={windowSpecs:"width=840,height=464,resizable=0,scrollbars=0"};return a=t(a,["url","title"]),v(b,a,c)},{buildSocialProof:n,buildDestination:i,buildButtons:j,openTo:u,isFresh:o,share:p,loadingNativeApp:function(){return r},shareButtonSettings:function(){return q}}}]}),define("phxCore/services/phxTrackEventUtil",[],function(){"use strict";return[function(){function a(a,b){var e=0,f=!1,g=0,h="",i=angular.element(a.parent());return angular.forEach(i.children(),function(a){var h=angular.element(a);h.attr(d)===b&&(h.attr(c)?f=!0:g++,f||e++)}),g>0&&(e++,h="("+e+")"),h}function b(e){if(!e||1!==e.length||"body"===e[0].tagName.toLowerCase())return[];var f=b(e.parent()),g=e.attr(d);if(g){e.attr(c,1);var h=a(e,g);e.removeAttr(c),f.push(g+h)}return f}var c="phxIndexIdentifier",d="phx-track-id";return{getElementPath:function(a){return b(a).join("/")}}}]}),define("phxCore/services/phxUtil",[],function(){"use strict";return["$window","$document","$location","$filter","Config","$timeout","$http","$rootScope","$q","phxFeatures",function(a,b,c,d,e,f,g,h,i,j){var k={};return{hasFlash:function(){var a=!1;try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");b&&(a=!0)}catch(c){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=!0)}return a},debounce:function(a,b,c){function d(){return(new Date).getTime()}function e(a){var b=typeof a;return!!a&&("object"===b||"function"===b)}function g(){q&&f.cancel(q),m&&f.cancel(m),m=q=r=void 0}function h(){var c=b-(d()-o);if(0>=c||c>b){m&&f.cancel(m);var e=r;m=q=r=void 0,e&&(s=d(),n=a.apply(p,k),q||m||(k=p=null))}else q=f(h,c)}function i(){q&&f.cancel(q),m=q=r=void 0,(u||t!==b)&&(s=d(),n=a.apply(p,k),q||m||(k=p=null))}function j(){var c,e,g;return k=arguments,o=d(),p=this,r=u&&(q||!l),t===!1?c=l&&!q:(m||l||(s=o),e=t-(o-s),g=0>=e||e>t,g?(m&&(m=f.cancel(m)),s=o,n=a.apply(p,k)):m||(m=f(i,e))),g&&q?q=f.cancel(q):q||b===t||(q=f(h,b)),c&&(g=!0,n=a.apply(p,k)),!g||q||m||(k=p=null),n}var k,l,m,n,o,p,q,r,s=0,t=!1,u=!0;if("function"!=typeof a)throw new TypeError("this is not a function!");return b=0>b?0:+b||0,c===!0?(l=!0,u=!1):e(c)&&(l=c.leading,t="maxWait"in c&&Math.max(+c.maxWait||0,b),u="trailing"in c?c.trailing:u),j.cancel=g,j},throttle:function(a,b){var c,d,e,g,h=0,i=function(){h=new Date,e=null,g=a.apply(c,d)};return function(){var j=new Date,k=b-(j-h);return c=this,d=arguments,0>=k?(e&&f.cancel(e),h=j,g=a.apply(c,d)):e||(e=f(i,k)),g}},camelToDash:function(a){return a.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},after:function(a,b){return function(){return--b<1?a.apply(this,arguments):void 0}},fromTitleCaseToWords:function(a,b){b||(b="-");var c=a.replace(/([A-Z_][^A-Z\s\-]*)/g,function(a){return a.charAt(0).toLowerCase()+a.substr(1)+b});return c.substring(0,c.length-1)},makePath:function(a,b){if(!a)throw"routeString is required";var c=a;for(var d in b){var e=b[d],f=":"+d;c=c.replace(f,e)}return c=c.replace(/\/:[^/]+\?/g,""),c=c.replace(/\?/g,""),c=c.replace(/\*/g,"")},gotoSearchPage:function(a,b){"string"==typeof a&&""!==a&&(c.url(b||e.globalSearchPath),c.search("query",a))},locationBaseUrl:function(){var a=c.port();return a||(a=""),80===a&&(a=""),a&&(a=":"+a),c.protocol()+"://"+c.host()+a},getViewportDimensions:function(){return{width:a.innerWidth||b[0].documentElement.clientWidth||0,height:a.innerHeight||b[0].documentElement.clientHeight||0}},isElementInView:function(a){if(a){var b=a.getBoundingClientRect(),c=this.getViewportDimensions();return b.top>=0&&b.left>=0&&b.bottom<=c.height&&b.right<=c.width}},getHeading:function(a){if(a){var b;return b=a.imageUrl?'<img src="'+a.imageUrl+'" alt="'+a.title+'">':a.title}},runInNPercent:function(a){return"undefined"==typeof window._pageRunId?!1:window._pageRunId<a/100},formatDateAsRfc822:function(a){return d("date")(a,"EEE, dd MMM yyyy HH:mm:ss Z")},escapeUnicode:function(a){return a.replace(/[<>\&\\\"\x00-\x1f\x7f-\uffff]/g,function(a){return"&#x"+("0000"+a.charCodeAt().toString(16)).slice(-4)+";"})},isExternalLink:function(a){if(!a)return!1;var b=new RegExp("^https?://([^/]+)/"),c=a.match(b);return c?c[1]!==e.siteProductionDomain:!1},isGalleryView:function(a){var b=c.hash();return a&&a.masterItem&&a.masterItem.tmlEmbeds&&a.masterItem.tmlEmbeds.length>0&&a.masterItem.tmlEmbeds.some(function(a){return"ContentGallery"===a.objectType})&&b&&(b.match(/gid=/)||b.match(/pid=/))},estimateContentHeight:function(a){var b=this,c=0;return angular.forEach(a,function(a){a=angular.element(a);var d=0,e=a[0].attributes.hasOwnProperty("tml-render-layout")?a.attr("tml-render-layout"):null,f=b.getContentElementHeightImpact(e);d=a[0].attributes.hasOwnProperty("tml-image")?b.estimateTmlImageHeight(a):a[0].attributes.hasOwnProperty("tml-external-provider")?250:a.outerHeight(!0),c+=d*f}),c},estimateTmlImageHeight:function(a){var b=angular.element(a).find("img").eq(0),c=b.outerHeight()-b.innerHeight(),d=b.width()/b.attr("width")*b.attr("height");return d+c},getContentElementHeightImpact:function(a){var b=1;return"inline"!==a&&"left"!==a||(b=.5),b},getDisplayTypeForItem:function(a){return a&&a.featuredImage?"feature":"standard"},sortAssociatedRichTerms:function(a){var b={};return angular.forEach(a,function(a){var c=a.vocabularyId.split(":")[1];b[c]||(b[c]={},b[c].displayName=c,b[c].items=[]),b[c].items.push(a)}),b},reportError:function(a,b){},getLabelForItem:function(a){var b="Collection";if(a.overrideLabel)return a.overrideLabel;if("ContentArticle"===a.objectType)return a.section?a.section.displayName:null;if(e.cardLabelsByType){var c=e.cardLabelsByType[a.objectType];if("ContentRichTerm"===a.objectType&&"object"==typeof c)return c[a.vocabularyKey]?c[a.vocabularyKey]:c["default"]?c["default"]:b;if(c)return c;if(c===!1)return null}switch(a.objectType){case"ContentReference":return"Link";case"ContentRichTerm":return"terms"===a.vocabularyKey?"Tag":b;case"ContentBasicPage":return e.siteName}return a.objectType.substr("Content".length)},getLabelMetadataForItem:function(a){var b;return b="ContentArticle"===a.objectType&&a.section&&!a.overrideLabel?a.section.path:a.path,{text:this.getLabelForItem(a),href:b}},jqueryToHtml:function(a){return $("<div>").append(a.clone()).html()},setBrowserPath:function(a,b,d){var e=h.$on("$locationChangeStart",function(a){a.preventDefault(),d&&d(),e()});c.path(a+(c.$$hash?"#"+c.$$hash:"")),window.history[b?"replaceState":"pushState"](null,null,c.path())},loadJsLib:function(a){if(k[a])return k[a];var b=i.defer();k[a]=b.promise;var c=document.createElement("script");return c.async=!0,c.src=a,c.onload=function(){b.resolve(!0)},document.head.appendChild(c),b.promise},startsWith:function(a,b){return a.substr(0,b.length)===b},stringArrayUnion:function(a,b){function c(a){d[a]=!0}var d={};return a.forEach(c),b.forEach(c),Object.keys(d)},showSmartnav:function(){return j.isEnabled("smartnav")}}}]}),define("phxCore/services/phxViewMeta",[],function(){"use strict";return["Config","$filter","phxUtil",function(a,b,c){var d={ContentArticle:function(a){return{section:a.section?a.section.title:"",metaTitle:a.title,metaDescription:a.metaDescription||a.teaser||"Read "+a.title,authorName:a.author?a.author.title:null,keywords:a.associatedRichTerms?a.associatedRichTerms.map(function(a){return a.displayName}).join(","):null,openGraphType:"article"}},ContentHubPage:function(a){return{}},ContentSection:function(a){return{metaTitle:a.title,metaDescription:a.metaDescription,section:a.title}},ContentBasicPage:function(a){return{metaTitle:a.title,metaDescription:a.title+" page"}},ContentPerson:function(c){var d=[];if(c.occupations){var e=b("phxDedupeRichTerms")(c.occupations);angular.forEach(e,function(a){a.displayName&&d.push(a.displayName)})}return{metaTitle:c.title+" - "+d.join(", "),metaDescription:c.metaDescription||c.teaser||c.bestKnownFor||"See "+c.title+" at "+a.siteName,keywords:c.metaKeywords}},ContentRecipe:function(a){return{metaTitle:a.title,metaDescription:a.metaDescription||a.teaser||"Take a look at "+a.title,keywords:a.metaKeywords}},ContentRichTerm:function(a){return{metaTitle:a.promoTitle,metaDescription:a.metaDescription||a.teaser||"Take a look at "+a.title,keywords:a.displayName}},ContentUserProfile:function(a){return{metaTitle:"Articles by "+a.title,metaDescription:"Articles by "+a.title,authorName:a.title,openGraphType:"profile"}},ContentVideo:function(a){return{metaTitle:a.title,metaDescription:b("phxStripHtml")(a.bodyTml),keywords:a.terms?a.terms.map(function(a){return a.displayName}).join(","):null,openGraphType:"video.other"}}};return{getItemMeta:function(b){var e={};return b&&b.objectType&&(d[b.objectType]&&(e=d[b.objectType](b)),e.pageType=c.fromTitleCaseToWords(c.startsWith(b.objectType,"Content")?b.objectType.substr("Content".length):b.objectType,"_"),b.viewProperties&&b.viewProperties.viewMeta&&(e.metaTitle=b.viewProperties.viewMeta.title||e.metaTitle,e.metaDescription=b.viewProperties.viewMeta.description||e.metaDescription),b.hasOwnProperty("isNoindex")&&b.isNoindex?e.robots="noindex":e.robots="noodp",b.hasOwnProperty("primaryImage")&&b.primaryImage?e.searchAndSocialImage=b.primaryImage:a.hasOwnProperty("icons")&&a.icons.hasOwnProperty("favicon")&&a.icons.favicon.image&&(e.searchAndSocialImage=a.icons.favicon.image),e.id="ContentArticle"===b.objectType?b.contentNodeId:b.id,e.hasOwnProperty("openGraphType")||(e.openGraphType="website")),e.socialReferrer=document.referrer,e}}}]}),define("delivery/windowutil",[],function(){"use strict";function a(a,b){var c,d,e,f=this;this.testWindow=function(a){try{var b=a.document,c=b.documentElement,d=b.createComment("accessible"),e=c.appendChild(d);return c.removeChild(e),!0}catch(f){}return!1},this.topWindow=function(){if("undefined"==typeof c){try{"undefined"==typeof b.document||b.document===a.document&&a.top.document!==a.document||(c=b,d=!0)}catch(e){}"undefined"==typeof c&&(c=a,d=!1),c=f.findTopWindow(c),c.document===a.document||f.testWindow(c)||(c=a,d=!1)}return c},this.topChildWindow=function(){f.topWindow();var c=b.parent;if(d&&c.document===a.document)return null;for(var e=a;e.parent!==c;)e=e.parent;return e},this.findTopWindow=function(a){try{var b=a.document;if("FRAMESET"===b.body.nodeName){var c=f.topChildWindow();if(null===c)return a;for(var d=b.body.getElementsByTagName("frame"),e=0;e<d.length;e++){var g=d[e];if(c===g.contentWindow)return c}}}catch(h){}return a},this.isFramed=function(){return!f.topAccess()||c.document!==a.document},this.topAccess=function(){return f.topWindow(),d},this.frameDepth=function(a){for(var b=0,c=a,d=a.top.parent;c!==d;)b++,c=c.parent;return b},this.topNode=function(){if("undefined"==typeof e){var b=f.topChildWindow();if(f.topAccess()&&f.isFramed()&&null!==b){for(var d=c.document.getElementsByTagName("iframe"),g=0;g<d.length;g++)if(d[g].contentWindow===b)return e=d[g];if(1===f.frameDepth(a))for(g=0;g<d.length;g++)if(d[g].contentWindow.document===b.document)return e=d[g]}e=null}return e}}return new a(window,window.top)}),define("delivery/top_window",["delivery/windowutil"],function(a){"use strict";return a.topWindow()}),define("delivery/dimensions",[],function(){"use strict";function a(a,b){a=parseInt(a),b=parseInt(b),this.width=function(){return a},this.height=function(){return b},this.area=function(){return a*b},this.toString=function(){return this.width()+"x"+this.height()}}var b=/(\d+)x(\d+)/i,c={fixed_bottom:!0,fixed_top:!0,mobile_standard:!0,iphone_standard:!0,ipad_standard:!0},d={tablet:"768x66",smartphone:"320x60",desktop:"900x65"};return a.parse=function(e,f){if(c.hasOwnProperty(e)){var g;g="object"!=typeof f?"desktop":f.type,d.hasOwnProperty(g)&&(e=d[g])}var h=b.exec(e);return h?new a(h[1],h[2]):void 0},a}),define("delivery/box",["delivery/dimensions"],function(a){"use strict";function b(c,d,e,f){"undefined"==typeof c&&(c=0),"undefined"==typeof d&&(d=0),"undefined"==typeof e&&(e=0),"undefined"==typeof f&&(f=0),a.call(this,e,f),this.top=function(){return c},this.left=function(){return d},this.bottom=function(){return this.top()+this.height()},this.right=function(){return this.left()+this.width()},this.offset=function(a){return new b(a.top()+this.top(),a.left()+this.left(),a.width()+this.width(),a.height()+this.height())},this.intersection=function(a){var c={top:this.top()>a.top()?this.top():a.top(),bottom:this.bottom()<a.bottom()?this.bottom():a.bottom(),left:this.left()>a.left()?this.left():a.left(),right:this.right()<a.right()?this.right():a.right()};return c.left>c.right&&(c.right=c.left),c.top>c.bottom&&(c.bottom=c.top),new b(c.top,c.left,c.right-c.left,c.bottom-c.top)},this.toJSON=function(){return{top:this.top(),left:this.left(),width:this.width(),height:this.height()}}}return b.fromJSON=function(a){return new b(a.top,a.left,a.width,a.height)},b.fromElement=function(a){for(var c=a.offsetTop,d=a.offsetLeft,e=a.offsetWidth,f=a.offsetHeight;null!==a.offsetParent;)a=a.offsetParent,c+=a.offsetTop,d+=a.offsetLeft;return new b(c,d,e,f)},b}),define("delivery/viewport",["delivery/top_window","delivery/box"],function(a,b){"use strict";var c=a;return function(a){"undefined"==typeof a&&(a=c),b.call(this);var d=a.document;this.top=function(){return a.pageYOffset},this.left=function(){return a.pageXOffset},this.width=function(){return a.innerWidth||d.documentElement.clientWidth||d.body.clientWidth},this.height=function(){return a.innerHeight||d.documentElement.clientHeight||d.body.clientHeight}}}),define("phxCore/services/phxViewport",["delivery/viewport"],function(a){"use strict";return["$window",function(b){return{getViewport:function(){return new a(b)}}}]}),define("phxCore/services/phxFullscreenUtil",[],function(){"use strict";var a=null,b=null,c=function(a){return{width:a.clientWidth,height:a.clientHeight,top:$(a).offset().top-$(window).scrollTop(),left:$(a).offset().left}};return["$timeout",function(d){return{hasNative:function(a){return a.requestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen},nativeFullscreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},isNativeEnabled:function(){return!!this.nativeFullscreenElement()},enableNative:function(a){a.requestFullScreen?a.requestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():a.mozRequestFullScreen&&a.mozRequestFullScreen()},cancelNative:function(){document.cancelFullScreen?document.cancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},toggleNative:function(a){this.isNativeEnabled()?this.cancelNative():this.enableNative(a)},zoomFullscreenElement:function(){return a},isZoomFullscreenEnabled:function(){return!!a},enableZoomFullscreen:function(e){a=e;var f=document.createElement("div");f.setAttribute("class","zoom-fullscreen-container"),b=f,document.body.appendChild(f);var g=document.createElement("div");g.setAttribute("class","zoom-fullscreen-inner");var h=document.createElement("div");h.setAttribute("class","zoom-fullscreen-inner"),$(e).wrap(g),$(e).wrap(h),d(function(){var a=e.parentNode,b=a.parentNode,d=c(e),g=window.innerWidth/2,h=window.innerHeight/2,i=d.left+d.width/2,j=d.top+d.height/2,k=g-i,l=h-j,m=.8,n=window.innerHeight*m/d.height,o=window.innerWidth*m/d.width,p=n>o?o:n;f.style["background-color"]="rgba(255,255,255,1)",b.style["-webkit-transform"]="translateX("+k+"px) translateY("+l+"px)",a.style["-webkit-transform"]="scale("+p+")"},1)},cancelZoomFullscreen:function(){if(this.isZoomFullscreenEnabled()){var c=a,d=c.parentNode,e=d.parentNode,f=b,g=!1,h=function(c){g||(g=!0,$(a).unwrap(),$(a).unwrap(),f.parentNode.removeChild(f),a=null,b=null)};d.addEventListener("webkitTransitionEnd",h,!1),d.addEventListener("msTransitionEnd",h,!1),d.addEventListener("transitionEnd",h,!1),f.style["background-color"]="rgba(255,255,255,0)",d.style["-webkit-transform"]="scale(1)",e.style["-webkit-transform"]="translateX(0px) translateY(0px)"}},toggleZoomFullscreen:function(a){this.isZoomFullscreenEnabled()?this.cancelZoomFullscreen():this.enableZoomFullscreen(a)},toggleNativeWithFallback:function(a){this.hasNative(a)?this.toggleNative(a):this.toggleZoomFullscreen(a)}}}]}),define("phxCore/services/phxHeaderUtil",[],function(){"use strict";var a={standardLeft:"mm-page-header-standard",standardCenter:"mm-page-header-standard",largeLeft:"mm-page-header-large",largeCenter:"mm-page-header-large"},b={standardLeft:"mm-header-standard  mm-header-left",standardCenter:"mm-header-standard  mm-header-center",largeLeft:"mm-header-large  mm-header-left",largeCenter:"mm-header-large  mm-header-center",defaultObjectType:"m-content-detail",ContentHubPage:"m-content-hub",ContentSection:"m-content-hub",ContentRichTerm:"m-content-hub",ContentBasicPage:"m-content-detail",ContentArticle:"m-content-detail",ContentVideo:"m-content-detail",ContentPerson:"m-content-detail",ContentRecipe:"m-content-detail"},c={standardLeft:"headerPromoStandard",standardCenter:"headerPromoStandard",
largeLeft:"headerPromoLarge",largeCenter:"headerPromoLarge",standardLeftImageOnly:"headerPromoStandardImageOnly",standardCenterImageOnly:"headerPromoStandardImageOnly",largeLeftImageOnly:"headerPromoLargeImageOnly",largeCenterImageOnly:"headerPromoLargeImageOnly"};return["Config","phxContentApi","phxSocial","phxComponentUtil",function(d,e,f,g){return{getBodyClass:function(){var b=d.protectedNav?"mm-page-protected-nav":"mm-page-open-nav",c=a.standardLeft;return"undefined"!=typeof a[d.headerType]&&(c=a[d.headerType]),c+" "+b},isHeaderEnabled:function(){return g.canEnable(d.headerEnabledOn)},getNavClasses:function(){return d.protectedNav?"mm-protected-nav":"mm-open-nav"},getPromoImageProfile:function(a){var b=d.headerType||c.standardLeft;return a&&(b+="ImageOnly"),"undefined"!=typeof c[b]?c[b]:c.standardLeft},getHeaderClasses:function(a){var c=b.standardLeft;"undefined"!=typeof b[d.headerType]&&(c=b[d.headerType]);var e=a&&a.objectType,f=b.defaultObjectType;return"undefined"!=typeof b[e]&&(f=b[e]),c+" "+f},getHamburgerItem:function(a){return{classname:a,title:"Topics"}},getSearchLinkItem:function(a){return{classname:a,url:"/search",title:"Search"}},getPrimaryMenu:function(a){var b=[];if(d.topNav&&d.topNav.links)for(var c=/https?:\/\//,e=0;e<d.topNav.links.length;e++){var f=a;c.test(d.topNav.links[e].url)&&(f+=" m-navbar--menu-link-external"),d.topNav.links[e].highlightClass&&(f+=" "+d.topNav.links[e].highlightClass),b.push({classname:f,title:d.topNav.links[e].title,name:d.topNav.links[e].name,url:d.topNav.links[e].url,target:d.topNav.links[e].target,rel:d.topNav.links[e].rel})}return b},getSocialMenu:function(a){var b=[];return d.social&&d.social.links&&(b=f.buildButtons(d.social.links).map(function(b){return b.classname=a+" m-header--social-"+b.medium,b})),b},loadCoverlines:function(){return e.getCoverlines().then(function(a){return a&&a.items?a.items:[]})},areCoverlinesEnabled:function(){return d.coverlines&&g.canEnable(d.coverlines.enabledOn)}}}]}),define("phxCore/services/phxEllipsisUtils",[],function(){"use strict";return["$window","$document","$log","$rootScope",function(a,b,c,d){function e(a){return a.join("")}function f(a,b){for(var c=a.length,d=0;++d<=c;)if(!b(a.slice(0,d)))return d-1;return c}function g(b,c){return a.getComputedStyle(b).getPropertyValue(c)}var h,i,j={},k=/[\u00AD"“”,.–-—]*\s*[\w'’]+\s*$/,l=/[^\w]+$/,m=!1;return j._init=function(){m||(h=b[0].createElement("canvas"),i=h.getContext("2d"),m=!0)},j._fitsOnOneLine=function(a,b,c,d,e){c=c.replace(/^\s/,"");var f=j._getTextWidth(c,a,d,e);return b>=f},j._getTextWidth=function(a,b,c,d){i.font=b;var e=i.measureText(a).width;return"normal"!==c&&(c=parseFloat(c),isNaN(c)||(e+=a.length*c)),d&&(e=.9825*e),e},j._getFontString=function(a){var b=g(a,"font-family"),c=g(a,"font-size"),d=g(a,"font-weight");return d+" "+c+" "+b},j._getIdealLines=function(a){var b=parseFloat(g(a,"height")),c=parseInt(g(a,"padding-bottom"),10),d=-parseInt(g(a,"padding-top"),10);b=b-c-d,b=Math.ceil(b);var e=parseInt(g(a,"line-height"),10),f=b/e;return f=1>f&&f>.75||f%1>.9?Math.round(f):Math.floor(f)},j._splitIntoArray=function(a){var b=a.split(/([\s-–—\u00AD])/);return b.forEach(function(a,b,c){/([-–—\u00AD])/.test(a)&&(c[b-1]=c[b-1]+a,c.splice(b,1))}),b},j._splitIntoLines=function(a,b,c,d,g){function h(a,i){if(0===a.length)return i;var k=f(a,function(a){var f=e(a);return j._fitsOnOneLine(c,b,f,d,g)});return k=0===k?1:k,i.push(e(a.slice(0,k))),h(a.slice(k,a.length),i)}var i=j._splitIntoArray(a);return h(i,[])},j._addEllipsis=function(a,b,c,d){if(c=c.replace(l,"")+"…",j._fitsOnOneLine(a,b,c,d))return c;var e=c.replace("…","").replace(k,"");return j._addEllipsis(a,b,e,d)},j.truncateText=function(a,b,d){b=b.trim(),j._init();var f=parseFloat(g(a,"width")),h=parseInt(g(a,"padding-left"),10),i=parseInt(g(a,"padding-right"),10),k=g(a,"letter-spacing"),l="optimizeLegibility"===g(a,"text-rendering"),m=j._getIdealLines(a),n=j._getFontString(a);if(isNaN(f)&&(f=parseFloat(g(a.parentNode,"width"))),f=f-h-i,isNaN(f)||isNaN(m)||!n)return b;if(0===m)return"";"uppercase"===g(a,"text-transform")&&(b=b.toUpperCase()),"auto"===g(a,"hyphens")&&c.warn("phxEllipsis will not work properly with css hyphens:auto");var o=j._splitIntoLines(b,f,n,k,l);if(d&&m>d&&(m=d),o.length>m){o=o.slice(0,m);var p=o[o.length-1],q=j._addEllipsis(n,f,p,k);o[o.length-1]=q}return e(o)},j}]}),define("phxCore/services/phxEvents",[],function(){"use strict";return["$window","$rootScope","phxUtil",function(a,b,c){function d(){e.$emit("resize",{height:a.innerHeight,width:a.innerWidth})}var e=b.$new();return a.addEventListener("resize",c.debounce(d,250)),e}]}),define("phxCore/controllers/phxTheplatformVideoCtrl",[],function(){"use strict";return["$scope","$sce","$window",function(a,b,c){function d(a){return a.playList=this.playList.map(function(a){return{videoURLs:a.videoPlatformMeta.videoURLs}}),a.playerAutoStart=this.playerAutoPlay,a.playerAutoPlay=this.playerAutoStart,a.pdkBase=this.aeConfig.pdkBase,a.playerDivId=this.aeConfig.playerDivId,a.playerPlugins=this.aeConfig.playerPlugins,a}function e(c){a.source=b.trustAsResourceUrl(j.aeAkamaiURL+"/pservice/embed-player/?siteId="+a.siteId+"&tPid="+c.videoTpID),a.video=c}function f(a,b){if(a&&a.contentWindow){var c=a.contentWindow;c.postMessage(b,"*")}}function g(){var a=c.parent.$.find("figure iframe");$.each(a,function(a){var b=this.contentWindow;b&&b.initializedPlayer&&b.pausePlayer()})}function h(){var b=a.$root.location.path(),c=/^\/\bpeople\/(?:[\w+]*-)*(\d+)$/gi,d=c.exec(b),e=0;return d&&d.length>1&&(e=d[1]),e}var i=function(){var a="http://servicesaetn-a.akamaihd.net",b=a+"/pdk5/pdk5.1.3/web/pdk",c="aeplayer_"+(new Date).getTime().toString(),d={PROD:"aebio",DEV:"devaebio",QA:"devaebio"},e={freewheel:{URL:"http://adm.fwmrm.net/p/aetn_live/ThePlatformPDKPlugin.js",siteSectionId:"aetn.bio.people"},freewheelFlash:{siteSectionId:"aetn.bio.flash.people"},omniture:{host:"metrics.aetn.com",account:d[window.envShortName],brandPrefix:"BIO",enableTrackHeartbeat:"false",jsSiteCatalystUrl:b+"/js/omniture.sitecatalyst.js"}};return{aeAkamaiURL:a,pdkBase:b,playerDivId:c,omnitureAccount:d,playerPlugins:e}},j=i(),k=[],l="false",m=!1,n=!1;a.isEmbed=!1,a.isFeatured=!1,a.isGalleryItem=!1,a.playerDivId=j.playerDivId,c.s_account=j.omnitureAccount[window.envShortName],angular.extend(this,{aeConfig:j,playerAutoPlay:l,playerAutoStart:m,primaryPlayer:n,playList:k,isProfilePage:h,pauseAllPlayers:g,postMsgToPlayers:f,updateMetaData:e,updatePlayerContext:d})}]}),define("phxCore/directives/phxScrollTo",[],function(){"use strict";return[function(){return{restrict:"A",link:function(a,b,c){var d=c.phxScrollTo;b.bind("click",function(){var a=document.getElementById(d);if(a){var b=$(a).position().top;$(window).scrollTop(b)}})}}}]}),define("text",["module"],function(a){"use strict";function b(a,b){return void 0===a||""===a?b:a}function c(a,c,d,e){if(c===e)return!0;if(a===d){if("http"===a)return b(c,"80")===b(e,"80");if("https"===a)return b(c,"443")===b(e,"443")}return!1}var d,e,f,g,h,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],j=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,k=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,m=l&&location.protocol&&location.protocol.replace(/\:/,""),n=l&&location.hostname,o=l&&(location.port||void 0),p={},q=a.config&&a.config()||{};return d={version:"2.0.15",strip:function(a){if(a){a=a.replace(j,"");var b=a.match(k);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:q.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=i[b];try{a=new ActiveXObject(c)}catch(d){}if(a){i=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.lastIndexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,e,f){var g,h,i,j=d.xdRegExp.exec(a);return j?(g=j[2],h=j[3],h=h.split(":"),i=h[1],h=h[0],(!g||g===b)&&(!h||h.toLowerCase()===e.toLowerCase())&&(!i&&!h||c(g,i,b,f))):!0},finishLoad:function(a,b,c,e){c=b?d.strip(c):c,q.isBuild&&(p[a]=c),e(c)},load:function(a,b,c,e){if(e&&e.isBuild&&!e.inlineText)return void c();q.isBuild=e&&e.isBuild;var f=d.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=b.toUrl(g),i=q.useXhr||d.useXhr;return 0===h.indexOf("empty:")?void c():void(!l||i(h,m,n,o)?d.get(h,function(b){d.finishLoad(a,f.strip,b,c)},function(a){c.error&&c.error(a)}):b([g],function(a){d.finishLoad(f.moduleName+"."+f.ext,f.strip,a,c)}))},write:function(a,b,c,e){if(p.hasOwnProperty(b)){var f=d.jsEscape(p[b]);c.asModule(a+"!"+b,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,b,c,e,f){var g=d.parseName(b),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=c.toUrl(g.moduleName+h)+".js";d.load(i,c,function(b){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},d.write(a,i,c,f)},f)}},"node"===q.env||!q.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(e=require.nodeRequire("fs"),d.get=function(a,b,c){try{var d=e.readFileSync(a,"utf8");"\ufeff"===d[0]&&(d=d.substring(1)),b(d)}catch(f){c&&c(f)}}):"xhr"===q.env||!q.env&&d.createXhr()?d.get=function(a,b,c,e){var f,g=d.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);q.onXhr&&q.onXhr(g,a),g.onreadystatechange=function(d){var e,f;4===g.readyState&&(e=g.status||0,e>399&&600>e?(f=new Error(a+" HTTP status: "+e),f.xhr=g,c&&c(f)):b(g.responseText),q.onXhrComplete&&q.onXhrComplete(g,a))},g.send(null)}:"rhino"===q.env||!q.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?d.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===q.env||!q.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(f=Components.classes,g=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),h="@mozilla.org/windows-registry-key;1"in f,d.get=function(a,b){var c,d,e,i={};h&&(a=a.replace(/\//g,"\\")),e=new FileUtils.File(a);try{c=f["@mozilla.org/network/file-input-stream;1"].createInstance(g.nsIFileInputStream),c.init(e,1,0,!1),d=f["@mozilla.org/intl/converter-input-stream;1"].createInstance(g.nsIConverterInputStream),d.init(c,"utf-8",c.available(),g.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),d.readString(c.available(),i),d.close(),c.close(),b(i.value)}catch(j){throw new Error((e&&e.path||"")+": "+j)}}),d}),define("text!phxCore/html/phxAsideRail.html",[],function(){return'<div class="m-aside-rail">\n    <div class="m-aside-rail--content" phx-reflow-on-height-change>\n        <aside class="m-iab" phx-breakout-flow>\n            <phx-advertisement ng-if=":: $root.config.ad | phxIsTrue" class="m-sponsor--adjacency" ad-role="contentAdjacent300x600"></phx-advertisement>\n        </aside>\n        <aside class="m-aside-list">\n            <phx-reading-list class="m-reading-list"></phx-reading-list>\n        </aside>\n    </div>\n</div>\n'}),define("phxCore/directives/phxAsideRail",["text!phxCore/html/phxAsideRail.html"],function(a){"use strict";return["$compile","$rootScope","Config","phxAdUtils","phxUtil",function(b,c,d,e,f){function g(a){var b=c.$new();b.index=h++,j(b,function(b){b.data("force",a),b.css("margin-top",l.height*k),b.css("position","relative"),angular.element(".m-aside-rail--content").append(b)})}var h=0,i='<aside class="m-iab m-iab--injected" phx-breakout-flow><phx-advertisement ng-if=":: $root.config.ad | phxIsTrue" class="m-sponsor--adjacency" ad-role="contentAdjacent300x600"></phx-advertisement></aside>',j=b(i),k=d.ad.detailPageRightRailSpacing,l=f.getViewportDimensions(),m=l.height*k,n=600;return{restrict:"EAC",template:a,replace:!0,link:function(a,b,c){var d=!1,i=c.phxBreakoutFlowForce||!1,j=e.isItemSponsored(a.contentItem);j||(a.$on("$locationChangeStart",function(){h=1,d=!1}),a.$on("phxBreakoutDamsRegistered",function(){if(!d){d=!0;for(var a=angular.element(c.mainContentSelector),e=f.estimateContentHeight(a.children()),h=b.children().height()+m;e>h+n;)g(i),h=m+h}}))}}}]}),define("phxCore/directives/phxAutoFocus",[],function(){"use strict";return["$timeout",function(a){return{restrict:"AC",link:function(b,c){a(function(){c.focus()})}}}]}),define("phxCore/directives/phxBlockInsertion",[],function(){"use strict";return["phxBlocks",function(a){return{restrict:"A",link:function(b,c,d){var e=d.phxBlockInsertion;a.register(e,c)}}}]}),define("phxCore/directives/phxBlockReplacement",[],function(){"use strict";return["phxBlocks",function(a){return{restrict:"A",link:function(b,c,d){var e=d.phxBlockReplacement;c.remove(),a.hasInsertionBlock(e)&&(a.replace(e,c),b.$on("$destroy",function(){a.restore(e)}))}}}]}),define("phxCore/directives/phxBody",[],function(){"use strict";return["phxFeatures","phxHeaderUtil","$location",function(a,b,c){return{restrict:"E",link:function(d){d.$on("phxFocusedPageChanged",function(e,f){d.bodyClasses=[],angular.forEach(a.features(),function(b){a.isEnabled(b)&&(d.bodyClasses.push("mm-"+b+"-enabled"),d.bodyClasses.push("mm-"+b+"-"+a.variant(b)))}),c.search().showguides&&d.bodyClasses.push("guides-active"),d.bodyClasses.push(b.getBodyClass())})}}}]}),define("phxCore/directives/phxBreakoutDam",[],function(){"use strict";return["phxBreakout",function(a){return{restrict:"AC",link:function(b,c,d){var e=c.data("force")||b.$eval(d.phxBreakoutDamForce)||!1;c.data("force",e),c.data("padding",d.phxBreakdancrPadding),a.registerDam(c[0],null),b.$on("$destroy",function(){a.unregisterDam(c)})}}}]}),define("phxCore/directives/phxBreakoutFlow",[],function(){"use strict";return["phxBreakout",function(a){return{restrict:"AC",link:function(b,c,d){var e=c.data("force")||b.$eval(d.phxBreakoutFlowForce)||!1;c.data("force",e),c.data("padding",d.phxBreakdancrPadding),a.registerFlow(c[0]),b.$on("$destroy",function(){a.unregisterFlow(c)})}}}]}),define("phxCore/directives/phxBreakoutBounds",[],function(){"use strict";return["phxBreakout",function(a){return{restrict:"AC",link:function(b,c){a.registerBounds(c[0]),b.$on("$destroy",function(){a.unregisterBounds(c)})}}}]}),define("phxCore/directives/phxBrowserConstraint",[],function(){"use strict";return["phxCategorizr","$parse",function(a,b){return{restrict:"A",transclude:"element",priority:601,compile:function(c,d){var e=b(d.phxBrowserConstraint),f=e(a);return function(a,b,c,d,e){f&&e(function(a,c){a.insertAfter(b)})}}}}]}),define("phxCore/directives/phxCategorizrClass",[],function(){"use strict";return["phxCategorizr",function(a){return{restrict:"E",link:function(b,c){for(var d=a.getSlugList(),e=0;e<d.length;e++)c.addClass(d[e])}}}]}),define("text!phxCore/html/phxCategoryNav.html",[],function(){return'<select id="filterByTag" ng-model="selected" ng-options="o as o.label for o in categories" ng-hide="noNavigation">\n    <option value="" ng-class="" ng-selected="">{{defaultLabel}}</option>\n</select>\n'}),define("phxCore/directives/phxCategoryNav",["text!phxCore/html/phxCategoryNav.html"],function(a){"use strict";return["Config",function(b){var c=" ";return{restrict:"E",replace:!0,template:a,scope:{selected:"=",configKey:"@"},link:function(a,d,e){if(!b[a.configKey])return void(a.noNavigation=!0);var f=b[a.configKey],g={};angular.forEach(f.categories,function(a){g[a.tag]=a.label,a.heading||(a.label=c+a.label)}),a.defaultLabel=f.defaultLabel,a.categories=f.categories}}}]}),define("text!phxCore/html/phxCitationInfo.html",[],function(){return'<div>\n    <h2 class="m-person-citations--hed">Citation Information</h2>\n\n    <h3 class="m-person-citation--hed">Article Title</h3>\n    <div class="m-person-citation--body">\n        {{item.title}} Biography\n    </div>\n\n    <h3 class="m-person-citation--hed">Author</h3>\n    <div class="m-person-citation--body">\n        <a ng-if="author.path" ng-href="{{author.path}}">{{author.title}}</a>\n        <span ng-if="!author.path">{{author.title}}</span>\n    </div>\n\n    <h3 class="m-person-citation--hed">Website Name</h3>\n    <div class="m-person-citation--body">\n        {{$root.config.siteNameForCitation}}\n    </div>\n\n    <h3 class="m-person-citation--hed">URL</h3>\n    <div class="m-person-citation--body">\n        <span ng-bind-html="link"></span>\n    </div>\n\n    <h3 class="m-person-citation--hed">Access Date</h3>\n    <div class="m-person-citation--body">\n        {{retrieved | date: \'MMMM d, yyyy\'}}\n    </div>\n\n    <h3 class="m-person-citation--hed">Publisher</h3>\n    <div class="m-person-citation--body">\n        {{$root.config.publisher.name}}\n    </div>\n\n</div>\n    <h3 class="m-person-citation--hed">Original Published Date</h3>\n    <div class="m-person-citation--body">\n        {{item.originalPublishedDate || "n/a"}}\n    </div>\n\n</div>\n'}),define("phxCore/directives/phxCitationInfo",["text!phxCore/html/phxCitationInfo.html"],function(a){"use strict";return["$filter","Config",function(b,c){return{restrict:"EA",template:a,scope:{item:"="},link:function(a,b,d){var e=a.$watch("item",function(b){if(b){e(),a.retrieved=new Date,a.author=b.author||c.siteDefaultAuthor;var d=c.siteUrl+b.path;a.link='<a href="'+d+'">'+d+"</a>"}})}}}]}),define("text!phxCore/html/phxContentArticle.html",[],function(){return'<article class="m-story" ng-class="article.tagClasses">\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article" >\n        <!--// START DETAIL TEMPLATE //-->\n        <meta itemprop="inLanguage" content="en">\n        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">\n            <meta itemprop="url" content="{{:: article.primaryImage | phxImageUrl:\'socialSharingImage\' }}">\n            <meta itemprop="width" content="{{:: article.primaryImage.socialSharingDimensions.width }}">\n            <meta itemprop="height" content="{{:: article.primaryImage.socialSharingDimensions.height }}">\n        </div>\n        <meta itemprop="description" content="{{article.metaDescription || article.teaser}}">\n        <div ng-if="article.publisher" itemprop="publisher" itemscope itemtype="https://schema.org/Organization">\n            <meta itemprop="name" content="{{:: article.publisher.name }}">\n            <meta itemprop="url" content="{{:: article.publisher.url }}">\n            <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">\n                <meta itemprop="url" content="{{:: article.publisher.logo.image | phxImageUrl:\'structuredDataPublisherLogo\' }}">\n                <meta itemprop="width" content="{{:: article.publisher.logo.image.structuredDataPublisherLogoDimensions.width }}">\n                <meta itemprop="height" content="{{:: article.publisher.logo.image.structuredDataPublisherLogoDimensions.height }}">\n            </div>\n        </div>\n        <meta itemprop="dateModified" content="{{article.lastModifiedTimestamp|date:$root.DATETIME_FORMAT}}">\n        <link itemprop="mainEntityOfPage" href="{{:: article.canonicalUrl }}">\n\n        <header ng-style="article.featuredImage ? {height: $root.windowHeight} : null" class="m-detail--header">\n\n            <div ng-if="article.featuredImage" class="m-detail--image" ng-style="{\'background-image\': \'url({{article.featuredImage|phxImageUrl:\'articleDetailPrimaryImage\'}})\'}"></div>\n\n            <div class="m-detail--feature-header">\n\n                <div itemprop="articleSection" class="m-detail--section">\n                    <a ng-href="{{ ::article.section.path }}" phx-track-event phx-track-id="SectionKey"> {{ :: article.section.displayName }}</a>\n                </div>\n\n                <!-- Temporarily disabling section sponsor from display on articles to address fashionista -->\n                <!-- and xojane Optix sponsorship issue -->\n                <!-- <div class="m-sponsor--section-sponsor"><phx-branding-badge badge="article.sponsorship.sectionBrandingBadge" ng-if="article.sponsorship.sectionBrandingBadge"></phx-branding-badge></div> -->\n\n                <div class="m-detail--summary">\n                    <h1 class="m-detail--hed" itemprop="headline" phx-word-count>{{article.title}}</h1>\n                    <div class="m-detail--abstract" ng-bind="article.teaser"></div>\n                </div>\n\n                <div class="m-detail--meta">\n                    <dl>\n                        <dt>Avatar:</dt>\n                        <dd ng-if="article.author.photo" class="m-detail--avatar"><a ng-href="{{ ::article.author.path }}" phx-track-event phx-track-id="Author Image"><img ng-src="{{ :: article.author.photo|phxImageUrl:\'articleDetailAuthorImage\' }}" ng-attr-alt="{{ :: article.author.title }}" /></a></dd>\n                        <dt>Author:</dt>\n                        <dd itemprop="author" class="m-detail--author">\n                            <a ng-href="{{ :: article.author.path }}" phx-track-event phx-track-id="Author Name" rel="author">\n                                {{ ::article.author.title }}\n                            </a>\n                        </dd>\n                        <dt>Publish date:</dt>\n                        <dd class="m-detail--publish-date"><time itemprop="datePublished" datetime="{{article.publicationTimestamp|date:$root.DATETIME_FORMAT}}" phx-live-date="{{article.publicationTimestamp}}" title="{{article.publicationTimestamp|date}}">{{article.publicationTimestamp|date}}</time></dd>\n\n                        <dt ng-if="$root.config.social | phxIsTrue">Social count:</dt>\n                        <dd itemprop="interactionCount" class="m-detail--interaction-count">{{article.socialProof.aggregate}}</dd>\n\n                    </dl>\n                </div>\n\n            </div>\n\n        </header>\n\n        <!-- Wrapper for setting content width -->\n        <div class="m-detail--contents" phx-breakout-bounds>\n\n            <div class="m-detail--abstract" ng-bind="article.teaser"></div>\n\n            <phx-social-tools\n                    ng-if="::($root.config.social | phxIsTrue)"\n                    ng-style="::{top: $root.windowHeight}"\n                    content-item="article"\n                    author="article.author"\n                    phx-track-id="Social Tools Top">\n            </phx-social-tools>\n\n            <phx-aside-rail phx-breakout-flow-force="true" class="l-one-third" main-content-selector="[data-phx-advertising-container]"></phx-aside-rail>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="article.branding.topBadge" ng-if="article.isSponsored && article.branding.topBadge"></phx-branding-badge></div>\n\n            <section itemprop="articleBody" phx-reflow-on-height-change>\n                <div class="m-detail--body" phx-tml="article.bodyTml" phx-track-progress data-phx-advertising-container></div>\n            </section>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="article.branding.bottomBadge" ng-if="article.isSponsored && article.branding.bottomBadge"></phx-branding-badge></div>\n\n            <footer class="m-detail--footer">\n                <div class="m-detail--meta">\n                    <dl>\n                        <dt class="m-detail--label" ng-if=\'showTagsLabel\' translate="TAGS"></dt>\n                        <dd itemprop="keywords" class="m-detail--keywords"><a ng-repeat="tag in ::article.tags" ng-href="{{ :: tag.path }}" phx-html="tag.displayName" ng-if="::tag.path"></a></dd>\n                        <dt ng-repeat-start="termType in article.sortedAssociatedRichTerms" phx-html="termType.displayName + \':\'"></dt>\n                        <dd ng-repeat-end itemprop="keywords" class="m-detail--keywords"><a ng-repeat="term in ::termType.items" ng-href="{{ :: term.path }}" phx-html="term.displayName" ng-if=":: term.path"></a></dd>\n                    </dl>\n                </div>\n\n                <aside class="m-detail--author-box">\n\n                    <div ng-if="article.author.photo" class="m-detail--avatar"><a ng-href="{{ :: article.author.path}}" phx-track-event phx-track-id="Author Image"><img ng-src="{{ :: article.author.photo|phxImageUrl:\'articleDetailAuthorImage\' }}" ng-attr-alt="{{ :: article.author.title }}" /></a></div>\n\n                    <div class="m-detail--author-content">\n\n                        <div class="m-detail--author-byline">\n                            <div class="m-detail--author-byline-label" translate="BYLINE_LABEL"></div>\n                            <a ng-href="{{ :: article.author.path }}" rel="author">{{ ::article.author.title }}</a>\n                        </div>\n\n                        <div class="m-detail--author-social" ng-show="showAuthorSocialLinks">\n                            <dl>\n                                <dt ng-if="article.author.twitterUsername">Twitter:</dt>\n                                    <dd ng-if="article.author.twitterUsername"><a ng-href="http://twitter.com/{{article.author.twitterUsername}}" phx-track-event phx-track-id="Twitter Follow" rel="me" target="blank">Twitter</a></dd>\n                                <dt ng-if="article.author.gplusProfileUrl">Google Plus:</dt>\n                                    <dd ng-if="article.author.gplusProfileUrl"><a ng-href="{{article.author.gplusProfileUrl}}" phx-track-event phx-track-id="Google Plus Follow" rel="me" target="blank">Google+</a></dd>\n                                <dt ng-if="article.author.facebookProfileUrl">Facebook:</dt>\n                                    <dd ng-if="article.author.facebookProfileUrl"><a ng-href="{{article.author.facebookProfileUrl}}" phx-track-event phx-track-id="Facebook Follow" rel="me" target="blank">Facebook</a></dd>\n                                <dt ng-if="article.author.linkedinProfileUrl">Linkedin:</dt>\n                                    <dd ng-if="article.author.linkedinProfileUrl"><a ng-href="{{article.author.linkedinProfileUrl}}" phx-track-event phx-track-id="Linkedin Follow" rel="me" target="blank">LinkedIn</a></dd>\n                                <dt ng-if="article.author.pinterestProfileUrl">Pinterest:</dt>\n                                    <dd ng-if="article.author.pinterestProfileUrl"><a ng-href="{{article.author.pinterestProfileUrl}}" phx-track-event phx-track-id="Pinterest Follow" rel="me" target="blank">Pinterest</a></dd>\n                                <dt ng-if="article.author.instagramProfileUrl">Instagram:</dt>\n                                    <dd ng-if="article.author.instagramProfileUrl"><a ng-href="{{article.author.instagramProfileUrl}}" phx-track-event phx-track-id="Instagram Follow" rel="me" target="blank">Instagram</a></dd>\n                                <dt ng-if="article.author.website">Website:</dt>\n                                    <dd ng-if="article.author.website"><a ng-href="{{article.author.website}}" phx-track-event phx-track-id="Website Follow" rel="me" target="blank">Website</a></dd>\n                            </dl>\n                        </div>\n                    </div>\n                </aside>\n\n                <phx-social-tools\n                        once-if="($root.config.social | phxIsTrue)"\n                        content-item="article"\n                        author="article.author"\n                        phx-track-id="Social Tools Bottom">\n                </phx-social-tools>\n\n            </footer>\n\n            <aside phx-breakout-dam phx-track-id="BelowContent" id="phxtags-belowcontent"></aside>\n\n            <aside phx-content-recommendations phx-breakout-dam\n                phx-track-id="ContentRecommendations"\n                ng-if="$root.config.contentRecommendations.placements.belowContent | phxIsTrue"\n                config="$root.config.contentRecommendations.providers[\n                    $root.config.contentRecommendations.placements.belowContent]"\n                url="{{article.path}}">\n            </aside>\n        </div>\n\n    </div>\n\n    <div ng-if="phxDisplayMode!=\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{article.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{ :: article.path }}" phx-track-event phx-track-id="Image" ng-attr-rel="{{ :: article.opportunityLineItemId?\'nofollow\':\'\' }}">\n                    <img ng-src="{{ :: article.primaryImage|phxImageUrl:phxPrimaryImageProfile }}" ng-attr-alt="{{ :: article.promoTitle }}" data-pin-no-hover="true" nopin="true"/>\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=":: article.sectionKey && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{ :: article.overrideLabel ? article.path : article.section.path }}" phx-track-event phx-track-id="SectionKey" ng-if=":: !article.branding">\n                {{ ::article.label || article.section.displayName }}\n            </a>\n            <a ng-if=":: article.branding">\n                {{ ::$root.config.brandedContent.cardDisclosureCaption }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{ :: article.path }}" phx-track-event phx-track-id="Title" ng-attr-rel="{{ :: article.opportunityLineItemId?\'nofollow\':\'\' }}" phx-ellipsis>\n                        {{ ::article.promoTitle }}\n                    </a>\n                </h2>\n                <div ng-if="::phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis>\n                    {{ ::article.teaser }}\n                </div>\n                <div ng-if="article.cardTypeCode === \'listVertical\' && phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" phx-hide-if-too-big class="m-item--copy">\n                    {{ :: article | phxCreateExcerpt:\'bodyTml\':280}} ...<a ng-href="{{ ::article.path }}"><i>read&nbsp;more</i></a>\n                </div>\n\n                <div ng-if=":: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                    <ul>\n                        <li class="m-item--author" ng-if=" ::article.author.title">\n                            <a ng-href="{{ ::article.author.path }}" phx-track-event phx-track-id="Author Name">\n                                {{ ::article.author.title }}\n                            </a>\n                        </li>\n                        <li class="m-item--date-published" phx-live-date="{{article.publicationTimestamp}}" ng-attr-title="{{ ::article.publicationTimestamp|date }}">\n                            {{article.publicationTimestamp|date}}\n                        </li>\n\n                        <li class="m-item--comment-count" ng-if="article.socialProof.disqus && article.commentsEnabled && cardSocialProof === \'comment\'">\n                            <a href="{{article.path}}#comments" translate="COMMENT_COUNT" translate-values="{COUNT: article.socialProof.disqus}"></a>\n                        </li>\n\n                        <li class="m-item--aggregate-count" ng-if="article.socialProof && cardSocialProof === \'aggregate\' && article.socialProof.aggregate > 1" translate="SHARE_COUNT" translate-values="{COUNT: article.socialProof.aggregate, DISPLAY_COUNT: (article.socialProof.aggregate|phxAbbreviateNumber)}">\n                        </li>\n                    </ul>\n                </div>\n\n                <!-- this is a bit of a hack to show comment counts on the xojane "most talked about" strip\n                     It is a bit of duplicated code from above\n                -->\n                <ul ng-if="::phxDisplayMode==\'strip\'" class="m-item--details">\n                    <li class="m-item--comment-count" ng-if="article.socialProof.disqus && article.commentsEnabled && cardSocialProof === \'comment\'">\n                        <a href="{{article.path}}#comments" translate="COMMENT_COUNT" translate-values="{COUNT: article.socialProof.disqus}"></a>\n                    </li>\n\n                    <li class="m-item--aggregate-count" ng-if="article.socialProof && cardSocialProof === \'aggregate\' && article.socialProof.aggregate > 1" translate="SHARE_COUNT" translate-values="{COUNT: article.socialProof.aggregate, DISPLAY_COUNT: (article.socialProof.aggregate|phxAbbreviateNumber)}">\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n    </div>\n\n</article>\n';
}),define("phxCore/directives/phxContentArticle",["text!phxCore/html/phxContentArticle.html"],function(a){"use strict";return["$timeout","phxBreakout","Config","phxUtil","phxImageUtil",function(b,c,d,e,f){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,g){a.showTagsLabel=!1,a.article=a.contentItem,a.article.tags&&a.article.tags.length>0&&(a.showTagsLabel=!0),d.cardSocialProof&&(a.cardSocialProof=d.cardSocialProof),a.article&&g.addClass("mm-"+e.getDisplayTypeForItem(a.article)),a.article&&a.article.isImageOnly&&g.addClass("mm-image-only"),a.showAuthorSocialLinks=!(!a.article.author||!(a.article.author.twitterUsername||a.article.author.gplusProfileUrl||a.article.author.facebookProfileUrl||a.article.author.linkedinProfileUrl||a.article.author.pinterestProfileUrl||a.article.author.instagramProfileUrl||a.article.author.website)),a.$watch("contentItem.associatedRichTerms",function(){if(a.contentItem.associatedRichTerms){var b=e.sortAssociatedRichTerms(a.contentItem.associatedRichTerms);a.contentItem.sortedAssociatedRichTerms=b,b&&b.terms&&b.terms.items&&b.terms.items.length>0&&(a.showTagsLabel=!0)}}),"full"===a.phxDisplayMode&&(a.article.primaryImage.socialSharingDimensions=f.scaleDimensions(a.article.primaryImage,{profile:"socialSharingImage"}),d.publisher&&(a.article.publisher=d.publisher,a.article.publisher.logo&&(a.article.publisher.logo.image.structuredDataPublisherLogoDimensions=f.scaleDimensions(a.article.publisher.logo.image,{profile:"structuredDataPublisherLogo"})))),"full"===a.phxDisplayMode&&a.article.bodyTml&&b(function(){c.findAndRegisterDams()},0)}}}]}),define("text!phxCore/html/phxContentEmbed.html",[],function(){return'<article class="m-content-embed" ng-switch="embed.provider">\n\n    <!--// START TWITTER TEMPLATE //-->\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="twitter" class="m-content-embed--twitter" ng-class="embed.content.imageUrl ? \'mm-has-image-embed\' : \'\'" phx-track-id="ContentEmbed-Twitter">\n        <div class="m-item--image-container">\n            <phx-primary-image class="m-item--image" alt="{{embed.promoTitle}}" image="{{embed.content.imageUrl}}" background-image="{{embed.content.imageUrl}}" url="{{embed.externalUrl}}" target="_blank" data-pin-no-hover="true" ></phx-primary-image>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--avatar"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Avatar"><img ng-src="{{embed.content.userImageUrl}}" /></a></div>\n\n            <div class="m-item--summary">\n                <h2 class="m-item--hed"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Username">{{embed.content.userDisplayName}}</a></h2>\n\n                <div class="m-item--follow"><a ng-href="https://twitter.com/intent/user?screen_name={{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Follow">Follow</a></div>\n\n                <ul class="m-item--summary-details">\n                    <li class="m-item--embed-username"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Username">@{{embed.content.username}}</a></li>\n                    <li class="m-item--date-published" ng-attr-title="{{ :: embed.publicationTimestamp|date:$root.DATETIME_FORMAT }}"><a ng-href="{{embed.externalUrl}}" phx-live-date="{{embed.publicationTimestamp}}" target="_blank" phx-track-event phx-track-id="Date"></a></li>\n                </ul>\n            </div>\n\n            <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n            <ul class="m-item--details">\n                <li class="m-item--reply"><a ng-href="https://twitter.com/intent/tweet?in_reply_to={{embed.externalId}}" target="_blank" phx-track-event phx-track-id="Reply">Reply</a></li>\n                <li class="m-item--retweet"><a ng-href="https://twitter.com/intent/retweet?tweet_id={{embed.externalId}}" target="_blank" phx-track-event phx-track-id="Retweet">Retweet</a></li>\n                <li class="m-item--favorite"><a ng-href="https://twitter.com/intent/favorite?tweet_id={{embed.externalId}}" target="_blank" phx-track-event phx-track-id="Favorite">Favorite</a></li>\n            </ul>\n        </div>\n\n        <div ng-if=" :: embed.sectionKey" class="m-item--section">\n            <a ng-href="{{ :: embed.section.path }}" phx-track-event phx-track-id="SectionKey">\n                {{ :: embed.section.displayName }}\n            </a>\n        </div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n\n    <!--// START INSTAGRAM TEMPLATE //-->\n\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="instagram" class="m-content-embed--instagram" phx-track-id="ContentEmbed-Instagram">\n        <div class="m-item--image-container">\n            <phx-primary-image class="m-item--image" alt="{{embed.promoTitle}}" image="{{embed.content.lowResolutionImage}}" background-image="{{embed.content.lowResolutionImage}}" url="{{embed.externalUrl}}" target="_blank" data-pin-no-hover="true"></phx-primary-image>\n        </div>\n\n        <div ng-if=" :: embed.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            {{ :: embed.label }}\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--avatar"><a ng-href="http://instagram.com/{{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Username"><img ng-src="{{embed.content.userImageUrl}}" /></a></div>\n\n            <div class="m-item--summary">\n                <h2 class="m-item--hed"><a ng-href="http://instagram.com/{{embed.content.username}}" target="_blank" phx-track-event phx-track-id="Username">{{embed.content.userDisplayName}}</a></h2>\n\n                <ul class="m-item--summary-details">\n                    <li class="m-item--date-published" ng-attr-title="{{ :: embed.publicationTimestamp|date:$root.DATETIME_FORMAT }}"><a ng-href="{{embed.externalUrl}}" phx-live-date="{{embed.publicationTimestamp}}" target="_blank" phx-track-event phx-track-id="Date"></a><li>\n                </ul>\n            </div>\n\n            <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n            <ul class="m-item--details">\n                <li class="m-item--like-count"><a ng-href="{{embed.externalUrl}}" target="_blank" phx-track-event phx-track-id="Likes" translate="LIKE_COUNT" translate-values="{COUNT: embed.content.likeCount}"></a></li>\n                <li class="m-item--comment-count"><a ng-href="{{embed.externalUrl}}" target="_blank" phx-track-event phx-track-id="Comments" translate="COMMENT_COUNT" translate-values="{COUNT: embed.content.commentCount}"></a></li>\n            </ul>\n        </div>\n\n        <div ng-if=" :: embed.sectionKey" class="m-item--section">\n            <a ng-href="{{ :: embed.section.path }}" phx-track-event phx-track-id="SectionKey">\n                {{ :: embed.section.displayName }}\n            </a>\n        </div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n\n    <!--// START DISQUS TEMPLATE //-->\n\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="disqus" class="m-content-embed--disqus" phx-track-id="ContentEmbed-Disqus">\n\n        <div class="m-item--content">\n            <div class="m-item--avatar"><img ng-src="{{embed.content.userImageUrl}}" /></div>\n\n            <div class="m-item--summary">\n                <h2 class="m-item--hed">{{embed.content.userDisplayName}}</h2>\n\n                <ul class="m-item--summary-details">\n                    <li class="m-item--date-published" phx-live-date="{{embed.publicationTimestamp}}" ng-attr-title="{{ :: embed.publicationTimestamp|date:$root.DATETIME_FORMAT }}"><li>\n                </ul>\n            </div>\n\n            <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n            <div class="m-item--title"><span class="m-item--title-prefix" translate="COMMENT_FROM"></span> <a ng-href="{{embed.externalUrl}}" phx-track-event phx-track-id="Title">&ldquo;{{embed.content.title}}&rdquo;</a></div>\n        </div>\n\n        <div ng-if=" :: embed.sectionKey" class="m-item--section">\n            <a ng-href="{{ :: embed.section.path }}" phx-track-event phx-track-id="SectionKey">\n                {{ :: embed.section.displayName }}\n            </a>\n        </div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentEmbed",["text!phxCore/html/phxContentEmbed.html"],function(a){"use strict";return[function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,b){a.embed=a.contentItem,a.embed&&a.embed.content&&(a.embed.content.userDisplayName=a.embed.content.userDisplayName||a.embed.content.username),a.embed&&a.embed.isImageOnly&&b.addClass("mm-image-only")}}}]}),define("text!phxCore/html/phxContentBasicPage.html",[],function(){return'<article class="m-basic-page">\n\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article">\n        <!--// START DETAIL TEMPLATE //-->\n        <h1 class="m-basic-page--hed" itemprop="headline">{{page.title}}</h1>\n        <section class="m-detail--body" itemprop="articleBody" phx-tml="page.bodyTml"></section>\n    </div>\n\n    <div ng-if="phxDisplayMode!==\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{page.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{ :: page.path }}" phx-track-event phx-track-id="Image" alt="{{ :: page.promoTitle }}">\n                    <img ng-src="{{ :: page.primaryImage|phxImageUrl:phxPrimaryImageProfile }}" alt="{{ :: page.promoTitle }}" data-pin-no-hover="true" />\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=":: page.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{ :: page.path }}" phx-track-event phx-track-id="Label">\n                {{ :: page.label }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{ :: page.path }}" phx-track-event phx-track-id="Title">\n                        {{ :: page.promoTitle }}\n                    </a>\n                </h2>\n                <div ng-if=":: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis>\n                    {{ :: page.teaser ? page.teaser : (page.bodyTml|phxStripHtml) }}\n                </div>\n                <ul ng-if=":: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                    <li class="m-item--author" ng-if=" :: page.author.title">\n                        <a ng-href="{{ :: page.author.path }}" phx-track-event phx-track-id="Author Name">\n                            {{ :: page.author.title }}\n                        </a>\n                    </li>\n                    <li class="m-item--date-published" phx-live-date="{{page.publicationTimestamp}}" ng-attr-title="{{ page.publicationTimestamp|date }}">\n                        {{ :: page.publicationTimestamp|date }}\n                    </li>\n                </ul>\n\n            </div>\n        </div>\n\n    </div>\n</article>\n'}),define("phxCore/directives/phxContentBasicPage",["text!phxCore/html/phxContentBasicPage.html"],function(a){"use strict";return function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,b){a.page=a.contentItem,a.page&&a.page.isImageOnly&&b.addClass("mm-image-only")}}}}),define("phxCore/directives/phxContentItem",[],function(){"use strict";return["$compile","cstLogger",function(a,b){function c(b){return!e.hasOwnProperty(b)&&d.hasOwnProperty(b)&&(e[b]=a('<div class="'+d[b]+'" content-item="phxContentItem" phx-display-mode="{{phxDisplayMode}}" phx-primary-image-profile="{{phxPrimaryImageProfile}}"></div>')),e[b]}var d={ContentArticle:"phx-content-article",ContentBasicPage:"phx-content-basic-page",ContentEmbed:"phx-content-embed",ContentVideo:"phx-content-video",ContentPerson:"phx-content-person",ContentRecipe:"phx-content-recipe",ContentReference:"phx-content-reference",ContentRichTerm:"phx-content-rich-term"},e={};return{restrict:"A",scope:{phxContentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},link:function(a,d){a.$watch("phxContentItem",function(e){if(e){var f=e.objectType,g=c(f);if(d.html(""),!g)return;var h;g(a,function(a){h=a}),d.prop("tagName")!==h.prop("tagName")&&b.warn("The root element `"+h.prop("tagName")+"` of the loaded template does not match the container element `"+d.prop("tagName")+"`");for(var i=h.get(0).attributes,j=0;j<i.length;j++)"class"===i[j].name?d.addClass(i[j].value):d.attr(i[j].name,i[j].value);d.append(h.contents())}})}}}]}),define("text!phxCore/html/phxContentPerson.html",[],function(){return'<article class="m-person">\n\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Person">\n        <!--// START DETAIL TEMPLATE //-->\n        <meta itemprop="image" content="{{person.primaryImage|phxImageUrl:\'socialSharingImage\'}}">\n        <meta itemprop="description" content="{{person.metaDescription || person.teaser}}">\n\n        <phx-primary-image url="{{person.path}}" class="m-person--image" image="{{person.primaryImage|phxImageUrl:\'personDetailPrimaryImage\'}}" alt="{{person.title}}"></phx-primary-image>\n\n        <div class="l-wrap">\n            <h1 class="m-person--hed" phx-word-count>{{person.title}}&nbsp;<span class="m-person--hed-meta">{{$root.config.siteName}}</span></h1>\n            <div class="m-person--occupations"><span ng-repeat="occupation in person.occupations | phxDedupeRichTerms">{{occupation.displayName}}<span ng-if="!$last">, </span></span><span ng-if="person.birthYear || person.deathYear" class="m-person--birthdeathyears"> (<span phx-html="[person.birthYear, person.deathYear, person.birthCirca, person.deathCirca, person.deathYearCe, person.deathYearCe] | phxBirthDeathYears"></span>)</span></div>\n            <div ng-if="($root.config.social | phxIsTrue)">\n                <phx-social-tools\n                    content-item="person"\n                    phx-track-id="Social Tools Top"></phx-social-tools>\n            </div>\n        </div>\n\n        <aside ng-if="(showProfile300x600 | phxIsTrue)" phx-breakout-flow class="m-person--ad" style="">\n            <phx-freewheel-ad ng-if="hasFeaturedVideo" layout="box"></phx-freewheel-ad>\n            <phx-advertisement ng-if="! hasFeaturedVideo" ad-role="contentAdjacent300x600" class="m-person--iab"></phx-advertisement>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--quickfacts">\n            <h2 class="m-person--quickfacts--hed">Quick Facts</h2>\n\n            <phx-fact label="Name" source="person.title" phx-fact-itemprop="name"></phx-fact>\n            <phx-fact label="Occupation" source="person.occupations" type="richTermList" itemscope phx-fact-itemprop="jobTitle"></phx-fact>\n            <phx-fact source="[person.birthYear, person.birthMonth, person.birthDay, person.birthMonthDay, person.birthCirca, person.birthYearCe]" type="dateFromYmd" label="Birth Date" age-if="{{!person.deathYear}}" phx-fact-itemprop="birthDate"></phx-fact>\n            <phx-fact source="[person.deathYear, person.deathMonth, person.deathDay, person.deathMonthDay, person.deathCirca, person.deathYearCe]" type="dateFromYmd" label="Death Date" phx-fact-itemprop="deathDate"></phx-fact>\n            <phx-fact source="person.interesting_facts" label="Did You Know?"></phx-fact>\n            <phx-fact source="person.schools" label="Education" type="richTermList" phx-fact-itemprop="alumniOf"></phx-fact>\n            <phx-fact source="[person.birthCity, person.birthState, person.birthCountry]" label="Place of Birth" type="placeName"></phx-fact>\n            <phx-fact source="[person.deathCity, person.deathState, person.deathCountry]" label="Place of Death" type="placeName"></phx-fact>\n            <phx-fact source="person.alternateNames" type="listFromMap" phx-fact-itemprop="additionalName"></phx-fact>\n            <phx-fact ng-if="!person.deathYear" source="person.astrologicalSign" type="richTermList" label="Zodiac Sign"></phx-fact>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--toc">\n            <phx-fragment-toc tml-source="person.profileTml" route-keyword="contentPersonDetail"></phx-fragment-toc>\n            <ul><li>\n                <a href="" ng-click="jumpToCitations()">Cite This Page</a>\n            </li></ul>\n        </aside>\n\n        <div class="m-person--abstract" itemprop="description" phx-html="person.bestKnownFor" ng-if="person.bestKnownFor"></div>\n\n        <aside phx-breakout-flow class="m-person--groups">\n            <h2>IN THESE GROUPS</h2>\n            <phx-related-rich-terms item="person" show-initially="4" ></phx-related-rich-terms>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--quotes" ng-if="person.quotes">\n            <phx-text-carousel source="person.quotes" prepend="&ldquo;" append="&rdquo;" footer="\'&#151;\' + person.title"></phx-text-carousel>\n        </aside>\n\n        <section class="m-detail--body" phx-tml="person.profileTml" phx-advertising-container></section>\n\n        <section class="m-person--factcheck">\n            <h2 class="m-person--factcheck--hed">Fact Check</h2>\n            <p>We strive for accuracy and fairness. If you see something that doesn\'t look right, <a href="/page/contact-us">contact us</a>!</p>\n        </section>\n\n        <aside class="m-person--citations" id="citations">\n            <phx-citation-info item="person"></phx-citation-info>\n        </aside>\n\n        <aside class="m-person--social">\n            <phx-social-tools\n                content-item="person"\n                phx-track-id="Social Tools Bottom"></phx-social-tools>\n        </aside>\n\n        <aside ng-if="($root.config.pubExchange | phxIsTrue) " >\n            <phx-pub-exchange config="$root.config.pubExchange"></phx-pub-exchange>\n        </aside>\n\n    </div>\n\n    <div ng-if="phxDisplayMode!==\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <phx-primary-image url="{{person.path}}" class="m-item--image" image="{{person.primaryImage|phxImageUrl:phxPrimaryImageProfile}}" style="background-image:url(\'{{person.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\')" alt="{{person.title}}"></phx-primary-image>\n        </div>\n\n        <div ng-if=" :: person.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{person.path}}" phx-track-event phx-track-id="Label">\n                {{ :: person.label }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{person.path}}" phx-track-event phx-track-id="Title">{{person.promoTitle}}</a>\n                </h2>\n                <div class="m-item--abstract" ng-bind="person.bestKnownFor" phx-ellipsis="{{person.bestKnownFor}}"></div>\n\n                <ul class="m-item--details">\n                    <li class="m-item--occupation" ng-repeat="occupation in person.occupations | phxDedupeRichTerms">{{occupation.displayName}}<span ng-if="!$last">,  </span></li>\n                    <li class="m-item--birthdeathyears" span ng-if="person.birthYear || person.deathYear"> (<span phx-html="[person.birthYear, person.deathYear, person.birthCirca, person.deathCirca, person.deathYearCe, person.deathYearCe] | phxBirthDeathYears"></span>)</li>\n                </ul>\n            </div>\n        </div>\n\n    </div>\n\n</article>\n'}),define("phxCore/directives/phxContentPerson",["text!phxCore/html/phxContentPerson.html"],function(a){"use strict";return["phxFragmentUrl","$timeout","Config","phxTmlUtil",function(b,c,d,e){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,f){a.showProfile300x600=!1,"full"===a.phxDisplayMode&&d.ad&&(a.showProfile300x600=!0),a.person=a.contentItem,a.hasFeaturedVideo=e.hasFeaturedVideo(a.person.profileTml),a.person&&a.person.isImageOnly&&f.addClass("mm-image-only"),a.jumpToCitations=function(){b.setFragment(null,!1,!0),b.setScrolling(!0);var a=angular.element(".m-person--citations").offset().top;angular.element("html, body").animate({scrollTop:a},500),c(function(){b.setScrolling(!1)},600)}}}}]}),define("text!phxCore/html/phxContentRecipe.html",[],function(){return'<article class="m-recipe" ng-class="recipe.tagClasses">\n\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Recipe" >\n        <!--// START DETAIL TEMPLATE //-->\n        <meta itemprop="inLanguage" content="en">\n        <meta itemprop="image" content="{{recipe.primaryImage|phxImageUrl:\'socialSharingImage\'}}">\n        <meta itemprop="description" content="{{recipe.metaDescription || recipe.teaser}}">\n\n        <header class="m-detail--header">\n\n            <div class="m-detail--feature-header">\n\n                <div class="m-detail--section" ng-hide=true>\n                    <a ng-href="{{ :: recipe.terms[0].path }}" phx-track-event phx-track-id="RichTerm">\n                        {{ :: recipe.terms[0].displayName }}\n                    </a>\n                </div>\n\n                <div class="m-detail--summary">\n                    <h1 class="m-detail--hed" itemprop="name" phx-word-count>{{recipe.title}}</h1>\n                    <div class="m-detail--abstract" itemprop="description" ng-bind="recipe.teaser"></div>\n                </div>\n\n                <div class="m-detail--meta">\n                    <dl>\n                        <dt>Author:</dt>\n                        <dd itemprop="author" class="m-detail--author">\n                            <a ng-href="{{recipe.author.path}}" phx-track-event phx-track-id="Author Name" rel="author">\n                                {{ :: recipe.author.title }}\n                            </a>\n                        </dd>\n                        <dt>Publish date:</dt>\n                        <dd class="m-detail--publish-date">\n                            <time itemprop="datePublished" datetime="{{recipe.publicationTimestamp|date:$root.DATETIME_FORMAT}}" phx-live-date="{{recipe.publicationTimestamp}}" title="{{recipe.publicationTimestamp|date}}">{{recipe.publicationTimestamp|date}}</time>\n                        </dd>\n\n                        <dt ng-if="$root.config.social | phxIsTrue">Social count:</dt>\n                        <dd itemprop="interactionCount" class="m-detail--interaction-count" min="{{$root.config.social.minForDisplay}}">{{recipe.socialCounts.aggregate}}</dd>\n                    </dl>\n                </div>\n\n            </div>\n\n        </header>\n\n        <!-- Wrapper for setting content width -->\n        <div class="m-detail--contents" phx-breakout-bounds phx-track-progress>\n            <phx-social-tools\n                    ng-if=" :: ($root.config.social | phxIsTrue)"\n                    ng-style=" :: {top: $root.windowHeight}"\n                    content-item="recipe"\n                    author="recipe.author"\n                    phx-track-id="Social Tools Top">\n            </phx-social-tools>\n\n            <phx-aside-rail class="l-one-third" main-content-selector="[data-phx-advertising-container]"></phx-aside-rail>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="recipe.branding.topBadge" ng-if="recipe.isSponsored && recipe.branding.topBadge"></phx-branding-badge></div>\n\n            <section phx-reflow-on-height-change data-phx-advertising-container>\n\n                <div class="m-detail--body" ng-show="recipe.narrativeTml" phx-tml="recipe.narrativeTml"></div>\n\n                <ul class="m-detail--properties" ng-show="showRecipeProperties">\n                    <li class="m-detail--properties-group" ng-repeat="property in recipe.properties" ng-switch on="property.type" ng-class="property.key == \'servingSizeDescription\' ? \'single\' : \'double\'">\n                        <!-- switch tag on property type -->\n                        <span class="m-detail--properties-item" ng-switch-when="string" itemprop="{{property.itemprop}}">{{property.value}}</span>\n                        <time class="m-detail--properties-item" ng-switch-when="time" datetime="PT{{property.value}}M" itemprop="{{property.itemprop}}">{{property.value}}min</time>\n\n                        <span class="m-detail--properties-label">{{property.display}}</span>\n                    </li>\n                </ul>\n\n                <section class="l-split-width">\n                    <div class="l-split-column m-detail--ingredients">\n                        <h3>Ingredients</h3>\n                        <div class="m-detail--group" ng-repeat="group in recipe.ingredients">\n                            <h4 ng-show="group.label">{{ group.label }}</h4>\n                            <ul ng-repeat="ingredient in group.ingredients">\n                                <li itemprop="recipeIngredient" phx-html="ingredient.descriptionTmlInline">\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <div class="l-split-column m-detail--preparation">\n                        <h3>Preparation</h3>\n                        <div class="m-detail--group" phx-tml="recipe.instructionsTml" itemprop="recipeInstructions"></div>\n                    </div>\n                </section>\n            </section>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="recipe.branding.bottomBadge" ng-if="recipe.isSponsored && recipe.branding.bottomBadge"></phx-branding-badge></div>\n\n            <footer class="m-detail--footer">\n                <div class="m-detail--meta">\n                    <dl>\n                        <dt>Publish date:</dt>\n                        <dd class="m-detail--publish-date" phx-live-date="{{recipe.publicationTimestamp}}" ng-attr-title="{{ :: recipe.publicationTimestamp|date }}">\n                            {{ :: recipe.publicationTimestamp|date }}\n                        </dd>\n                        <dt>Tags:</dt>\n                        <dt ng-repeat-start="termType in recipe.sortedAssociatedRichTerms" phx-html="termType.displayName + \':\'"></dt>\n                        <dd ng-repeat-end itemprop="keywords" class="m-detail--keywords">\n                            <a ng-repeat="term in termType.items" ng-href="{{ :: term.path }}" phx-html="term.displayName"></a>\n                        </dd>\n                    </dl>\n                </div>\n\n                <aside class="m-detail--author-box">\n                    <div ng-if="recipe.author.photo" class="m-detail--avatar-large">\n                        <a ng-href="{{recipe.author.path}}" phx-track-event phx-track-id="Author Image">\n                            <img ng-src="{{ :: recipe.author.photo|phxImageUrl:\'recipeDetailAuthorImage\' }}" ng-attr-alt="{{ :: recipe.author.title }}" />\n                        </a>\n                    </div>\n                    <div class="m-detail--author-content">\n                        <a ng-href="{{recipe.author.path}}" phx-track-event phx-track-id="Author Name" rel="author" class="m-detail--author-byline">\n                            {{ :: recipe.author.title }}\n                        </a>\n                        <div phx-tml="recipe.author.bio" class="m-detail--author-bio"></div>\n\n                        <div class="m-detail--author-social" ng-show="showAuthorSocialLinks">\n                            <dl>\n                                <dt ng-if="recipe.author.twitterUsername">Twitter:</dt>\n                                    <dd ng-if="recipe.author.twitterUsername"><a ng-href="http://twitter.com/{{recipe.author.twitterUsername}}" phx-track-event phx-track-id="Twitter Follow" rel="me" target="blank">Twitter</a></dd>\n                                <dt ng-if="recipe.author.gplusProfileUrl">Google Plus:</dt>\n                                    <dd ng-if="recipe.author.gplusProfileUrl"><a ng-href="{{recipe.author.gplusProfileUrl}}" phx-track-event phx-track-id="Google Plus Follow" rel="me" target="blank">Google+</a></dd>\n                                <dt ng-if="recipe.author.facebookProfileUrl">Facebook:</dt>\n                                    <dd ng-if="recipe.author.facebookProfileUrl"><a ng-href="{{recipe.author.facebookProfileUrl}}" phx-track-event phx-track-id="Facebook Follow" rel="me" target="blank">Facebook</a></dd>\n                                <dt ng-if="recipe.author.linkedinProfileUrl">Linkedin:</dt>\n                                    <dd ng-if="recipe.author.linkedinProfileUrl"><a ng-href="{{recipe.author.linkedinProfileUrl}}" phx-track-event phx-track-id="Linkedin Follow" rel="me" target="blank">LinkedIn</a></dd>\n                                <dt ng-if="recipe.author.pinterestProfileUrl">Pinterest:</dt>\n                                    <dd ng-if="recipe.author.pinterestProfileUrl"><a ng-href="{{recipe.author.pinterestProfileUrl}}" phx-track-event phx-track-id="Pinterest Follow" rel="me" target="blank">Pinterest</a></dd>\n                                <dt ng-if="recipe.author.instagramProfileUrl">Instagram:</dt>\n                                    <dd ng-if="recipe.author.instagramProfileUrl"><a ng-href="{{recipe.author.instagramProfileUrl}}" phx-track-event phx-track-id="Instagram Follow" rel="me" target="blank">Instagram</a></dd>\n                                <dt ng-if="recipe.author.website">Website:</dt>\n                                    <dd ng-if="recipe.author.website"><a ng-href="{{recipe.author.website}}" phx-track-event phx-track-id="Website Follow" rel="me" target="blank">Website</a></dd>\n                            </dl>\n                        </div>\n                    </div>\n                </aside>\n\n                <div ng-if=" :: $root.config.social | phxIsTrue">\n                    <phx-social-tools\n                        content-item="recipe"\n                        author="recipe.author"\n                        phx-track-id="Social Tools Bottom"></phx-social-tools>\n                </div>\n            </footer>\n\n            <aside phx-breakout-dam phx-track-id="BelowContent" id="phxtags-belowcontent"></aside>\n\n        </div>\n    </div>\n\n\n    <div ng-if="phxDisplayMode!=\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{recipe.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{ :: recipe.path }}" phx-track-event phx-track-id="Image" ng-attr-rel="{{ :: recipe.opportunityLineItemId?\'nofollow\':\'\' }}">\n                    <img ng-src="{{ :: recipe.primaryImage|phxImageUrl:phxPrimaryImageProfile }}" ng-attr-alt="{{ :: recipe.promoTitle }}" data-pin-no-hover="true" />\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=" :: phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{recipe.overrideLabel ? recipe.path : \'/recipes\'}}" phx-track-event phx-track-id="SectionKey">\n                {{ :: recipe.label || \'Recipe\' }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{ :: recipe.path }}" phx-track-event phx-track-id="Title" ng-attr-rel="{{ :: recipe.opportunityLineItemId?\'nofollow\':\'\' }}" phx-ellipsis>\n                        {{ :: recipe.promoTitle }}\n                    </a>\n                </h2>\n                <div ng-if=" :: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis>\n                    {{ :: recipe.teaser ? recipe.teaser : (recipe.narrativeTml|phxStripHtml) }}\n                </div>\n                <ul ng-if=" :: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                    <li class="m-item--author" ng-if=" :: recipe.author.title">\n                        <a ng-href="{{ :: recipe.author.path }}" phx-track-event phx-track-id="Author Name">\n                            {{ :: recipe.author.title }}\n                        </a>\n                    </li>\n                    <li class="m-item--date-published" phx-live-date="{{recipe.publicationTimestamp}}" ng-attr-title="{{ :: recipe.publicationTimestamp|date }}">{{recipe.publicationTimestamp|date}}</li>\n                </ul>\n            </div>\n        </div>\n\n    </div>\n</article>\n';
}),define("phxCore/directives/phxContentRecipe",["text!phxCore/html/phxContentRecipe.html"],function(a){"use strict";return["phxUtil","$timeout","phxBreakout",function(b,c,d){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,e){a.recipe=a.contentItem,a.showProfile300x600=!1,a.showRecipeProperties=!(!a.recipe.properties||!a.recipe.properties.length),a.showAuthorSocialLinks=!(!a.recipe.author||!(a.recipe.author.twitterUsername||a.recipe.author.gplusProfileUrl||a.recipe.author.facebookProfileUrl||a.recipe.author.linkedinProfileUrl||a.recipe.author.pinterestProfileUrl||a.recipe.author.instagramProfileUrl||a.recipe.author.website)),a.$watch("contentItem.associatedRichTerms",function(){if(a.contentItem.associatedRichTerms){var c=b.sortAssociatedRichTerms(a.contentItem.associatedRichTerms);a.contentItem.sortedAssociatedRichTerms=c}}),a.recipe&&a.recipe.isImageOnly&&e.addClass("mm-image-only"),"full"===a.phxDisplayMode&&c(function(){d.findAndRegisterDams()},0)}}}]}),define("text!phxCore/html/phxContentReference.html",[],function(){return'<article class="m-reference">\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/WebPage">\n\n        <!--// START DETAIL TEMPLATE //-->\n        <meta content="en" itemprop="inLanguage" />\n\n        <header>\n            <div class="m-reference--image" itemprop="image">\n                <phx-primary-image class="m-reference--image" alt="{{reference.promoTitle}}" image="{{reference.primaryImageUrl}}" background-image="{{reference.primaryImageUrl}}" url="{{reference.url}}" target="_blank"></phx-primary-image>\n            </div>\n        </header>\n\n        <aside>\n            <div class="m-reference--summary">\n                <p class="m-reference--hed" itemprop="name">\n                    {{ reference.promoTitle || reference.title }}\n                </p>\n                <p class="m-reference--description" itemprop="description">\n                    {{ reference.teaser }}\n                </p>\n            </div>\n        </aside>\n    </div>\n\n    <div ng-if="phxDisplayMode!==\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{reference.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{ :: reference.url }}" phx-track-event phx-track-id="Image" ng-attr-rel="{{ :: reference.opportunityLineItemId?\'nofollow\':\'\' }}" target="_blank">\n                    <img ng-src="{{ :: reference.primaryImage|phxImageUrl:phxPrimaryImageProfile }}" ng-attr-alt="{{ :: reference.promoTitle }}" data-pin-no-hover="true" nopin="true"/>\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=":: reference.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{ :: reference.url }}" phx-track-event phx-track-id="Label" ng-attr-rel="{{ :: reference.opportunityLineItemId?\'nofollow\':\'\' }}" target="_blank">\n                {{ :: reference.label }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{ :: reference.url }}" phx-track-event phx-track-id="Title" ng-attr-rel="{{ :: reference.opportunityLineItemId?\'nofollow\':\'\' }}" target="_blank" phx-ellipsis>\n                        {{ :: reference.promoTitle }}\n                    </a>\n                </h2>\n                <div ng-if=" :: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis>\n                    {{ :: reference.teaser }}\n                </div>\n            </div>\n        </div>\n    </div>\n</article>\n'}),define("phxCore/directives/phxContentReference",["text!phxCore/html/phxContentReference.html"],function(a){"use strict";return[function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,b){a.reference=a.contentItem,a.reference&&a.reference.isImageOnly&&b.addClass("mm-image-only")}}}]}),define("text!phxCore/html/phxContentRichTerm.html",[],function(){return'<article class="m-rich-term" phx-track-id="ContentRichTerm">\n    <div ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article" >\n        <!--// START DETAIL TEMPLATE //-->\n        <header>\n            <phx-primary-image class="m-rich-term--image" background-image="{{term.primaryImage|phxImageUrl:\'richTermDetailPrimaryImage\'}}" alt="{{term.promoTitle}}" image="{{term.primaryImage|phxImageUrl:\'richTermDetailPrimaryImage\'}}" url="{{term.path}}"></phx-primary-image>\n        </header>\n\n        <div class="m-rich-term--summary">\n            <h1 class="m-rich-term--hed" itemprop="headline" phx-word-count>{{term.promoTitle}}</h1>\n\n            <div class="m-rich-term--abstract" itemprop="description" ng-bind="term.teaser"></div>\n        </div>\n\n        <aside class="m-rich-term--ad">\n            <phx-freewheel-ad layout="box"></phx-freewheel-ad>\n        </aside>\n\n        <section class="m-detail--body" itemprop="articleBody" phx-tml="term.overviewTml"></section>\n    </div>\n\n    <div ng-if="phxDisplayMode!==\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{term.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{term.path}}" phx-track-event phx-track-id="Image" alt="{{term.promoTitle}}">\n                    <img ng-if="term.primaryImage" ng-src="{{term.primaryImage|phxImageUrl:phxPrimaryImageProfile}}" alt="{{term.promoTitle}}" data-pin-no-hover="true" />\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=" :: term.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{term.path}}" phx-track-event phx-track-id="Label" alt="{{term.promoTitle}}">\n                {{ :: term.label }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{term.path}}" phx-track-event phx-track-id="Title" phx-html="term.promoTitle"></a>\n                </h2>\n                <div class="m-item--abstract" phx-ellipsis="{{term.teaser}}" ng-bind="term.teaser"></div>\n            </div>\n        </div>\n    </div>\n</article>\n'}),define("phxCore/directives/phxContentRichTerm",["text!phxCore/html/phxContentRichTerm.html"],function(a){"use strict";return[function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,b){a.term=a.contentItem,a.term.overviewTml||b.addClass("mm-nocopy"),a.term&&a.term.isImageOnly&&b.addClass("mm-image-only")}}}]}),define("text!phxCore/html/phxContentVideo.html",[],function(){return'<article class="m-video-detail l-full-width" tml-external-provider >\n\n    <div ng-if="phxDisplayMode===\'full\'" itemprop="video" itemscope itemtype="http://schema.org/VideoObject">\n\n        <meta itemprop="thumbnailUrl" content="{{video.primaryImage|phxImageUrl:\'socialSharingImage\'}}" />\n        <meta itemprop="image" content="{{video.primaryImage|phxImageUrl:\'socialSharingImage\'}}" />\n        <meta itemprop="contentUrl" content="{{video.contentUrl}}"/>\n        <meta itemprop="uploadDate" content="{{video.publicationTimestamp}}" />\n        <meta itemprop="contentRating" content="{{video.contentRating}}" />\n\n        <div class="m-detail--feature-spacer l-full-width" ng-class="{\'mm-video-platform--kaltura\': video.videoPlatformCode === \'kaltura\'}">\n            <div class="m-detail--feature-container l-full-bleed">\n                <div phx-video-player video="video" auto-play="{{autoPlay}}" class="m-detail--feature-video"></div>\n            </div>\n        </div>\n\n        <!-- Wrapper for setting content width -->\n        <div class="m-detail--contents" phx-breakout-bounds>\n\n            <div class="l-one-third m-aside-rail">\n                <div class="m-aside-rail--video-detail" phx-reflow-on-height-change>\n                    <aside class="m-iab">\n                        <div phx-video-companion-ad video="video"></div>\n                    </aside>\n\n                    <!-- Video doesn\'t have a reading list yet.\n                    <aside class="m-aside-list">\n                        <phx-reading-list class="m-reading-list"></phx-reading-list>\n                    </aside>\n                    -->\n                </div>\n            </div>\n\n            <header class="m-detail--header">\n\n                <div class="m-detail--feature-header">\n\n                    <div class="m-detail--summary">\n                        <h1 class="m-detail--hed" itemprop="name" phx-word-count>{{video.title}}</h1>\n                    </div>\n\n                    <div class="m-detail--meta">\n                        <dl>\n                            <dt ng-if="video.author.displayName">Author:</dt>\n                            <dd itemprop="author" class="m-detail--author" ng-if="video.author.displayName">\n                                <a ng-href="{{ :: video.author.path }}" phx-track-event phx-track-id="Author Name" rel="author">\n                                    {{ ::video.author.displayName }}\n                                </a>\n                            </dd>\n\n                            <dt ng-if="showPublicationTimestamp">Publish date:</dt>\n                            <dd class="m-detail--publish-date" ng-if="showPublicationTimestamp"><time itemprop="datePublished" datetime="{{video.publicationTimestampDatetime}}" phx-live-date="{{video.publicationTimestamp}}" title="{{video.publicationTimestampFormatted}}">{{video.publicationTimestamp|date}}</time></dd>\n\n                            <dt ng-if="video.contentRating">Video Rating:</dt>\n                            <dd class="m-detail--contentrating" ng-if="video.contentRating">{{video.contentRating}}</dd>\n\n                            <dt>Video Duration:</dt>\n                            <dd class="m-detail--duration">{{video.duration | phxDuration}}</dd>\n                        </dl>\n                    </div>\n\n                </div>\n\n            </header>\n\n            <phx-social-tools\n                    ng-if=":: showSocialTools"\n                    ng-style="::{top: $root.windowHeight}"\n                    content-item="video"\n                    author="video.author"\n                    show-social-tools-print-button="false"\n                    show-social-tools-comment-button="false"\n                    phx-track-id="Social Tools Top">\n            </phx-social-tools>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="video.branding.topBadge" ng-if="video.isSponsored && video.branding.topBadge"></phx-branding-badge></div>\n\n            <section itemprop="description" phx-reflow-on-height-change>\n                <div class="m-detail--body" phx-tml="video.bodyTml"></div>\n            </section>\n\n            <div class="m-detail--sponsor"><phx-branding-badge badge="video.branding.bottomBadge" ng-if="video.isSponsored && video.branding.bottomBadge"></phx-branding-badge></div>\n        </div>\n\n    </div>\n\n    <div ng-if="phxDisplayMode!=\'full\'" class="m-header--coverline-ng-wrap">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image-container">\n            <div class="m-item--image" style="background-image:url(\'{{video.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n                <a ng-href="{{video.path}}" phx-video-link="video" phx-track-event phx-track-id="Image" alt="{{video.title}}">\n                </a>\n            </div>\n        </div>\n\n        <div ng-if=":: video.label && phxDisplayMode!=\'strip\'" class="m-item--section">\n            <a ng-href="{{ :: video.path }}" phx-track-event phx-track-id="SectionKey" ng-if=":: !video.branding">\n                {{ ::video.label }}\n            </a>\n            <a ng-if=":: video.branding">\n                {{ ::$root.config.brandedContent.cardDisclosureCaption }}\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a ng-href="{{ :: video.path }}" phx-track-event phx-track-id="Title" phx-ellipsis>{{video.title}}</a>\n                </h2>\n                <div class="m-item--abstract" phx-ellipsis phx-tml="video.bodyTml"></div>\n                <div ng-if="video.cardTypeCode === \'listVertical\' && phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" phx-hide-if-too-big class="m-item--copy">\n                    {{ :: video | phxCreateExcerpt:\'bodyTml\':280}} ...<a ng-href="{{ ::video.path }}"><i>read&nbsp;more</i></a>\n                </div>\n\n                <ul ng-if=":: phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                    <li class="m-item--date-published" ng-if="showPublicationTimestamp" phx-live-date="{{video.publicationTimestamp}}" ng-attr-title="{{ ::video.publicationTimestampFormatted }}">\n                        {{video.publicationTimestamp|date}}\n                    </li>\n                    <li class="m-item--contentrating" ng-if="video.contentRating" ng-cloak>\n                        {{video.contentRating}}\n                    </li>\n                    <li class="m-item--duration" ng-if="video.duration" ng-cloak>\n                        {{video.duration | phxDuration}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n    </div>\n\n\n</article>\n'}),define("phxCore/directives/phxContentVideo",["text!phxCore/html/phxContentVideo.html"],function(a){"use strict";return["phxNavManager","$location","Config",function(b,c,d){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:a,link:function(a,e,f){a.video=a.contentItem,a.autoPlay=d.video&&d.video.autoPlay===!0,a.showPublicationTimestamp=d.video&&d.video.hasOwnProperty("showPublicationTimestamp")?d.video.showPublicationTimestamp:!0,a.showSocialTools=d.social&&(d.video&&d.video.hasOwnProperty("showSocialTools")?d.video.showSocialTools:!0),a.video&&a.video.isImageOnly&&e.addClass("mm-image-only");var g=d.video&&d.video.autoAdvance===!0;"full"===a.phxDisplayMode&&g&&a.$on("phxVideoPlayer:complete",function(){var a=b.nextItem();a&&c.path(a.path)})}}}]}),define("phxCore/directives/phxDisqusThread",[],function(){"use strict";return["$location","$timeout","phxElementUtil",function(a,b,c){return{restrict:"A",scope:{disqusShortname:"@",disqusTitle:"@",disqusIdentifier:"@",disqusUrl:"@"},template:'<div id="disqus_thread"></div>',replace:!0,controller:["$scope","$element",function(d,e){var f=!1,g=function(){if(!f&&d.disqusIdentifier&&d.disqusUrl&&d.disqusTitle){if("undefined"!=typeof DISQUS)DISQUS.reset({reload:!0,config:function(){this.page.identifier=d.disqusIdentifier,this.page.url=d.disqusUrl,this.page.title=d.disqusTitle}});else{if(!d.disqusShortname)return;window.disqus_shortname=d.disqusShortname,window.disqus_identifier=d.disqusIdentifier,window.disqus_url=d.disqusUrl,window.disqus_title=d.disqusTitle,function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="//"+window.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}()}e.waypoint("destroy"),f=!0}};d.$on("$destroy",function(){window.disqus_identifier=null,window.disqus_url=null,window.disqus_title=null});var h=d.$watch("disqusIdentifier+disqusTitle+disqusUrl+disqusShortname",function(){d.disqusIdentifier&&d.disqusUrl&&d.disqusTitle&&d.disqusShortname&&(h(),a.hash()&&a.hash().match("^comment[s-]")?(g(),"comments"===a.hash()&&b(function(){c.animateToElement("#disqus_thread")},1e3)):e.waypoint(function(a){g()},{offset:"200%"}))})}]}}]}),define("text!phxCore/html/phxFact.html",[],function(){return'<dl>\n    <dt ng-repeat-start="value in values" ng-if="value.label | phxIsTrue">{{value.label}}</dt>\n    <dd ng-repeat-end itemprop="{{itemprop}}" ng-bind-html="value.value"></dd>\n</dl>\n'}),define("phxCore/directives/phxFact",["text!phxCore/html/phxFact.html"],function(a){"use strict";return["$filter",function(b){var c={richTermList:function(a,c){angular.isArray(a)||(a=[a]);var d=[];return a=b("phxDedupeRichTerms")(a),angular.forEach(a,function(a){a.path&&!c.noLinks?d.push('<a href="'+a.path+'">'+a.displayName+"</a>"):d.push(a.displayName)}),d.join(", ")},dateFromYmd:function(a,c,d){if(a[0]){var e,f,g=a[0],h=a[1],i=a[2],j=a[3],k=a[4],l=a[5];if(h?i?(e=new Date(g.displayName,h-1,i),g.displayName<100&&e.setFullYear(g.displayName),f=b("date")(e,"MMMM d, y"),j&&j.path&&!c.noLinks&&(f=f.replace(new RegExp(j.displayName),'<a href="'+j.path+'">'+j.displayName+"</a>"))):(e=new Date(g.displayName,h-1,1),f=b("date")(e,"MMMM, y")):f=g.displayName,g.path&&!c.noLinks&&(f=f.replace(new RegExp(g.displayName),'<a href="'+g.path+'">'+g.displayName+"</a>")),k&&(f="c. "+f),void 0===l||null===l||l||(f+=" BCE"),c.ageIf&&"false"!==c.ageIf&&e){var m=new Date,n=m.getFullYear()-e.getFullYear(),o=m.getMonth()-e.getMonth();(0>o||0===o&&m.getDate()<e.getDate())&&n--,f+=" (age "+n+")"}return f}},placeName:function(a,b){for(var c=[],d=0;d<a.length;d++)if(a[d]&&(2!==d||!a[d].displayName.match(/^U\.?S\.?A\.?|United States/))){var e=a[d].displayName;a[d].path&&!b.noLinks&&(e='<a href="'+a[d].path+'">'+e+"</a>"),c.push(e)}return c.join(", ")},listFromMap:function(a,b){var c=[];return angular.forEach(a,function(a,b){for(var d=0;d<a.length;d++){var e={value:a[d]};0===d&&(e.label=b),c.push(e)}}),c}};return{restrict:"EA",template:a,replace:!0,scope:{source:"=",type:"@",label:"@",itemprop:"@phxFactItemprop"},link:function(a,b,d){var e=a.$watch("source",function(b){if(b&&(!angular.isArray(b)||b.length)&&(e(),!d.type||!c[d.type]||(b=c[d.type](b,d,a)))){var f=[];angular.forEach(angular.isArray(b)?b:[b],function(a){angular.isObject(a)?f.push(a):f.push({value:a,label:d.label})}),a.values=f}})}}}]}),define("text!phxCore/html/phxFragmentToc.html",[],function(){return'<ul>\n    <li ng-repeat="fragment in fragments">\n        <a href="" ng-click="setFragment(fragment.fragment)" phx-html="fragment.heading"></a>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxFragmentToc",["text!phxCore/html/phxFragmentToc.html"],function(a){"use strict";return["phxFragmentUrl",function(b){return{restrict:"EA",template:a,scope:{tmlSource:"=",routeKeyword:"@"},link:function(a,c,d){var e=a.$watch("tmlSource",function(c){if(c){e();var d=[];angular.forEach(angular.element(c),function(a){if("SECTION"===a.tagName){var b=angular.element(a),c=b.find("h2");c.length&&d.push({fragment:b.attr("tml-anchor"),heading:c[0].innerHTML})}}),a.fragments=d,a.setFragment=function(a){b.setFragment(a,!0,!0)}}})}}}]}),define("text!phxCore/html/phxFreewheelAd.html",[],function(){return'<div id="{{divID}}">\n    <span id="{{divID}}_fw_ad" class="_fwph">\n        <span id="_fw_container_{{divID}}_fw_ad">\n            <iframe id="ad-box-iframe" width="{{adType.width}}" height="{{adType.height}}"\n                frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe>\n        </span>\n        <form id="_fw_form_{{divID}}_fw_ad" style="display: none;">\n            <input id="_fw_input_{{divID}}_fw_ad" type="hidden"\n                name="_fw_input_{{divID}}_fw_ad"\n                value="{{fwInput}}">\n        </form>\n    </span>\n</div>\n'}),define("phxCore/directives/phxFreewheelAd",["text!phxCore/html/phxFreewheelAd.html"],function(a){"use strict";return["$rootScope",function(b){return{restrict:"E",replace:!0,scope:{layout:"="},template:a,link:function(a,c,d){var e={box:{width:300,height:250},leaderboard:{width:728,height:90}};a.adtype=e[d.layout],a.divID="ad-"+d.layout+"-"+a.adtype.width+"x"+a.adtype.height,a.fwInput="ptgt=s&envp=g_js&slau="+a.adtype.width+"x"+a.adtype.height+"&w="+a.adtype.width+"&h="+a.adtype.height+"&cd="+a.adtype.width+","+a.adtype.height+"|"+a.adtype.width+","+a.adtype.height,b.$on("phxTmlExternalProvider::initialized",function(b){a.divID+="-"+b.targetScope.playerDivId})}}}]}),define("text!phxCore/html/phxHeader.html",[],function(){return'<header class="m-header" ng-class="headerClasses" phx-track-id="header">\n    <section ng-if="isHeaderEnabled">\n        <!-- Social Nav and Tertiary Links should not have whitespace introduced into tepmlate in order for :empty styles to work correctly  -->\n        <ul class="m-header--social-nav"><li class="{{item.classname}}" ng-repeat="item in socialMenu" phx-track-id="social"><a ng-href="{{item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}" phx-track-event><em class="{{item.nameclass}}">{{item.name}}</em></a></li></ul>\n\n        <ul class="m-header--tertiary-nav"><li class="m-header--tertiary-link m-header--link" ng-repeat="link in tertiaryLinks" phx-track-id="tertiary"><a ng-href="{{link.url}}" target="{{link.target && link.target || \'\'}}" title="{{link.title}}" phx-track-event>{{link.name}}</a></li></ul>\n\n        <div class="m-header--main">\n            <h1 ng-if="showH1" class="m-header--site">\n                <a class="m-header--logo" href="/" phx-skin-bgimg="$root.config.logo.heading" default-heading-title="$root.config.siteName" phx-track-id="logo" phx-track-event></a>\n            </h1>\n\n            <a ng-if="!showH1" class="m-header--logo" href="/" phx-skin-bgimg="$root.config.logo.heading" default-heading-title="$root.config.siteName" phx-track-id="logo" phx-track-event></a>\n            <div class="m-header--coverlines-container" phx-track-id="coverline">\n                <article class="m-header--coverline" ng-repeat="item in coverlines track by $index" phx-content-item="item" phx-display-mode="coverline" phx-primary-image-profile="{{item.imageProfile}}"></article>\n            </div>\n        </div>\n    </section>\n    <phx-nav ng-if="isNavEnabled" ng-class="navClasses"></phx-nav>\n</header>\n'}),define("phxCore/directives/phxHeader",["text!phxCore/html/phxHeader.html"],function(a){"use strict";return["phxHeaderUtil","$location","phxSocial","Config","$rootScope","phxUtil",function(b,c,d,e,f,g){return{restrict:"E",template:a,replace:!0,link:function(a,f,h){if(a.headerClasses=b.getHeaderClasses(),a.socialMenu=b.getSocialMenu("m-header--link"),a.tertiaryLinks=e.tertiaryLinks,a.coverlinesEnabled=b.areCoverlinesEnabled(),a.isHeaderEnabled=b.isHeaderEnabled(),a.isNavEnabled=!0,g.showSmartnav()){if("true"!==h.component)return void f.css("display","none");a.isNavEnabled=!1,a.socialMenu=null}var i=b.getNavClasses();a.isHeaderEnabled?a.navClasses="mm-hide-nav-logo "+i:a.navClasses="mm-show-nav-logo "+i,a.coverlinesEnabled&&b.loadCoverlines().then(function(c){for(var d=0;d<c.length;d++)c[d].imageProfile=b.getPromoImageProfile(c[d].isImageOnly);a.coverlines=c}),a.$on("phxFocusedPageChanged",function(d,e){a.showH1=e.masterItem&&"/"===e.masterItem.path,a.currentPath=c.path(),a.headerClasses=b.getHeaderClasses(e.masterItem)}),a.clickHandler=function(a,b){b.hasOwnProperty("target")&&-1!==b.classname.indexOf("m-navbar--menu-social")&&(a.preventDefault(),d.openTo(b))}}}}]}),define("phxCore/directives/phxHtml",[],function(){"use strict";return["$parse",function(a){return{restrict:"A",link:function(b,c,d){function e(){return(f(b)||"").toString()}c.addClass("ng-binding").data("$binding",d.phxHtml);var f=a(d.phxHtml);b.$watch(e,function(a){c.html(f(b)||"")})}}}]}),define("phxCore/directives/phxInteractionCount",[],function(){"use strict";return["Config","phxSocial","$animate",function(a,b,c){return{restrict:"EA",template:"{{count|phxAbbreviateNumber}}",scope:{url:"@",commentCount:"@",min:"@"},priority:999,link:function(d,e){e.addClass("ng-hide"),d.$watch("url",function(){if(d.url)if(a.social&&a.social.enableSharingCounts)b.getSocialCountPromise(d.url).then(function(a){var b=0;d.commentCount&&!isNaN(d.commentCount)&&(b+=parseInt(d.commentCount,10)),a&&!isNaN(a)&&(b+=parseInt(a,10)),d.count=b,(d.min?b>=d.min:!0)&&c.removeClass(e,"ng-hide")},function(){d.count="N/A"});else{var f=0;d.commentCount&&!isNaN(d.commentCount)&&(f+=parseInt(d.commentCount,10)),d.count=f}})}}}]}),define("phxCore/directives/phxLiveDate",["moment"],function(a){"use strict";return["phxLiveDate","$interval",function(a,b){return{restrict:"EA",template:"{{fromNow}}",scope:{phxLiveDate:"@",refreshInterval:"@",liveDateDefaultFormat:"@"},link:function(c,d,e){var f;c.$watch("phxLiveDate",function(b){b&&(f=a.getLiveDate(b,function(a){c.fromNow=a},c.liveDateDefaultFormat,e.refreshInterval))},!0),d.on("$destroy",function(){b.cancel(f)})}}}]}),define("text!phxCore/html/phxNav.html",[],function(){return'<nav class="{{navClass}}" phx-track-id="nav" ng-cloak>\n\n    <div class="m-header--menu m-off-canvas--toggle">\n        <a phx-track-event phx-track-id="offcanvas"></a>\n    </div>\n\n    <ul class="m-header--main-nav">\n        <li><a class="m-header--navbar-logo" phx-track-event phx-track-id="logo" href="/"><img ng-src="{{logoHeading.imageUrl}}" alt="logo" /></a></li>\n        <li class="{{item.classname}}" ng-class="{\'is-active\': item.url && item.url === currentPath}" ng-repeat="item in primaryMenu" phx-track-id="section">\n            <a ng-href="{{item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}"\n                phx-track-event>\n                {{item.name}}\n            </a>\n        </li>\n    </ul>\n\n    <div class="m-header--search" ng-if="searchLinkItem"><a  ng-href="{{searchLinkItem.url}}" title="{{searchLinkItem.title}}" phx-track-event phx-track-id="search"></a></div>\n\n</nav>\n'}),define("phxCore/directives/phxNav",["text!phxCore/html/phxNav.html"],function(a){"use strict";return["Config","phxHeaderUtil",function(b,c){return{restrict:"E",template:a,replace:!0,scope:!0,link:function(a){var d=function(){a.primaryMenu=c.getPrimaryMenu("m-header--main-link"),a.searchLinkItem=c.getSearchLinkItem("m-navbar--menu-search"),a.navClass="m-header--navbar",b.logo&&(a.logoHeading=b.logo.nav)};a.$on("phxConfigUpdated",function(){d()}),d()}}}]}),define("phxCore/directives/phxStickyNav",["text!phxCore/html/phxNav.html"],function(a){"use strict";return["Config","phxUtil","$rootScope","$timeout","phxHeaderUtil",function(b,c,d,e,f){return{restrict:"E",template:a,replace:!0,scope:!0,link:function(a,g){if(c.showSmartnav())return void g.css("display","none");g.attr("phx-track-id","stickynav"),a.navClass="l-sticky-navbar",a.primaryMenu=f.getPrimaryMenu("m-header--main-link"),a.searchLinkItem=f.getSearchLinkItem("m-navbar--menu-search"),b.logo&&(a.logoHeading=b.logo.nav);var h,i=0,j=20,k=80,l=null,m=null,n=!1,o=1e3,p=e(function(){h=angular.element(".m-header--navbar"),e.cancel(p)});angular.element(document).on("scroll",function(a){var b=this;c.throttle(function(){if(h){var a=(h.offset().top||0)+h[0].clientHeight,c=angular.element(b).scrollTop();c=0>c?0:c,!m&&c>i&&n&&c>a&&(m=c,l=null),l&&c>i&&!n&&c>m+k&&(l=null),c>i&&n&&c>m+k||a>c&&n?(n=!1,l=null,m=null,g.removeClass("is-visible")):i>c&&!n&&c>a&&(l||(l=c,m=null),l>c+j&&(n=!0,l=null,m=null,g.addClass("is-visible"))),i=c}},o)()}),d.closeStickyNav=function(a){a&&a.preventDefault(),g.removeClass("is-visible")}}}}]}),define("text!phxCore/html/phxNavList.html",[],function(){return'<ul class="{{classname}}" phx-track-id="Nav List">\n    <li class="{{::item.classname}}" ng-class="{\'is-active\': item.url && item.url === currentPath}" ng-repeat="item in items" phx-track-id="Item">\n        <a ng-href="{{::item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{::item.title}}"\n            phx-track-event phx-track-id="{{ item.trackId && item.trackId || \'Name\'}}">\n            <em class="{{::item.nameclass}}">{{::item.name}}</em>\n        </a>\n\n        <!-- support for sub-links -->\n        <ul ng-if="item.links" class="{{subclassname}}">\n            <li class="{{subitem.classname}}" ng-class="{\'is-active\': subitem.url === currentPath}" ng-repeat="subitem in item.links" phx-track-id="SubItem">\n                <a ng-href="{{subitem.url}}" target="{{subitem.target && subitem.target || \'\'}}" title="{{subitem.title}}" phx-track-event phx-track-id="{{ subitem.trackId && subitem.trackId || \'Name\'}}"><em class="{{subitem.nameclass}}">{{subitem.name}}</em></a>\n            </li>\n        </ul>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxNavList",["text!phxCore/html/phxNavList.html"],function(a){"use strict";return["$location","phxSocial",function(b,c){return{restrict:"E",scope:{items:"=",classname:"@",subclassname:"@"},template:a,replace:!0,link:function(a){a.clickHandler=function(a,b){b.hasOwnProperty("target")&&-1!==b.classname.indexOf("m-navbar--menu-social")&&(a.preventDefault(),c.openTo(b))},a.$on("$locationChangeSuccess",function(){a.currentPath=b.path()})}}}]}),define("text!phxCore/html/phxNewsletterSignup.html",[],function(){return'<article class="m-newsletter" itemscope phx-track-id="Newsletter">\n    <header ng-style="{\'background-image\': imageUrl ? \'url(\'+imageUrl+\')\' : \'\'}">\n        <div class="m-newsletter--image"></div>\n\n        <div class="m-newsletter--summary">\n            <h2 class="m-newsletter--hed newsletter" phx-skin-bgimg="newsletterHeading"></h2>\n\n            <div ng-show="message" class="alert message">{{message}}</div>\n\n            <h3 ng-hide="message" class="m-newsletter--hed" phx-html="$root.config.newsletter.title"></h3>\n\n            <div ng-show="error" class="m-newsletter--error">{{error}}</div>\n\n            <form ng-if="!clickoutUrl" ng-hide="message" name="signupForm" class="form-horizontal" ng-submit="finalize(email)">\n                <div class="error" ng-show="signupForm.input.$error.required">Required!</div>\n\n                <input name="email" type="email" required=true id="signup-box-email-signup" ng-model="email" placeholder="Email address">\n\n                <input type="submit" value="" ng-disabled="working">\n            </form>\n\n            <a ng-href="{{clickoutUrl}}" target="_blank" ng-if="clickoutUrl" class="clickout">Sign up now</a>\n        </div>\n    </header>\n</article>\n'}),define("phxCore/directives/phxNewsletterSignup",["text!phxCore/html/phxNewsletterSignup.html"],function(a){"use strict";return["Config","$http",function(b,c){return{restrict:"EAC",template:a,replace:!0,controller:["$scope",function(a){a.working=!1,b.newsletter&&(a.newsletterHeading=b.newsletter.heading,a.imageUrl=b.newsletter.imageUrl||b.newsletter.bgImgUrl,a.clickoutUrl=b.newsletter.clickoutUrl),a.finalize=function(d){a.working=!0,d||(a.working=!1,a.error="Email is required."),c.post("/.api/add-email-to-mailing-list",{email:d}).then(function(c){a.message=b.newsletter?b.newsletter.message:void 0,a.email="",a.error=!1},function(b){a.working=!1,a.error="There was an error. Please try again."})}}]}}]}),define("text!phxCore/html/phxOffCanvasNav.html",[],function(){return'<nav class="m-off-canvas" ng-cloak>\n    <div class="m-off-canvas--close m-off-canvas--toggle">\n        <a ng-href="#"></a>\n    </div>\n\n    <div class="m-vertical-nav m-off-canvas--scroller">\n        <phx-nav-list classname="m-vertical-nav--menu mm-primary" subclassname="m-vertical-nav--submenu" items="primaryMenu"></phx-nav-list>\n        <phx-nav-list classname="m-vertical-nav--menu mm-secondary" subclassname="m-vertical-nav--submenu" items="secondaryMenu"></phx-nav-list>\n    </div>\n\n    <div class="m-off-canvas--footer">\n        <form><input placeholder="{{\'SEARCH_PLACEHOLDER\' | translate}}" ng-model="search.keyword" ng-keypress="search.onKeypress($event)" /><button class="m-off-canvas--footer--submit" ng-click="search.search()"></button></form>\n\n        <div class="m-navbar">\n            <phx-nav-list classname="m-navbar--menu-secondary" subclassname="m-navbar--menu-secondary-submenu" items="socialMenu"></phx-nav-list>\n        </div>\n    </div>\n</nav>\n';
}),define("phxCore/directives/phxOffCanvasNav",["text!phxCore/html/phxOffCanvasNav.html"],function(a){"use strict";return["Config","$rootScope","$location","phxUtil","$timeout","phxSocial","$window",function(b,c,d,e,f,g,h){return{restrict:"EA",template:a,replace:!0,scope:{primaryMenu:"&",secondaryMenu:"&"},link:function(a,i){function j(){return b.offCanvasNav&&b.offCanvasNav.links&&b.offCanvasNav.links[0]&&b.offCanvasNav.links[0].url&&b.offCanvasNav.links[0].name}var k=[],l=[],m=[];if(b.offCanvasNav&&b.offCanvasNav.links||b.topNav&&b.topNav.links){var n=[];n=j()?b.offCanvasNav.links:b.topNav.links;for(var o=/https?:\/\//,p="m-navbar--menu-link",q=0;q<n.length;q++)o.test(n[q].url)&&(p+=" m-navbar--menu-link-external"),k.push({classname:p,title:n[q].title,name:n[q].name,url:n[q].url,target:n[q].target,rel:n[q].rel,links:n[q].links,imgSrc:n[q].imgSrc})}if(b.footer&&b.footer.links&&(l=b.footer.links),b.social&&b.social.links)for(var r=0;r<b.social.links.length;r++){var s=g.buildDestination(b.social.links[r].name,"Profile");s&&s.url&&m.push({classname:"m-navbar--menu-"+b.social.links[r].name,url:s.url.replace("PROFILE_ID",b.social.links[r].id),alt:s.alt?s.alt.replace("PROFILE_ID",b.social.links[r].id):"",rel:b.social.links[r].rel,target:"_blank",trackId:b.social.links[r].name+"-follow"})}a.primaryMenu=k,a.secondaryMenu=l,a.socialMenu=m;var t=function(){this.container=angular.element(".m-off-canvas--container"),this.defaultEffect="m-off-canvas--effect-2",this.eventType="click touchstart",this.bodyClickListener=this.bodyClickFn.bind(this),this.bodyScrollListener=this.bodyScrollFn.bind(this),this.keyUpFn=this.keyUpFn.bind(this);var a=this;angular.element(document).keypress(this.keypressFn.bind(this)),this.container.on("click",".m-off-canvas--scroller a",function(b){var c=f(function(){a.close(),f.cancel(c)})}),angular.element("body").on(this.eventType,".m-off-canvas--toggle a",function(b){b.stopPropagation(),b.preventDefault(),a.toggle(a.defaultEffect)}),angular.element(".m-off-canvas--scroller").on("mousewheel scroll",function(a){return a.originalEvent.deltaY>0&&this.clientHeight+this.scrollTop===this.scrollHeight||a.originalEvent.deltaY<0&&0===this.scrollTop?(a.stopPropagation(),a.preventDefault(),!1):void 0})};t.prototype.open=function(a){c.$emit("phxOffCanvasNavOpen"),this.container[0].className="m-off-canvas--container",this.container.addClass(a),this.contentContainer=this.container.find(".m-off-canvas--content"),this.pageYOffset=h.pageYOffset;var b=this,d=f(function(){c.closeStickyNav&&c.closeStickyNav(),b.container.addClass("m-off-canvas--menu-open"),b.contentContainer.css("top",-b.pageYOffset+"px"),b.contentContainer.css("pointer-events","none"),f.cancel(d)},25);angular.element("body").on(this.eventType,this.bodyClickListener),angular.element(document).on("scroll mousewheel",this.bodyScrollListener),angular.element(document).on("keyup",this.keyUpFn)},t.prototype.close=function(){c.$emit("phxOffCanvasNavClose"),angular.element("body").off(this.eventType,this.bodyClickListener),angular.element(document).off("scroll mousewheel",this.bodyScrollListener),angular.element(document).off("keyup",this.keyUpFn),this.contentContainer=this.container.find(".m-off-canvas--content"),this.container.removeClass("m-off-canvas--menu-open");var a=f(function(){angular.element(".m-off-canvas--scroller")[0].scrollTop=0,f.cancel(a)},510);this.contentContainer.css("top",""),this.contentContainer.css("pointer-events","auto"),h.scrollTo(0,this.pageYOffset)},t.prototype.toggle=function(a){this.container.hasClass("m-off-canvas--menu-open")?this.close():this.open(a)},t.prototype.hasParentClass=function(a,b){return a===document?!1:angular.element(a).hasClass(b)?!0:a.parentNode&&this.hasParentClass(a.parentNode,b)},t.prototype.bodyClickFn=function(a){this.hasParentClass(a.target,"m-off-canvas--menu")||(a.stopPropagation(),a.preventDefault(),this.close())},t.prototype.bodyScrollFn=function(a){this.hasParentClass(a.target,"m-off-canvas--menu")||(a.stopPropagation(),a.preventDefault())},t.prototype.keypressFn=function(a){126===a.which&&a.shiftKey&&"input"!==a.target.localName&&this.toggle(this.defaultEffect)},t.prototype.keyUpFn=function(a){27===a.keyCode&&this.close()};var u=new t;c.openOffCanvasNav=function(a){return function(b){b&&(b.stopPropagation(),b.preventDefault()),u.open(a)}},c.closeOffCanvasNav=function(a){a&&a.preventDefault(),u.close()},c.toggleOffCanvasNav=function(a){return function(b){b&&(b.stopPropagation(),b.preventDefault()),u.toggle(a)}},a.search={},a.search.onKeypress=function(b){13===b.which&&a.search.search()},a.search.search=function(){"undefined"!=typeof a.search.keyword&&""!==a.search.keyword&&(u.close(),e.gotoSearchPage(a.search.keyword),d.hash(null),a.search.keyword="")}}}}]}),define("phxCore/directives/phxOnHeightChange",[],function(){"use strict";return["$parse","phxChangeDetectionUtils",function(a,b){return{restrict:"A",compile:function(c,d){var e=a(d.phxOnHeightChange,null,!0);return function(a,c){var d=b.addHeightChangeListener(c,function(){a.$apply(e)});a.$on("$destroy",d)}}}}]}),define("text!phxCore/html/phxPage.html",[],function(){return'<div class="m-page" ng-class="pageClasses"></div>\n'}),define("text!phxCore/html/phxPageFooter.html",[],function(){return'<footer class="m-footer ng-cloak" ng-class="{\'mm-footer--has-tempest-badge\': page.tempestBadge}">\n\n    <div class="m-footer--container">\n\n        <div class="m-footer--cell">\n\n            <ul class="m-footer--links">\n\n                <li ng-repeat="link in $root.config.footer.links" ng-show="$root.config.footer" phx-track-id="Footer Links" ng-class="{last: $last}">\n                    <a href="{{link.url}}" target="{{link.target && link.target || \'\'}}" phx-track-event phx-track-id="Link">{{link.name}}</a>\n                </li>\n            </ul>\n\n            <div class="m-footer--copyright">&copy; {{$root.currentTime|date:\'yyyy\'}} {{$root.config.copyrightHolder}} {{$root.config.analytics.providers.Comscore.badge}}</div>\n        </div>\n\n        <div class="m-footer--cell">\n\n            <a class="m-footer--publisher-logo ng-binding" ng-if="$root.config.publisher.logo" href="{{$root.config.publisher.url ? $root.config.publisher.url : \'/\' }}" phx-skin-bgimg="$root.config.publisher.logo"></a>\n        </div>\n    </div>\n\n    <div class="m-footer--tempest-badge">\n    </div>\n</footer>\n'}),define("phxCore/directives/phxPage",["text!phxCore/html/phxPage.html","text!phxCore/html/phxPageFooter.html"],function(a,b){"use strict";return["$compile","$rootScope","phxComponent","phxFeatures",function(c,d,e,f){var g=c(b);return{restrict:"AE",template:a,replace:!0,controller:["$scope",function(a){this.page=a.page}],require:"phxPage",link:function(a,b,c,h){var i=h.page;b.data("phxPage",i),a.pageClasses=i.classes;var j=i.components;if(i.errorCode){var k=404===i.errorCode||403===i.errorCode?i.errorCode:500;j=[e.getComponent({type:"error",code:k},i),e.getComponent({type:"search",htmlClasses:"search-icon"},i)]}angular.forEach(j,function(a){var c=d.$new();a.renderElement(c,function(a){b.append(a),a.addClass("m-page--component")})}),g(a,function(a){b.append(a)}),f.isEnabled("tempest-badge")&&(i.tempestBadge=!0)}}}]}),define("phxCore/directives/phxPageConstraint",[],function(){"use strict";return["phxPage","$parse","$rootScope",function(a,b,c){return{restrict:"A",transclude:"element",priority:601,compile:function(a,c){var d=b(c.phxPageConstraint),e=!1;return function(b,c,f,g,h){var i=b.$on("phxFocusedPageChanged",function(b,f){d(f)?e?a.show():(h(function(b,d){b.insertAfter(c),a.show()}),e=!0):a.hide()});b.$on("$destroy",function(){i(),e=!1})}}}}]}),define("text!phxCore/html/phxLoader.html",[],function(){return'<div class="m-page">\n    <div class="m-loader"></div>\n</div>\n'}),define("phxCore/directives/phxPages",["text!phxCore/html/phxLoader.html"],function(a){"use strict";return["$location","$compile","$window","$rootScope","phxCategorizr","phxPage","$timeout","Config",function(b,c,d,e,f,g,h,i){function j(a,c){o&&(o.$destroy(),o=null),p&&(p.remove(),p=null),q&&(c.append(q),q.fadeIn(1e3)),n=new g.Page(b.path(),b.search()),n.init().then(function(b){b===n&&(q&&q.remove(),o=a.$new(!0),o.page=b,p=m(o,function(a){f.isServer()||a.addClass("mm-loadable is-loading"),c.append(a),h(function(){a.removeClass("is-loading")})}),d.scrollTo(0,0),e.$broadcast("phxFocusedPageChanged",b))})}var k,l="<phx-page></phx-page>",m=c(l),n=null,o=null,p=null,q=null;return f.isServer()||(q=$(a)),{restrict:"A",link:function(a,c){a.$on("$locationChangeSuccess",function(e,f,g){var h=b.path()+d.location.search;h!==k&&(k=h,"published"!==i.configName&&(b.replace(!0),b.search("config",i.configName)),j(a,c))})}}}]}),define("phxCore/directives/phxPerPage",[],function(){"use strict";return function(){return{restrict:"A",transclude:"element",priority:1e3,terminal:!0,require:"?^phxPage",compile:function(a,b){return function(a,b,c,d,e){var f,g;if(d)throw new Error("phx-per-page may not be used inside phx-page");var h=a.$on("phxFocusedPageChanged",function(a,c){g&&(g.$destroy(),g=void 0),f&&(f.remove(),f=void 0),e(function(a,d){a.data("$phxPageController",{page:c}),a.insertAfter(b),f=a,g=d})});a.$on("$destroy",function(){h()})}}}}}),define("text!phxCore/html/phxPinIt.html",[],function(){return'<span class="m-social--pinterest-pin-it"></span>'}),define("phxCore/directives/phxPinIt",["text!phxCore/html/phxPinIt.html"],function(a){"use strict";return["phxPinIt",function(b){return{restrict:"E",scope:{pinUrl:"@",pinMedia:"@",pinDescription:"@"},template:a,replace:!0,link:function(a,c,d){var e,f,g,h=d.$observe("pinUrl",function(a){a&&!e&&(h(),e=a)}),i=d.$observe("pinMedia",function(a){a&&!f&&(i(),f=a)}),j=d.$observe("pinDescription",function(a){a&&!g&&(j(),g=a)});c.on("click",function(a){b.pinIt(e,f,g),a.stopPropagation()})}}}]}),define("text!phxCore/html/phxPrimaryImage.html",[],function(){return'<div ng-attr-style="{{backgroundImage != null && backgroundImage != \'\' ? \'background-image:url(\'+backgroundImage+\');\':\'\'}}">\n    <a ng-href="{{url}}" phx-track-event phx-track-id="Image" content-id="{{contentId}}" target="{{target}}">\n        <img ng-if="image" ng-src="{{image}}" alt="{{alt}}" itemprop="image" nopin="true" data-pin-no-hover="true" />\n        <phx-pin-it ng-if="$root.config.social.pinItImages" pin-url="{{pageUrl}}" pin-media="{{cloudinaryUrl}}" pin-description="{{contentCaption}}"></phx-pin-it>\n    </a>\n</div>\n'}),define("phxCore/directives/phxPrimaryImage",["text!phxCore/html/phxPrimaryImage.html"],function(a){"use strict";return["Config","$location",function(b,c){return{restrict:"E",template:a,replace:!0,scope:{contentId:"@",alt:"@",url:"@",image:"@",backgroundImage:"@",target:"@"},require:"?^phxPage",link:function(a,d,e,f){a.cloudinaryUrl=a.image,a.alt&&(a.contentCaption=a.alt),f&&f.page&&f.page.masterItem?a.pageUrl=f.page.masterItem.canonicalUrl:a.pageUrl=b.siteUrl+c.url()}}}]}),define("text!phxCore/html/phxReadingList.html",[],function(){return'<div class="nocontent" phx-track-id="Reading List">\n    <article phx-breakout-flow phx-content-item="readingList[0]" phx-track-id="Item"  ng-if="readingList[0]" phx-skin-bgimg="readingListHeading" phx-display-mode="aside" phx-primary-image-profile="readingList" ng-class="nextArticle.promoTitle.length > 65 ? \'mm-text-only\' : \'\'"></article>\n    <article phx-breakout-flow ng-repeat="nextArticle in readingList" phx-content-item="nextArticle" phx-track-id="Item" ng-if="!$first" phx-display-mode="aside" phx-primary-image-profile="readingList" ng-class="nextArticle.promoTitle.length > 65 ? \'mm-text-only\' : \'\'"></article>\n</div>\n'}),define("phxCore/directives/phxReadingList",["text!phxCore/html/phxReadingList.html"],function(a){"use strict";return[function(){return{restrict:"EA",template:a,replace:!0,require:"^phxPage",link:function(a,b,c,d){d.page.readingList&&(b.addClass("is-loading"),b.addClass("mm-loadable"),d.page.readingList.dataPromise.then(function(c){a.readingList=c,a.readingListHeading=d.page.readingList.heading,b.removeClass("is-loading")}))}}}]}),define("phxCore/directives/phxReflowOnHeightChange",[],function(){"use strict";return["phxChangeDetectionUtils","phxBreakout",function(a,b){return{restrict:"A",compile:function(c,d){return function(c,d){var e=a.addHeightChangeListener(d,b.processBreakouts);c.$on("$destroy",e)}}}}]}),define("text!phxCore/html/phxRelatedRichTerms.html",[],function(){return'<ul>\n    <li ng-repeat="term in terms" ng-hide="$index >= showing.num">\n        <a ng-href="{{term.path}}" phx-html="term.promoTitle||term.displayName"></a>\n        <div ng-if="$index == showing.num - 1" ng-hide="showing.num >= terms.length">\n            <button ng-click="showing.num = terms.length">Show All Groups</button>\n        </div>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxRelatedRichTerms",["text!phxCore/html/phxRelatedRichTerms.html"],function(a){"use strict";return[function(){return{restrict:"EA",template:a,scope:{item:"=",showInitially:"@"},link:function(a,b,c){var d=a.$watch("item",function(b){b&&b.associatedRichTerms&&(d(),a.terms=b.associatedRichTerms,a.showing={num:c.showInitially||5})})}}}]}),define("phxCore/directives/phxShareButton",[],function(){"use strict";return["phxSocial",function(a){return{restrict:"E",scope:{medium:"@",contentItem:"="},link:function(b,c){c.bind("click",function(){a.share(b.contentItem,b.medium)})}}}]}),define("text!phxCore/html/phxSmartNav.html",[],function(){return'<nav class="m-smartnav is-loading mm-loadable" phx-track-id="smartnav">\n\n    <!-- wraps header element; enable transformations and fixed position on next content slot -->\n    <div class="m-smartnav--header-container">\n\n        <div class="m-smartnav--primary">\n            <div class="m-smartnav--primary-menu">\n\n                <div class="m-smartnav--logo">\n                    <a phx-track-event phx-track-id="logo" href="/">\n                        <img ng-src="{{logoHeading.imageUrl}}" alt="logo" />\n                    </a>\n                </div>\n\n                <ul class="m-smartnav--section-menu">\n                    <li class="{{item.classname}}" ng-class="{\'is-active\': item.url && item.url === currentPath}" ng-repeat="item in primaryMenu" phx-track-id="section">\n                        <a ng-href="{{item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}" phx-track-event>\n                            {{item.name}}\n                        </a>\n                    </li>\n                    <li ng-class="[item.classname, \'social-item-\'+$index]" ng-repeat="item in socialMenu" phx-track-id="social">\n                        <a ng-href="{{item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}" phx-track-event>\n                            <em class="{{item.nameclass}}">{{item.name}}</em>\n                        </a>\n                    </li>\n                </ul>\n\n                <div class="m-smartnav--more m-off-canvas--toggle">\n                    <a phx-track-event phx-track-id="offcanvas">\n                        More\n                        <em class="{{item.nameclass}}">{{item.name}}</em>\n                    </a>\n                </div>\n\n            </div>\n\n            <div class="m-smartnav--search" phx-track-id="Item">\n                <a ng-href="{{searchLinkItem.url}}" title="{{searchLinkItem.title}}" phx-track-event phx-track-id="search"></a>\n            </div>\n\n            <div class="m-smartnav--more-icon m-off-canvas--toggle">\n                <a phx-track-event phx-track-id="offcanvas"></a>\n            </div>\n        </div>\n\n        <div class="m-smartnav--secondary">\n            <div class="m-smartnav--secondary-menu">\n                <ul class="m-smartnav--current-collection">\n\n                    <li class="m-smartnav--current-label" ng-if="currentCollection.path">\n                        <a ng-href="{{currentCollection.path}}" title="{{currentCollection.title}}" phx-track-event phx-track-id="collection">\n                            {{currentCollection.title}}\n                        </a>\n                    </li>\n\n                    <li class="m-smartnav--current-headline">\n                        {{currentItem.promoTitle}}\n                    </li>\n                </ul>\n\n                <a class="m-smartnav--next-collection" ng-if="nextItem" ng-href="{{nextItem.path}}" ng-click="navManager.goto($event, nextItem)" phx-track-event phx-track-id="next">\n                    <div class="m-smartnav--next-label">Next</div>\n                    <div class="m-smartnav--next-headline">{{nextItem.title}}</div>\n                    <div class="m-smartnav--next-image" ng-if="nextItem.primaryImage">\n                        <img ng-src="{{nextItem.primaryImage|phxImageUrl:\'smartNav\'}}" /></div>\n                </a>\n            </div>\n\n            <div class="m-smartnav--progress">\n                <div class="m-smartnav--progress-filler" />\n            </div>\n        </div>\n\n    </div>\n\n</nav>\n'}),define("phxCore/directives/phxSmartNav",["text!phxCore/html/phxSmartNav.html"],function(a){"use strict";return["phxHeaderUtil","Config","phxNavManager","phxFeatures","$timeout","$rootScope","$window","phxResponsiveSize",function(b,c,d,e,f,g,h,i){return{restrict:"E",template:a,replace:!0,scope:!0,link:function(a,j){function k(){var a=angular.element(h).scrollTop(),b=p>a;p=a;var c=q&&q.masterItem;return c?A?"/"===c.path&&z>a?w:v:q.isDetailPage?d.currentCollection()?0>=a||b?y:x:v:"/"===c.path&&z>a?w:v:u}function l(a,b){if(a){var c=Math.max(a.offset().top-$(h).height(),0),d=a.offset().top+a.height()-$(h).height(),e=$(h).scrollTop(),f=100*(e-c)/(d-c);return 0>f&&(f=0),f>100&&b!==!1&&(f=100),f}return 0}function m(){var a=k();if(a!==B&&(j.removeClass(B).addClass(a),a===w?E&&"A"!==i.getName()&&r.css("transform","translateX(-"+E+"px)"):B===w&&r.css("transform","none"),B=a),B===x||B===y){var b=q&&q.progressElement,c=l(b).toFixed(1);s.width(c+"%")}}function n(){C||(requestAnimationFrame(function(){m(),C=!1}),C=!0)}function o(){B!==x&&B!==y||(a.currentItem=q.masterItem,a.currentCollection=d.currentCollection(),a.nextItem=d.nextItem())}if(!e.isEnabled("smartnav"))return void j.css("display","none");switch(e.variant("smartnav")){case"base":}var p,q,r=j.find(".m-smartnav--primary-menu"),s=j.find(".m-smartnav--progress-filler"),t=j.find(".m-smartnav--logo"),u="is-loading",v="mm-primary",w="mm-primary mm-nologo",x="mm-secondary",y="mm-both",z=200,A=!1,B=u,C=!1,D=!1,E=c.logo.nav.image.width*t.height()/c.logo.nav.image.height+t.offset().left;a.primaryMenu=b.getPrimaryMenu("m-smartnav--section-link"),a.socialMenu=b.getSocialMenu("m-smartnav--social-link"),a.searchLinkItem=b.getSearchLinkItem("m-smartnav--menu-search"),c.logo&&(a.logoHeading=c.logo.nav),a.navManager=d,g.$on("phxOffCanvasNavOpen",function(){A=!0,n()}),g.$on("phxOffCanvasNavClose",function(){A=!1,n()}),$(window).scroll(function(){D||n()}),g.$on("$locationChangeSuccess",function(){D=!0}),a.$watchGroup([function(){return d.currentCollection()},function(){return d.nextItem()}],function(a){m(),o()}),g.$on("phxFocusedPageChanged",function(a,b){q||f(function(){j.addClass("mm-loaded")}),q=b,D=!1,m(),o()})}}}]}),define("text!phxCore/html/phxSocialTools.html",[],function(){return'<section class="m-social">\n    <ul>\n        <li ng-if="contentItem.socialProof.aggregate && !hideAggregateCount" class="m-social--interaction-count">\n            <div class="m-social--interaction-count-num">{{contentItem.socialProof.aggregate|phxAbbreviateNumber}}</div>\n            <div class="m-social--interaction-count-label" translate="SHARES"></div>\n        </li>\n        <li ng-repeat="button in shareButtons" class="m-social--{{button.className}}">\n            <phx-share-button medium="{{button.medium}}" location="share-tools" content-item="contentItem" author="author">\n                <a phx-track-event phx-track-id="{{\'Link \' + button.medium}}">\n                    <span>{{(enableSharingCounts && button.proofKey ? contentItem.socialProof[button.proofKey] : \'\')|phxAbbreviateNumber}}</span>\n                </a>\n            </phx-share-button>\n        </li>\n        <li class="m-social--comment" ng-show="showSocialToolsCommentButton && (contentItem.commentsEnabled === null || contentItem.commentsEnabled === true)"><a phx-scroll-to="comments" phx-track-event phx-track-id="Link Comments"></a></li>\n        <li ng-if="showSocialToolsPrintButton" class="m-social--print"><a href="javascript:window.print()"></a></li>\n    </ul>\n</section>\n'}),define("phxCore/directives/phxSocialTools",["text!phxCore/html/phxSocialTools.html"],function(a){"use strict";return["phxSocial","Config",function(b,c){return{restrict:"E",scope:{author:"=",contentItem:"="},controller:["$scope",function(a){a.shareButtons=[];var d=b.shareButtonSettings();angular.forEach(c.social.shareButtons,function(b){d[b]&&a.shareButtons.push(d[b])}),a.enableSharingCounts=c.social.enableSharingCounts}],link:function(a,b,d){d.phxTrackId||(d.phxTrackId="Social Tools",b.attr("phx-track-id",d.phxTrackId)),a.hideAggregateCount=d.hideAggregateCount,a.showSocialToolsPrintButton=d.showSocialToolsPrintButton?"true"===d.showSocialToolsPrintButton:c.social.showSocialToolsPrintButton,a.showSocialToolsCommentButton=d.showSocialToolsCommentButton?"true"===d.showSocialToolsCommentButton:c.social.showSocialToolsCommentButton},template:a,replace:!0}}]}),define("text!phxCore/html/phxTextCarousel.html",[],function(){return'<div class="text-carousel" ng-if="items">\n    <header class="text-carousel--meta" ng-if="items.length > 1">\n        <div class="text-carousel--counter">{{current.i + 1}} <span>of</span> {{items.length}}</div>\n        <button class="text-carousel--button mm-previous" ng-click="prev()">&laquo;</button>\n        <button class="text-carousel--button mm-next" ng-click="next()">&raquo;</button>\n    </header>\n\n    <div class="text-carousel--hed">{{"quotes"}}</div>\n\n    <div class="text-carousel--content">\n        <div ng-repeat="item in items" ng-show="current.i == $index" ng-bind-html="item" class="text-carousel--item"></div>\n    </div>\n\n    <div class="text-carousel--author" ng-show="footer">{{footer}}</div>\n</div>\n'}),define("phxCore/directives/phxTextCarousel",["text!phxCore/html/phxTextCarousel.html"],function(a){"use strict";return[function(){return{restrict:"EA",template:a,scope:{source:"=",footer:"=",prepend:"@",append:"@"},link:function(a,b,c){var d=a.$watch("source",function(b){if(b&&(!angular.isArray(b)||b.length)){d(),a.current={i:0};var e=[];angular.forEach(b,function(a){(c.prepend||c.append)&&(a=c.prepend+a+c.append),e.push(a)}),a.items=e,a.next=function(){a.current.i===a.items.length-1?a.current.i=0:a.current.i++},a.prev=function(){0===a.current.i?a.current.i=a.items.length-1:a.current.i--}}})}}}]}),define("phxCore/directives/phxTml",[],function(){"use strict";return["blvTmlProcessor","$timeout","phxUtil","phxCategorizr",function(a,b,c,d){return{restrict:"A",link:function(e,f,g){e.$watch(g.phxTml,function(g){if(f.empty(),g){if(d.isServer()){var h=angular.element("<div>"+g+"</div>");h.find("[tml-collection]").remove(),g=h.html()}var i=a.getLinkFn(g),j=e.$new(!0);i(j,function(a){f.append(a)}),b(function(){f.find("a").each(function(){try{c.isExternalLink(this.href)&&angular.element(this).attr("target","_blank")}catch(a){}})})}})}}}]}),define("phxCore/directives/phxTrackEvent",[],function(){"use strict";return["phxGoogleAnalytics","phxTrackEventUtil",function(a,b){return{restrict:"A",link:function(c,d,e){var f=e.phxTrackEvent||"click";d.on(f,function(){a.sendEvent("Page Interaction",f,b.getElementPath(d))})}}}]}),define("phxCore/directives/phxTrackProgress",[],function(){"use strict";return[function(){return{restrict:"A",require:"^phxPage",link:function(a,b,c,d){d.page.progressElement=b}}}]}),define("text!phxCore/html/phxViewMeta.html",[],function(){return'<title ng-bind-template="{{meta.metaTitle ? meta.metaTitle + \' - \' : \'\'}}{{config.siteHtmlTitle}}"></title>\n\n<link rel="canonical" href="{{item.canonicalUrl}}">\n<link rel="publisher" href="{{config.social.services.googlePlusPublisherUrl}}">\n\n<meta property="author" ng-if="meta.authorName" content="{{meta.authorName}}">\n<meta name="description" content="{{meta.metaDescription}}">\n<meta name="keywords" content="{{meta.keywords}}">\n<meta name="section" content="{{meta.section}}">\n<meta name="pagetype" content="{{meta.pageType}}">\n<meta name="social-referrer" content="{{meta.socialReferrer}}">\n<meta name="robots" content="{{meta.robots}}">\n<meta name="item-id" content="{{meta.id}}">\n<meta name="published" content="{{item.publicationTimestamp|date:\'yyyy-MM-ddTHH:mm:ssZ\'}}">\n<meta name="modified" content="{{item.lastModifiedTimestamp|date:\'yyyy-MM-ddTHH:mm:ssZ\'}}">\n\n<meta name="dcterms.rightsHolder" content="{{config.copyrightHolder}}">\n<meta name="dcterms.dateCopyrighted" content="{{$root.currentTime|date:\'yyyy\'}}">\n\n<!-- Twitter Card Data -->\n<meta name="twitter:card" content="summary_large_image">\n<meta name="twitter:site" ng-if="config.social.services.siteTwitterUsername" content="{{\'@\' + config.social.services.siteTwitterUsername}}">\n<meta name="twitter:creator" ng-if="item.author.twitterUsername" content="{{\'@\' + item.author.twitterUsername}}">\n<meta name="twitter:url" content="{{item.canonicalUrl}}">\n<meta name="twitter:image" ng-if="meta.searchAndSocialImage" content="{{meta.searchAndSocialImage|phxImageUrl:\'socialSharingImage\'}}">\n<meta name="twitter:description" content="{{meta.metaDescription}}">\n<meta name="twitter:domain" content="{{config.siteProductionDomain}}">\n\n<!-- FB Open Graph Data -->\n<meta property="article:author" ng-if="item.author.facebookProfileUrl" content="{{item.author.facebookProfileUrl}}">\n<meta property="og:type" content="{{meta.openGraphType}}">\n<meta property="og:url" content="{{item.canonicalUrl}}">\n<meta property="og:title" content="{{meta.metaTitle}}">\n<meta property="og:description" content="{{meta.metaDescription}}">\n<meta property="og:image" ng-if="meta.searchAndSocialImage" content="{{meta.searchAndSocialImage|phxImageUrl:\'socialSharingImage\'}}">\n<meta property="og:site_name" content="{{config.siteName}}">\n<meta property="fb:pages" content="{{config.social.services.facebookPageId}}">\n<meta property="fb:app_id" content="{{config.social.services.facebookAppId}}">\n\n<!-- Pinterest -->\n<meta name="p:domain_verify" content="{{config.social.services.pinterestDomainVerify}}">\n<meta name="pinterest-rich-pin" content="{{config.social.enableRichPins}}">\n\n<meta name="apple-mobile-web-app-title" content="{{config.siteName}}">\n\n<meta name="parsely-title" content="{{meta.metaTitle ? meta.metaTitle + \' - \' : \'\'}}{{config.siteHtmlTitle}}">\n<meta name="parsely-link" content="{{item.canonicalUrl}}">\n<meta name="parsely-type" content="{{meta.openGraphType == \'article\' ? \'post\' : null}}">\n<meta name="parsely-image-url" ng-if="meta.searchAndSocialImage" content="{{meta.searchAndSocialImage|phxImageUrl:\'promoImage\'}}">\n<meta name="parsely-post-id" content="{{meta.id}}">\n<meta name="parsely-pub-date" content="{{item.publicationTimestamp|date:\'yyyy-MM-ddTHH:mm:ssZ\'}}">\n<meta name="parsely-section" content="{{item.sectionKey}}">\n<meta name="parsely-author" content="{{meta.authorName}}">\n<meta name="parsely-tags" content="{{meta.keywords}}">\n\n<meta name="phx:content-node-id" content="{{item.contentNodeId}}">\n<meta name="phx:content-item-id" content="{{item.id}}">\n<meta name="phx:content-object-type" content="{{item.objectType}}">\n'}),define("phxCore/directives/phxViewMeta",["text!phxCore/html/phxViewMeta.html"],function(a){"use strict";return["$compile","$rootScope","Config","phxViewMeta",function(b,c,d,e){return{restrict:"A",scope:!0,compile:function(b,c){return b.append(a),function(a,b,c){a.$on("phxFocusedPageChanged",function(b,c){a.item=c.masterItem,a.meta=e.getItemMeta(c.masterItem),a.config=d})}}}}]}),define("phxCore/directives/phxWordCount",[],function(){"use strict";return["$timeout",function(a){return{restrict:"AC",link:function(b,c){a(function(){var a=c.text().length,b=Math.round(a/7.4);b>=1&&5>b?c.addClass("wordcount-sub-5"):b>=5&&10>b?c.addClass("wordcount-5-10"):b>=10&&20>b?c.addClass("wordcount-10-20"):b>=20&&40>b?c.addClass("wordcount-20-40"):c.addClass("wordcount-over-40")},0)}}}]}),define("phxCore/directives/phxSkinBgimg",[],function(a){"use strict";return[function(){return{restrict:"A",template:"{{title}}",link:function(a,b,c){a.$watch(c.phxSkinBgimg,function(d){if(d){var e=d.imageUrl;d.imageUrl?(b.css({"background-image":"url("+e+")"}),c.$addClass("mm-has-svg")):(b.css({"background-image":"none"}),c.$removeClass("mm-has-svg")),d.title?a.title=d.title:c.defaultHeadingTitle?a.title=a.$eval(c.defaultHeadingTitle):a.title=""}})}}}]}),define("phxCore/directives/phxSkinInline",[],function(a){"use strict";return[function(){return{restrict:"A",scope:{phxSkinInline:"="},template:'<section ng-if="!phxSkinInline.imageUrl">{{phxSkinInline.title}}</section><ng-include ng-if="phxSkinInline.imageUrl" src="phxSkinInline.imageUrl"></ng-include>'}}]}),define("phxCore/directives/phxZoomFullscreen",[],function(){"use strict";return["phxFullscreenUtil",function(a){var b=function(b){a.zoomFullscreenElement()===b&&a.cancelZoomFullscreen()};return{restrict:"A",link:function(c,d,e){var f=d[0];d.bind("click",function(){a.isZoomFullscreenEnabled()?(b(f),d.removeClass("zoom-out-cursor"),d.addClass("zoom-in-cursor")):(a.enableZoomFullscreen(f),d.removeClass("zoom-in-cursor"),d.addClass("zoom-out-cursor"))}),$(document).on("keyup",function(a){27===a.keyCode&&b(f)}),$(document).on("scroll",function(a){b(f)})}}}]}),define("phxCore/directives/phxNativeFullscreen",[],function(){"use strict";return["phxFullscreenUtil",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){a.toggleNativeWithFallback(c[0])})}}}]}),define("phxCore/directives/phxEllipsis",[],function(){"use strict";return["$rootScope","phxEllipsisUtils","phxUtil","phxCategorizr","phxEvents",function(a,b,c,d,e){return{restrict:"A",scope:{ellipsisSymbol:"@",phxEllipsis:"@",maxNumberOfLines:"="},link:function(c,f,g){function h(){var a=c.maxNumberOfLines||0;if(i.length&&0!==i.length){k.textContent=i;try{j=b.truncateText(k,i,a)}catch(d){}requestAnimationFrame(function(){k.textContent=j,k.style.visibility="visible"})}}var i,j,k=f[0];d.isServer()||a.$applyAsync(function(){i=k.textContent,h(),e.$on("resize",h)})}}}]}),define("phxCore/directives/phxHideIfTooBig",[],function(){"use strict";return[function(){return{restrict:"A",link:function(a,b,c){var d=b.parent().parent(),e=a.$watch(b.innerHeight(),function(){d[0]&&d[0].scrollHeight>d[0].clientHeight&&(b[0].style.display="none"),e()})}}}]}),define("phxCore/directives/phxImage",[],function(){"use strict";return["phxImageResizedUrl","$timeout","$rootScope",function(a,b,c){return{restrict:"A",link:function(c,d,e){var f=c.$eval(e.phxImage);d.addClass("m-background-image");var g=function(){a.getImageUrl(d,f).then(function(b){a.isImageTag(d)?d.attr("src",b):d.css("background-image","url("+b+")")})};f&&b(g)}}}]}),define("text!phxCore/html/phxCarousel.html",[],function(){return'<div class="m-carousel" ng-class="{\'mm-carousel--inverted\': !!inverted, \'mm-carousel--flush\': !!flush}">\n    <button class="m-carousel--next ng-hide-animate" ng-show="nextBtn" ng-click="scrollToNext()">\n\n    </button>\n    <button class="m-carousel--previous ng-hide-animate" ng-show="previousBtn" ng-click="scrollToPrevious()">\n\n    </button>\n    <div class="m-carousel--container" ng-class="{\'mm-carousel--leftside-shadow\': previousBtn, \'mm-carousel--rightside-shadow\': nextBtn}">\n        <div class="m-carousel--content-wrapper">\n            <div class="m-carousel--content" phx-carousel-content ng-transclude></div>\n        </div>\n    </div>\n</div>\n';
}),define("phxCore/directives/phxCarousel",["text!phxCore/html/phxCarousel.html"],function(a){"use strict";return function(){return{template:a,restrict:"EA",replace:!0,transclude:!0,scope:{},controller:["$scope",function(a){a.previousBtn=!1,a.nextBtn=!1,this.registerContent=function(b){a.carouselContainer=b}}],link:function(a,b,c){var d,e=a.carouselContainer,f=e[0],g={transitionDuration:300},h=[],i=[],j=0,k=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},l=function(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft,10)+parseInt(c.marginRight,10)},m=function(a){e.animate({scrollLeft:a},g.transitionDuration)},n=function(a,b){var c=i,d=b?"min":"max";return Math[d].apply(null,c.filter(function(c){return b?c>a:a>c}))},o=function(b,c){a.$apply(function(){a.previousBtn=b,a.nextBtn=c})},p=function(){var a=f.scrollLeft,b=f.scrollWidth,c=f.offsetWidth,e=c-a,g=b-a,h=c>e,i=g!==c;o(h,i),d=a>j?"right":"left",j=a},q=function(){var a=0;angular.forEach(f.children,function(b,c){var d=l(b)||b.offsetWidth;i.push(a),h.push({width:d,resetPoint:a}),a+=d})},r=function(){a.previousBtn=!1,a.nextBtn=f.scrollWidth!==f.offsetWidth};k()&&b.addClass("touch"),a.scrollToNext=function(){var a=n(j,!0);m(a)},a.scrollToPrevious=function(){var a=n(j,!1);m(a)},a.inverted=a.$eval(c.inverted),a.flush=a.$eval(c.flush),a.$applyAsync(function(){r(),q()}),e.on("scroll",p)}}}}),define("phxCore/directives/phxCarouselContent",[],function(){"use strict";return function(){return{restrict:"A",require:"^phxCarousel",link:function(a,b,c,d){d.registerContent(b)}}}}),define("phxCore/directives/phxConfigLivePreview",[],function(){"use strict";return["$timeout","Config","$http","$rootScope",function(a,b,c,d){function e(){c.get("/.api/versions").then(function(g){var h=g.data,i=!1,j=!1;f&&(h.siteConfigVersion!==f.siteConfigVersion&&(i=!0,c.get("/.api/config").then(function(c){for(var f in c.data)b[f]=c.data[f];d.$broadcast("phxConfigUpdated"),a(e,5e3)})),h.siteConfigVersion===f.siteConfigVersion&&h.stylesCodeVersion===f.stylesCodeVersion||(i=!0,c.get("/site/styles/main.css").then(function(b){var c=document.createElement("style");c.type="text/css",c.innerText=b.data,c.id="phx-style";var d=angular.element("#phx-style");d.length?d[0].parentNode.replaceChild(c,d[0]):document.head.appendChild(c),j||(angular.element('link[rel="stylesheet"][href*="main.css"]').remove(),j=!0),a(e,5e3)}))),i||a(e,1e3),f=h})["catch"](function(){a(e,1e3)})}var f;return{restrict:"A",link:function(a,b,c){e()}}}]}),define("phxCore/directives/phxSuperLink",[],function(){"use strict";return["$window",function(a){return{restrict:"A",link:function(b,c,d){var e=d.phxSuperLink;c.on("click",function(b){var c=b.target,d=["A","BUTTON","LABEL","INPUT","SELECT","OPTION","OPTGROUP","TEXTAREA"];if(-1===$.inArray(c.nodeName,d)){for(var f=0;f<d.length;f++){var g=d[f],h=$(c).parent(g.toLowerCase());if(1===h.length)return}e&&(a.location=e)}})}}}]}),define("phxCore/directives/phxTextColor",[],function(){"use strict";return[function(){return{restrict:"A",link:function(a,b,c){var d=2.2,e=function(a){a=a.substring(a.indexOf("(")+1,a.indexOf(")"));var b=a.split(",",3);return b?{r:parseFloat(b[0]/255),g:parseFloat(b[1]/255),b:parseFloat(b[2]/255)}:null},f=function(a){return.2126*Math.pow(e(a).r,d)+.7152*Math.pow(e(a).g,d)+.0722*Math.pow(e(a).b,d)},g=b.css("background-color");if("transparent"!==g){var h=f(g)<.5?"is-light-text":"is-dark-text";b.addClass(h)}}}}]}),define("phxCore/directives/phxAmpDiscovery",["moment"],function(a){"use strict";return["phxFeatures",function(a){return{restrict:"EA",require:"?^phxPage",link:function(b,c,d,e){a.isEnabled("amp")&&e&&e.page&&e.page.masterItem&&(e.page.masterItem.featureFlags||{}).amp?(c.attr("rel","amphtml"),c.attr("href","/.amp"+e.page.masterItem.path)):(c.attr("rel",null),c.attr("href",null))}}}]}),define("phxCore/filters/phxAbbreviateNumber",[],function(){"use strict";return function(){return function(a){var b=["","K","M","B"],c=parseInt(a,10);if(isNaN(c))return a;for(var d=c,e=0;e<b.length;e++){if(100>c){d=Math.round(10*c)/10+b[e];break}if(1e3>c){d=Math.round(c)+b[e];break}c/=1e3}return d}}}),define("phxCore/filters/phxBirthDeathYears",[],function(){"use strict";return function(){return function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h="";if(d=d?"c. ":"",e=e?"c. ":"",f=void 0===f||null===f||g?"":" BCE",g=void 0===g||null===g||g?"":" BCE",b&&c)h=d+b.displayName+f+"&ndash;"+e+c.displayName+g;else if(b&&b.displayName<1910)h="b. "+d+b.displayName+f;else{if(b)return d+b.displayName+f+"&ndash;";c&&(h="d. "+e+c.displayName+g)}return h}}}),define("phxCore/filters/phxDedupeRichTerms",[],function(){"use strict";return function(){return function(a){if(a&&a.length){for(var b=[],c=0;c<a.length;c++){for(var d=!0,e=0;e<a.length;e++)if(e!==c&&"Film Actor/Film Actress"!==a[e].displayName){if(a[e].displayName.indexOf(a[c].displayName)>-1){d=!1;break}if(a[c].displayName.indexOf("/"+a[e].displayName)>-1){d=!1;break}}d&&b.push(a[c])}return b}}}}),define("phxCore/filters/phxDuration",[],function(){"use strict";return function(){function a(a){return 0>=a?"00":10>a?"0"+a:""+a}return function(b){if("number"!=typeof b)return null;var c=parseInt(b,10);return 0>c?null:60>c?"0:"+a(c):3600>c?Math.floor(c/60)+":"+a(c%60):Math.floor(c/3600)+":"+a(Math.floor(c%3600/60))+":"+a(c%3600%60)}}}),define("phxCore/filters/phxImageUrl",[],function(){"use strict";return["blvCloudinaryRawResolver","phxImageOptions","phxResponsiveSize",function(a,b,c){var d="_urlsByProfile";return function(e,f){var g=c.getName();if(e&&f){var h,i;if(angular.isObject(f)?(h=f,i=f.profileKey):(h=b.getOptions(f),i=f),e.externalUrl)return e.externalUrl;if(e[d]&&e[d][g].hasOwnProperty(i))return e[d][g][i];if(e.format){var j;return j=h?a.resolver(e,h):null,e[d]||(e[d]={A:{},B:{},C:{},D:{}}),e[d][g][i]=j,j}}}}]}),define("phxCore/filters/phxIsTrue",[],function(){"use strict";return function(){return function(a){return a&&!0}}}),define("phxCore/filters/phxStripHtml",[],function(){"use strict";return function(){return function(a){return void 0===a?null:String(a).replace(/<[^>]+>/gm,"")}}}),define("phxCore/filters/phxCreateExcerpt",[],function(){"use strict";return function(){var a="_cachedExcerpt",b=300;return function(c,d,e){if(!c||!c[d])return null;if(e||(e=b),c[a])return c[a];var f=document.createElement("div");f.innerHTML=c[d];var g=f.textContent||f.innerText||"",h=g.substr(0,e);return/^\S/.test(g.substr(e))&&(h=h.replace(/\s+\S*$/,"")),c[a]=h,c[a]}}}),define("text!phxCore/../../locale/en.json",[],function(){return'{\n    "AD_BREAK": "Advertisement — Continue reading below",\n    "ADVERTISEMENT": "ADVERTISEMENT",\n    "BYLINE_LABEL": "By",\n    "CLOSE": "Close",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Comment} one{1 Comment} other{# Comments}}",\n    "COMMENT_FROM": "comment from",\n    "EMAIL_PLACEHOLDER": "email address",\n    "ENGAGEMENT_ERROR": "Error!",\n    "ENGAGEMENT_SUBSCRIBE": "SUBSCRIBE",\n    "ENGAGEMENT_SUCCESS": "Thanks!",\n    "FEED_LOADING": "Loading…",\n    "FEED_MORE": "See More",\n    "GALLERY": "Gallery",\n    "HIDE_INFO": "HIDE INFO",\n    "LIKE_COUNT": "{COUNT, plural, =0{Like} one{1 Like} other{# Likes}}",\n    "SEARCH_PLACEHOLDER": "Search",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Share} other{Shares}}",\n    "SHARES": "SHARES",\n    "SHARES_LABEL": "{COUNT, plural, one{Share} other{Shares}}",\n    "SHOW_INFO": "SHOW INFO",\n    "TAGS": "Tags"\n}\n'}),define("text!phxCore/../../locale/fr-ca.json",[],function(){return'{\n    "AD_BREAK": "Publicité — Continuez la lecture ci-dessous",\n    "ADVERTISEMENT": "Publicité",\n    "BYLINE_LABEL": "Par",\n    "CLOSE": "Fermer",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Commenter} one{1 Commentaire} other{# Commentaires}}",\n    "COMMENT_FROM": "commentaire de",\n    "EMAIL_PLACEHOLDER": "adresse e-mail",\n    "ENGAGEMENT_ERROR": "Erreur!",\n    "ENGAGEMENT_SUBSCRIBE": "SOUSCRIVEZ",\n    "ENGAGEMENT_SUCCESS": "Merci!",\n    "FEED_LOADING": "Chargement…",\n    "FEED_MORE": "Charger la suite",\n    "GALLERY": "Galerie",\n    "HIDE_INFO": "CACHER INFO",\n    "LIKE_COUNT": "{COUNT, plural, =0{Like} one{1 Like} other{# Likes}}",\n    "SEARCH_PLACEHOLDER": "Recherché",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Partage} other{Partages}}",\n    "SHARES": "PARTAGES",\n    "SHARES_LABEL": "{COUNT, plural, one{Partage} other{Partages}}",\n    "SHOW_INFO": "MONTRER INFO",\n    "TAGS": "Tags"\n}\n'}),function(a){"function"==typeof define&&define.amd?define("moment-fr-ca",["moment"],a):"object"==typeof exports?module.exports=a(require("../moment")):a(("undefined"!=typeof global?global:this).moment)}(function(a){return a.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")}})}),define("phxTml/services/phxElementUtil",[],function(){"use strict";return["$window","phxUtil","blvTmlUtil",function(a,b,c){function d(a,b){var d=b.extraClasses||"",e=c.getTmlRenderLayout(b.attrs);a.contentStyle=e+" "+d}function e(b){var c=b.find("img"),d=a.getComputedStyle(c[0]),e=d.getPropertyValue("max-height"),f=parseInt(c.attr("height"),10),g=parseInt(c.attr("width"),10);e="px"===e.substr(-2,2)?parseInt(e,10):NaN;var h=isNaN(e)?f:Math.min(e,f),i=Math.floor(h/f*g),j=b.outerWidth(!0)-b.outerWidth(!1),k=b.outerHeight(!0)-b.outerHeight(!1);return{width:i+j,height:h+k}}function f(b){var c,d,e=b.parents(".m-collection"),f=e.hasClass("fullscreen");c=f?b.find(".m-layout-object--frame"):b.find("img"),d=a.getComputedStyle(c[0]);var g=d.getPropertyValue("max-height"),h=parseInt(d.getPropertyValue("height"),10),i=parseInt(d.getPropertyValue("width"),10);g="px"===g.substr(-2,2)?parseInt(g,10):NaN;var j=isNaN(g)?h:Math.min(g,h),k=Math.floor(j/h*i),l=b.outerWidth(!0)-b.outerWidth(),m=b.outerHeight(!0)-b.outerHeight();return{width:k+l,height:j+m}}function g(a){if(a=angular.element(a),void 0!==a[0]){if(a[0].outerHTML.indexOf("tml-image")>0)return"tml-image";if(a[0].outerHTML.indexOf("tml-external-provider")>0)return"tml-external-provider"}return!1}function h(a){switch(a=angular.element(a),g(a)){case"tml-image":return e(a);case"tml-external-provider":return f(a);default:throw new Error("Unknown element found.")}}function i(a){return g(a)!==!1}function j(a){return $(a).offset().top-(window.innerHeight-$(a).outerHeight())/2}function k(a){a=angular.element(a)[0],b.isElementInView(a)||window.scrollTo(0,j(a))}function l(a){a=angular.element(a)[0],b.isElementInView(a)||angular.element("html, body").animate({scrollTop:j(a)})}function m(a){return a.is(":header")||1===a.children().length&&a.children().eq(0).is("strong")}return{addContentStyleToScope:d,getElementDimensions:h,getElementType:g,isValidType:i,isHeadlineElement:m,scrollToElement:k,animateToElement:l}}]}),define("phxTml/services/phxMapService",[],function(){"use strict";return["$q","$window","Config",function(a,b,c){function d(){return f.promise}function e(){return{0:{markers:[{lat:40.738509,lon:-74.005256,title:"Myers of Keswick",street:"634 Hudson St",city:"New York",state:"NY",zip:"10014",contact:{site:"myersofkeswick.com",url:"http://www.myersofkeswick.com/",phone:"(212) 691-4194"},directions:"https://www.google.com/maps/dir//Myers+of+Keswick,+634+Hudson+St,+New+York,+NY+10014/@40.738509,-74.005256,17z/data=!4m12!1m3!3m2!1s0x89c259bfe1bfc2d9:0x23556344cc38a19c!2sMyers+of+Keswick!4m7!1m0!1m5!1m1!1s0x89c259bfe1bfc2d9:0x23556344cc38a19c!2m2!1d-74.005256!2d40.738509"},{lat:40.731442,lon:-74.002975,title:"London Candy Co.",street:"267 Bleecker St",city:"New York",state:"NY",zip:"10014",contact:{site:"londoncandy.com",url:"http://www.londoncandy.com/",phone:"(212) 427-2129"},directions:"https://www.google.com/maps/dir//London+Candy+Co.,+267+Bleecker+St,+New+York,+NY+10014/@40.731442,-74.002975"},{lat:40.738286,lon:-74.001971,title:"Tea & Sympathy",street:"108 Greenwich Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"teaandsympathynewyork.com",url:"http://teaandsympathynewyork.com/",phone:"(212) 989-9735"},directions:"https://www.google.com/maps/dir//Tea+%26+Sympathy,+108+Greenwich+Ave,+New+York,+NY+10011/@40.738286,-74.001971"},{lat:40.746009,lon:-74.004962,title:"The High Line Hotel",street:"180 10th Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"thehighlinehotel.com",url:"http://www.thehighlinehotel.com/",phone:"(212) 929-3888"},directions:"https://www.google.com/maps/dir//The+High+Line+Hotel,+180+10th+Ave,+New+York,+NY+10011/@40.746009,-74.004962"}],style:{color:"#000000",font_family:"Arial,Helvetica,sans-serif",font_size:"1.1em",background_color:"#ffffff"},parameters:{zoom:14,draggable:!0,mapTypeControl:!1,streetViewControl:!1}},1:{markers:[{lat:40.738509,lon:-74.005256,title:"Myers of Keswick",street:"634 Hudson St",city:"New York",state:"NY",zip:"10014",contact:{site:"myersofkeswick.com",url:"http://www.myersofkeswick.com/",phone:"(212) 691-4194"},directions:"https://www.google.com/maps/dir//Myers+of+Keswick,+634+Hudson+St,+New+York,+NY+10014/@40.738509,-74.005256"},{lat:40.731442,lon:-74.002975,title:"London Candy Co.",street:"267 Bleecker St",city:"New York",state:"NY",zip:"10014",contact:{site:"londoncandy.com",url:"http://www.londoncandy.com/",phone:"(212) 427-2129"},directions:"https://www.google.com/maps/dir//London+Candy+Co.,+267+Bleecker+St,+New+York,+NY+10014/@40.731442,-74.002975"},{lat:40.738286,lon:-74.001971,title:"Tea & Sympathy",street:"108 Greenwich Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"teaandsympathynewyork.com",url:"http://teaandsympathynewyork.com/",phone:"(212) 989-9735"},directions:"https://www.google.com/maps/dir//Tea+%26+Sympathy,+108+Greenwich+Ave,+New+York,+NY+10011/@40.738286,-74.001971"},{lat:40.746009,lon:-74.004962,title:"The High Line Hotel",street:"180 10th Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"thehighlinehotel.com",url:"http://www.thehighlinehotel.com/",phone:"(212) 929-3888"},directions:"https://www.google.com/maps/dir//The+High+Line+Hotel,+180+10th+Ave,+New+York,+NY+10011/@40.746009,-74.004962"},{lat:40.763331,lon:-73.980296,title:"The London NYC hotel",street:"151 W 54th St",city:"New York",state:"NY",zip:"10105",contact:{site:"thelondonnyc.com",url:"http://www.thelondonnyc.com/",phone:"(212) 307-5000"},directions:"https://www.google.com/maps/dir//The+London+NYC,+151+W+54th+St,+New+York,+NY+10105/@40.763331,-73.980296"},{lat:40.7698564,lon:-73.9724724,title:"William Shakespeare Statue",street:"Central Park",city:"New York",state:"NY",zip:"10019",directions:"https://www.google.com/maps/dir//40.7698564,-73.9724724/@40.7695502,-73.972459,20z/data=!4m3!4m2!1m0!1m0"},{lat:40.690796,lon:-73.995794,title:"The Atlantic ChipShop",street:"129 Atlantic Ave",city:"Brooklyn",state:"NY",zip:"11201",contact:{site:"chipshopnyc.com",url:"http://www.chipshopnyc.com/",phone:"(718) 855-7775"},directions:"https://www.google.com/maps/dir//The+Atlantic+ChipShop,+129+Atlantic+Ave,+Brooklyn,+NY+11201/@40.690796,-73.995794"},{lat:40.77032,lon:-73.953593,title:"Jones Wood Foundry",street:"401 E 76th St",city:"New York",state:"NY",zip:"10021",contact:{site:"joneswoodfoundry.com",url:"http://www.joneswoodfoundry.com/",phone:"(212) 249-2700"},directions:"https://www.google.com/maps/dir//Jones+Wood+Foundry,+401+E+76th+St,+New+York,+NY+10021/@40.77032,-73.953593"}],style:{color:"#000000",font_family:"Arial,Helvetica,sans-serif",font_size:"1.1em",background_color:"#ffffff"},parameters:{zoom:11,draggable:!0,mapTypeControl:!1,navigationControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!1}}}}var f=a.defer();b.googleMapsReady=function(a){return function(){a.resolve(!0),delete b.googleMapsReady}}(f);var g=c.embed&&c.embed.services?c.embed.services.mapServiceKey:null;return g?(function(){var a=document.createElement("script");a.setAttribute("language","javascript"),a.setAttribute("type","text/javascript"),a.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+g+"&sensor=false&callback=googleMapsReady"),document.body.appendChild(a)}(),{apiPromise:d,data:e}):{apiPromise:d,data:function(){return{}}}}]}),define("phxTml/services/phxTmlGalleryUi",[],function(){"use strict";return[function(){function a(){return function(a,b){f=a,g=b,this.init=function(){angular.forEach(h,function(c){c(a,b)})}}}function b(){return f}function c(){return g}function d(a){h.push(a)}function e(a){var b=h.indexOf(a);b>-1&&h.splice(b,1)}var f,g,h=[];return{initSlideshow:a,getSlideshow:b,getSlideshowFramework:c,watchSlideshowController:d,unwatchSlideshowController:e}}]}),define("phxTml/services/phxTmlUtil",[],function(){"use strict";return[function(){function a(a,b){var c="//www.youtube.com/embed/"+a,d=/\?t=(\d+m)?(\d+)s$/,e=d.exec(b);if(e){var f=e[1]?e[1].slice(0,-1):0,g=e[2]||0,h=60*Number(f)+Number(g);c+="?start="+h}return c}function b(a){if(a){var b=!1;return angular.element("<div>"+a+"</div>").find('[tml-external-provider="theplatform"]').each(function(a){var c=angular.element(this).attr("tml-external-id");return c&&"featured"===c.split(":")[2]?(b=!0,!1):void 0}),b}return!1}return{getYouTubeUrl:a,hasFeaturedVideo:b}}]}),function(a,b){"function"==typeof define&&define.amd?define("photoswipe/photoswipe",b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.6,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.5},maxSpreadZoom:2,modal:!0,scaleMode:"fit",alwaysFadeIn:!1};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=function(a,b){e.extend(f,b.publicMethods),va.push(a)},ya=function(a){var b=$b();return a>b-1?a-b:0>a?b+a:a},za={},Aa=function(a,b){return za[a]||(za[a]=[]),za[a].push(b)},Ba=function(a){var b=za[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ca=function(){return(new Date).getTime()},Da=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Ea=function(a,b,c,d){a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Fa=function(){da&&Ea(da,oa.x,oa.y,s)},Ga=function(a){a.container&&Ea(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel)},Ha=function(a,b){b[E]=u+a+"px, 0px"+v},Ia=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-rb.x);(0>c&&d>0||c>=$b()-1&&0>d)&&(a=rb.x+d*i.mainScrollEndFriction)}rb.x=a,Ha(a,n)},Ja=function(a,b){var c=sb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},Ka=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},La=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Ma=null,Na=function(){Ma&&(e.unbind(document,"mousemove",Na),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Ba("mouseUsed")),Ma=setTimeout(function(){Ma=null},100)},Oa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Na),e.bind(window,"resize scroll",f),Ba("bindEvents")},Pa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Na),N.transform&&e.unbind(f.scrollWrap,"click",f),U&&e.unbind(window,p,f),Ba("unbindEvents")},Qa=function(a,b){var c=gc(f.currItem,pa,a);return b&&(ca=c),c},Ra=function(a){return a||(a=f.currItem),a.initialZoomLevel},Sa=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ta=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ja(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Ua=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ha=function(a,b){b.left=a+"px"},Ga=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Fa=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=oa.x+"px",a.top=oa.y+"px"}}},Va=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Wa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Xa=function(){f.setScrollOffset(0,e.getScrollY())},Ya={},Za=0,$a=function(a){Ya[a]&&(Ya[a].raf&&I(Ya[a].raf),Za--,delete Ya[a])},_a=function(a){Ya[a]&&$a(a),Ya[a]||(Za++,Ya[a]={})},ab=function(){for(var a in Ya)Ya.hasOwnProperty(a)&&$a(a)},bb=function(a,b,c,d,e,f,g){var h,i=Ca();_a(a);var j=function(){if(Ya[a]){if(h=Ca()-i,h>=d)return $a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Ya[a].raf=H(j)}};j()},cb={shout:Ba,listen:Aa,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ba("updateScrollOffset",ra)},applyZoomPan:function(a,b,c){oa.x=b,oa.y=c,s=a,Fa()},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Ua(),r={resize:f.updateSize,scroll:Xa,keydown:Va,click:Wa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f["init"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ba("firstUpdate"),m=m||i.index||0,(isNaN(m)||0>m||m>=$b())&&(m=0),f.currItem=Zb(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute("aria-hidden","false"),i.modal&&(ua?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Ba("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ha((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Aa("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Oa()}),f.setContent(y[1],m),f.updateCurrItem(),Ba("afterInit"),ua||(w=setInterval(function(){Za||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Ba("close"),Pa(),ac(f.currItem,null,!0,f.destroy))},destroy:function(){Ba("destroy"),Vb&&clearTimeout(Vb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),xb(),ab(),za=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Fa()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=ya(a);var b=a-m;ta=b,m=a,f.currItem=Zb(m),qa-=b,Ia(sa.x*qa),ab(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ba("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ba("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=Zb(m),Ba("beforeChange",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ha((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ha(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=Zb(z);e.initialZoomLevel!==s&&(gc(e,pa),Ga(e))}ta=0,f.updateCurrZoomItem(),z=m,Ba("afterChange")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+"px"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Xa(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ia(sa.x*qa),Ba("beforeResize"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ha((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&$b()>2&&(j=ya(j)),g=Zb(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(gc(g,pa),Ga(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Fa()),Ba("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,sb.x=Math.abs(b.x)-oa.x,sb.y=Math.abs(b.y)-oa.y,Ka(na,oa));var g=Qa(a,!1),h={};Ta("x",g,h,a),Ta("y",g,h,a);var i=s,j={x:oa.x,y:oa.y};La(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Fa()};c?bb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},db=30,eb=10,fb={},gb={},hb={},ib={},jb={},kb=[],lb={},mb=[],nb={},ob=0,pb=la(),qb=0,rb=la(),sb=la(),tb=la(),ub=function(a,b){return a.x===b.x&&a.y===b.y},vb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},wb=function(a,b){return nb.x=Math.abs(a.x-b.x),nb.y=Math.abs(a.y-b.y),Math.sqrt(nb.x*nb.x+nb.y*nb.y)},xb=function(){Y&&(I(Y),Y=null)},yb=function(){U&&(Y=H(yb),Ob())},zb=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Ab=function(a,b){return a?a.className&&a.className.indexOf("pswp__scroll-wrap")>-1?!1:b(a)?a:Ab(a.parentNode,b):!1},Bb={},Cb=function(a,b){return Bb.prevent=!Ab(a.target,i.isClickableElement),Ba("preventDragEvent",a,b,Bb),Bb.prevent},Db=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Eb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Fb=function(a,b,c){if(a-P>50){var d=mb.length>2?mb.shift():{};d.x=b,d.y=c,mb.push(d),P=a}},Gb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Hb={},Ib={},Jb=[],Kb=function(a){for(;Jb.length>0;)Jb.pop();return F?(ka=0,kb.forEach(function(a){0===ka?Jb[0]=a:1===ka&&(Jb[1]=a),ka++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Jb[0]=Db(a.touches[0],Hb),a.touches.length>1&&(Jb[1]=Db(a.touches[1],Ib))):(Hb.x=a.pageX,Hb.y=a.pageY,Hb.id="",Jb[0]=Hb),Jb},Lb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=rb.x+b.x,m=rb.x-lb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?"h"!==fa||"x"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&$b()>1?(g=l,0>m&&l>lb.x&&(g=lb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&$b()>1?(g=l,m>0&&l<lb.x&&(g=lb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,"x"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ia(g,!0),Z=g!==lb.x),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Mb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Yb)return void a.preventDefault();if(!T||"mousedown"!==a.type){if(Cb(a,!0)&&a.preventDefault(),Ba("pointerDown"),F){var b=e.arraySearch(kb,a.pointerId,"id");0>b&&(b=kb.length),
kb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Kb(a),d=c.length;$=null,ab(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ba("firstTouchStart",c),Ka(na,oa),ma.x=ma.y=0,Ka(ib,c[0]),Ka(jb,ib),lb.x=sa.x*qa,mb=[{x:ib.x,y:ib.y}],P=O=Ca(),Qa(s,!0),xb(),yb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,Ka(na,oa),Ka(fb,c[0]),Ka(gb,c[1]),Eb(fb,gb,tb),sb.x=Math.abs(tb.x)-oa.x,sb.y=Math.abs(tb.y)-oa.y,aa=ba=wb(fb,gb))}}},Nb=function(a){if(a.preventDefault(),F){var b=e.arraySearch(kb,a.pointerId,"id");if(b>-1){var c=kb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Kb(a);if(fa||X||_)$=d;else{var f=Math.abs(d[0].x-ib.x)-Math.abs(d[0].y-ib.y);Math.abs(f)>=eb&&(fa=f>0?"h":"v",$=d)}}},Ob=function(){if($){var a=$.length;if(0!==a)if(Ka(fb,$[0]),hb.x=fb.x-ib.x,hb.y=fb.y-ib.y,_&&a>1){if(ib.x=fb.x,ib.y=fb.y,!hb.x&&!hb.y&&ub($[1],gb))return;Ka(gb,$[1]),W||(W=!0,Ba("zoomGestureStarted"));var b=wb(fb,gb),c=Tb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Ra(),g=Sa();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Da(j),Ba("onPinchClose",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Eb(fb,gb,pb),ma.x+=pb.x-tb.x,ma.y+=pb.y-tb.y,Ka(tb,pb),oa.x=Ja("x",c),oa.y=Ja("y",c),R=c>s,s=c,Fa()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(hb.x)>=eb&&(hb.x-=$[0].x-jb.x),Math.abs(hb.y)>=eb&&(hb.y-=$[0].y-jb.y)),ib.x=fb.x,ib.y=fb.y,0===hb.x&&0===hb.y)return;if("v"===fa&&i.closeOnVerticalDrag&&!zb()){ma.y+=hb.y,oa.y+=hb.y;var k=Gb();return S=!0,Ba("onVerticalDrag",k),Da(k),void Fa()}Fb(Ca(),fb.x,fb.y),X=!0,ca=f.currItem.bounds;var l=Lb("x",hb);l||(Lb("y",hb),La(oa),Fa())}}},Pb=function(a){if(N.isOldAndroid){if(T&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ba("pointerUp"),Cb(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(kb,a.pointerId,"id");if(c>-1)if(b=kb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Kb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return $=null,!0;1===j&&Ka(jb,h[0]),0!==j||fa||ea||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ba("touchRelease",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),xb(),_?k=0:-1!==qb&&(k=Ca()-qb)),qb=1===j?Ca():-1,g=-1!==k&&150>k?"zoom":"swipe",_&&2>j&&(_=!1,1===j&&(g="zoomPointerUp"),Ba("zoomGestureEnded")),$=null,X||W||ea||S)if(ab(),Q||(Q=Qb()),Q.calculateSwipeSpeed("x"),S){var l=Gb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;bb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Da((1-n)*a+n),Fa()}),Ba("onVerticalDrag",1)}}else{if((Z||ea)&&0===j){var o=Sb(g,Q);if(o)return;g="zoomPointerUp"}if(!ea)return"swipe"!==g?void Ub():void(!Z&&s>f.currItem.fitRatio&&Rb(Q))}},Qb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){mb.length>1?(a=Ca()-P+50,b=mb[mb.length-2][d]):(a=Ca()-O,b=jb[d]),c.lastFlickOffset[d]=ib[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,bb("bounceZoomPan"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Fa()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Ya.zoomPan&&(Ya.zoomPan.raf=H(c.panAnimLoop),c.now=Ca(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Fa(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Fa(),void $a("zoomPan")):void 0}};return c},Rb=function(a){return a.calculateSwipeSpeed("y"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(_a("zoomPan"),a.lastNow=Ca(),void a.panAnimLoop())},Sb=function(a,b){var c;ea||(ob=m);var d;if("swipe"===a){var g=ib.x-jb.x,h=b.lastFlickDist.x<10;g>db&&(h||b.lastFlickOffset.x>20)?d=-1:-db>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?$b()-1:0,j=!0):m>=$b()&&(m=i.loop?0:$b()-1,j=!0),j&&!i.loop||(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-rb.x);return c||l>rb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,ob===m&&(c=!1),ea=!0,Ba("mainScrollAnimStart"),bb("mainScroll",rb.x,l,k,e.easing.cubic.out,Ia,function(){ab(),ea=!1,ob=-1,(c||ob!==m)&&f.updateCurrItem(),Ba("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Tb=function(a){return 1/ba*a*t},Ub=function(){var a=s,b=Ra(),c=Sa();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Da((g-h)*a+h)}),f.zoomTo(a,0,300,e.easing.cubic.out,d),!0)};xa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Mb,r[B]=Nb,r[C]=Pb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Vb,Wb,Xb,Yb,Zb,$b,_b,ac=function(b,c,d,g){Vb&&clearTimeout(Vb),Yb=!0,Xb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){$a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Da(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ba("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Yb=!1};if(!j||!h||void 0===h.x){var n=function(){Ba("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,Ka(oa,b.initialPosition),Fa(),a.style.opacity=d?0:1,Da(1),k()};return void n()}var o=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Fa()),_a("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Vb=setTimeout(function(){if(Ba("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Fa(),g?a.style.opacity=1-b:Da(m-b*m)};c?bb("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Vb=setTimeout(k,j+20))}else s=b.initialZoomLevel,Ka(oa,b.initialPosition),Fa(),Da(1),g?a.style.opacity=1:Da(1),Vb=setTimeout(k,j+20)},d?25:90)};o()},bc={},cc=[],dc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Wb.length}},ec=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},fc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((bc.x-b)/2),d.center.y=Math.round((bc.y-c)/2)+a.vGap.top,d.max.x=b>bc.x?Math.round(bc.x-b):d.center.x,d.max.y=c>bc.y?Math.round(bc.y-c)+a.vGap.top:d.center.y,d.min.x=b>bc.x?0:d.center.x,d.min.y=c>bc.y?a.vGap.top:d.center.y},gc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ba("parseVerticalMargin",a)),bc.x=b.x,bc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=bc.x/a.w,f=bc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=ec())}if(!c)return;return fc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=ec(),a.initialPosition=a.bounds.center,a.bounds},hc=function(a,b,c,d,e,g){if(!b.loadError){var h,j=f.isDragging()&&!f.isZooming(),k=a===m||f.isMainScrollAnimating()||j;!e&&(G||i.alwaysFadeIn)&&k&&(h=!0),d&&(h&&(d.style.opacity=0),b.imageAppended=!0,kc(d,b.w,b.h),c.appendChild(d),h&&setTimeout(function(){d.style.opacity=1,g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500)},50))}},ic=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},jc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0):void 0},kc=function(a,b,c){a.style.width=b+"px",a.style.height=c+"px"},lc=function(){if(cc.length){for(var a,b=0;b<cc.length;b++)a=cc[b],a.holder.index===a.index&&hc(a.index,a.item,a.baseDiv,a.img);cc=[]}};xa("Controller",{publicMethods:{lazyLoadItem:function(a){a=ya(a);var b=Zb(a);!b||b.loaded||b.loading||(Ba("gettingData",a,b),b.src&&ic(b))},initController:function(){e.extend(i,dc,!0),f.items=Wb=c,Zb=f.getItemAt,$b=i.getNumItemsFn,_b=i.loop,$b()<3&&(i.loop=!1),Aa("beforeChange",function(a){var b,c=i.preload,d=null===a?!0:a>0,e=Math.min(c[0],$b()),g=Math.min(c[1],$b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Aa("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Aa("mainScrollAnimComplete",lc),Aa("initialZoomInEnd",lc),Aa("destroy",function(){for(var a,b=0;b<Wb.length;b++)a=Wb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);cc=null})},getItemAt:function(a){return a>=0&&void 0!==Wb[a]?Wb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=ya(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Ba("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),jc(g),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.webkitBackfaceVisibility="hidden",d.style.opacity=1,d.src=g.src,kc(d,g.w,g.h),hc(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(c.img&&(c.img.style.webkitBackfaceVisibility="hidden"),a&&a.index===b){if(jc(c,!0))return c.loadComplete=c.img=null,gc(c,pa),Ga(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Yb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(ea||Yb)?cc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a}):hc(b,c,h,c.img,ea||Yb)}c.loadComplete=null,c.img=null,Ba("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),kc(l,g.w,g.h),h.appendChild(l),g.placeholder=l}g.loading||ic(g),f.allowProgressiveImg()&&(!Xb&&N.transform?cc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):hc(b,g,h,g.img,!0,!0))}gc(g,pa),Xb||b!==m?Ga(g):(da=h.style,ac(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var mc,nc={},oc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};xa("Tap",{publicMethods:{initTap:function(){Aa("firstTouchStart",f.onTapStart),Aa("touchRelease",f.onTapRelease),Aa("destroy",function(){nc={},mc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(mc),mc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!Za){var c=b;if(mc&&(clearTimeout(mc),mc=null,vb(c,nc)))return void Ba("doubleTap",c);if("mouse"===b.type)return void oc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void oc(a,b);Ka(nc,c),mc=setTimeout(function(){oc(a,b),mc=null},300)}}}});var pc;xa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Aa("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){pc={};var c="wheel mousewheel DOMMouseScroll";Aa("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Aa("unbindEvents",function(){pc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),1>s?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Aa("resize",g),Aa("afterChange",g),Aa("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Aa("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(i.closeOnScroll?E&&Math.abs(a.deltaY)>2&&(l=!0,f.close()):a.preventDefault()),!0;if(a.stopPropagation(),pc.x=0,"deltaX"in a)1===a.deltaMode?(pc.x=18*a.deltaX,pc.y=18*a.deltaY):(pc.x=a.deltaX,pc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(pc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?pc.y=-.16*a.wheelDeltaY:pc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;pc.y=a.detail}Qa(s,!0);var b=oa.x-pc.x,c=oa.y-pc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc={history:!0,galleryUID:1},Dc=function(){return Ac.hash.substring(1)},Ec=function(){qc&&clearTimeout(qc),sc&&clearTimeout(sc)},Fc=function(){var a=Dc(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Wb.length;c++)if(Wb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Gc=function(){if(sc&&clearTimeout(sc),Za||U)return void(sc=setTimeout(Gc,500));tc?clearTimeout(rc):tc=!0;var a=m+1,b=Zb(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=wc+"&gid="+i.galleryUID+"&pid="+a;xc||-1===Ac.hash.indexOf(c)&&(zc=!0);var d=Ac.href.split("#")[0]+"#"+c;Bc?"#"+c!==window.location.hash&&history[xc?"replaceState":"pushState"]("",document.title,d):xc?Ac.replace(d):Ac.hash=c,xc=!0,rc=setTimeout(function(){tc=!1},60)};xa("History",{publicMethods:{initHistory:function(){if(e.extend(i,Cc,!0),i.history){Ac=window.location,zc=!1,yc=!1,xc=!1,wc=Dc(),Bc="pushState"in history,wc.indexOf("gid=")>-1&&(wc=wc.split("&gid=")[0],wc=wc.split("?gid=")[0]),Aa("afterChange",f.updateURL),Aa("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){vc=!0,yc||(zc?history.back():wc?Ac.hash=wc:Bc?history.pushState("",document.title,Ac.pathname+Ac.search):Ac.hash=""),Ec()};Aa("unbindEvents",function(){l&&a()}),Aa("destroy",function(){vc||a()}),Aa("firstUpdate",function(){m=Fc().pid});var b=wc.indexOf("pid=");b>-1&&(wc=wc.substring(0,b),"&"===wc.slice(-1)&&(wc=wc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Dc()===wc?(yc=!0,void f.close()):void(tc||(uc=!0,f.goTo(Fc().pid),uc=!1))},updateURL:function(){Ec(),uc||(xc?qc=setTimeout(Gc,800):Gc())}}}),e.extend(f,cb)};return a}),define("text!phxTml/html/phxTmlGallery/phxTmlGalleryInterstitialAd.html",[],function(){return'<div class="m-gallery-overlay--ad-interstitial m-advertisement">\n    <div class="m-advertisement--indicator" translate="ADVERTISEMENT"></div>\n    <div class="m-gallery-overlay--ad-interstitial-tap-handler"></div>\n</div>\n'}),define("phxTml/controllers/phxTmlGalleryInvite",["photoswipe/photoswipe","text!phxTml/html/phxTmlGallery/phxTmlGalleryInterstitialAd.html"],function(a,b){"use strict";return["$rootScope","$compile","$filter","$q","phxTmlGalleryUi","phxImageOptions","Config","phxResponsiveSize",function(c,d,e,f,g,h,i,j){var k=this;this.addDeferAttribute=function(a){if(a.hasAttribute("tml-image"))a.setAttribute("defer",!0),a.defer=!0;else if(a.children.length>0)for(var b in a.children)angular.isDefined(a.children[b].nodeName)&&"#text"!==a.children[b].nodeName&&k.addDeferAttribute(a.children[b])},this.getImageSpecs=function(a){var b,c,d=h.getOptions("slideshowFullscreen"),e=a.w||a.width,f=a.h||a.height,g=e/f,i=1>=g,j=!i,k=d.width?d.width:e,l=d.height?d.height:f;return b=j&&e>k?k:e,c=!j&&f>l?l:f,j?c=Math.round(b/g):b=Math.round(c*g),{isLandscape:j,width:b,height:c}},this.getGalleryUID=function(a){return a[0].image.id},this.locationHashToObj=function(a){var b={},c=a.split("&");return angular.forEach(c,function(a,c){var d=a.split("=");d[1]&&(b[d[0]]=d[1])}),b},this.getImageIndex=function(a,b,c){var d;angular.forEach(b,function(b,c){a===b.pid&&(d=c)});var e=!d&&c?0:d;return e},this.getHashImageIndex=function(a,b){var c,d,e=this;return a&&b.length?(c=this.locationHashToObj(a),d=c.gid===this.getGalleryUID(b)?c.pid?e.getImageIndex(c.pid,b,c.gid):0:!c.gid&&c.pid?e.getImageIndex(c.pid,b)||!1:e.getImageIndex(a,b)):!1},this.injectInterstitialAds=function(a){var c=0,d=i.gallery.ads.interstitialFrequency[j.getName().toUpperCase()],e=b;if(!d||0===d)return a;for(var f=d;a.length>=f;)a.splice(f,0,{html:e,isAd:!0,isCompiled:!1,pid:"ad-"+f}),f+=d+1,c++;return 0===c&&a.length>=3&&a.push({html:e,isAd:!0,isCompiled:!1,pid:"ad-"+a.length+1}),a},this.slugify=function(a){var b;return b=new RegExp("[^a-z0-9-_]","g"),a.toLowerCase().replace(/\s+/g,"-").replace(b,"")},this.processImages=function(a,b,c){var d=[];return angular.forEach(b,function(a){var b=k.getImageSpecs(a);d.push({src:e("phxImageUrl")(a,"slideshowFullscreen"),thumbnailSrc:e("phxImageUrl")(a,"slideshowThumbnail"),w:b.width,h:b.height,title:c[a.id]?c[a.id].captionTml:null,pid:k.slugify(a.title),imageId:a.id,image:a})}),d},this.preloadFirstImage=function(a,b){var c=angular.element(new Image);c.prop("src",b[a].src)},this.initGallery=function(b,c){var d=angular.element(".m-gallery-overlay").get(0),e={showHideOpacity:!0,history:!0,closeOnScroll:!1,closeOnVerticalDrag:!1,arrowKeys:!1,allowPanToNext:!1,galleryUID:k.getGalleryUID(c),galleryPIDs:!0,spacing:"C"===j.getName()?1:.1,getDoubleTapZoom:function(a,b){var c=g.getSlideshow(),d=c.getZoomLevel();return d>b.initialZoomLevel?d:b.initialZoomLevel<.7?1:1.5}};e.index=b||0;var f=new a(d,g.initSlideshow(),c,e);f.init()}}]}),define("phxTml/directives/phxTmlAnchor",[],function(){"use strict";return function(){return{restrict:"A",replace:!1,scope:{tmlAnchor:"@"},link:function(a,b){b.find('a[name="'+a.tmlAnchor+'"]').length||b.prepend('<a name="'+a.tmlAnchor+'"></a>')}}}}),define("text!phxTml/html/phxTmlImage.html",[],function(){return'<div>\n    <figure class="tml-image {{contentStyle}}" itemscope itemtype="http://schema.org/ImageObject">\n        <img width="{{contentPhoto.width}}" height="{{contentPhoto.height}}" ng-src="{{cloudinaryUrl}}" alt="{{(contentCaption||contentPhoto.defaultCaption) | phxStripHtml }}" itemprop="image"/>\n        <figcaption itemprop="caption" phx-html="contentCaption"></figcaption>\n        <phx-pin-it ng-if="$root.config.social.pinItImages" pin-url="{{pageUrl}}" pin-media="{{cloudinaryUrl}}" pin-description="{{contentCaption}}"></phx-pin-it>\n        <span class="attribution" itemprop="author" ng-show="false">\n            <a ng-href="{{contentPhoto.attribution.sourcePageUrl}}">{{contentPhoto.attribution.sourceName}}</a>\n        </span>\n    </figure>\n\n    <!-- since the full bleed images break out of the article flow we need\n         a spacer div the push the content down below the image -->\n    <div ng-if="isFullBleed" class="l-container-spacer" ng-style="{height: getFullBleedHeight()}" ></div>\n</div>\n'}),define("phxTml/directives/phxTmlImage",["text!phxTml/html/phxTmlImage.html"],function(a){"use strict";return["$rootScope","cstConfig","cstLogger","blvCloudinaryRawResolver","blvTmlUtil","phxCachedContentItems","phxImageOptions","phxElementUtil","$window","$filter","phxUtil","Config","$location","phxEvents",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b){var c=angular.element(a).get(0),d={};return angular.forEach(c.attributes,function(a){0===a.name.indexOf("cloudinary-")&&(d[a.name.substring("cloudinary-".length)]=a.value)}),d}return{restrict:"A",replace:!0,scope:{tmlImage:"@"},template:a,require:"^phxPage",link:function(a,c,j,m){var n=k("phxImageUrl"),q=c.find("figure"),r=function(){var a=q.outerHeight();return a+"px"},s=l.throttle(function(){a.isFullBleed&&(a.cloudinaryUrl=n(a.contentPhoto,"inlineImage:l-full-bleed"))},250),t=null;if(a.loaded=!1,a.contentPhotoId=j.tmlImage,a.pathUrl=encodeURIComponent(document.URL),a.pageUrl=m.page.masterItem.canonicalUrl,i.addContentStyleToScope(a,{attrs:j}),j.tmlRenderLayout&&"full-bleed"===j.tmlRenderLayout){a.isFullBleed=!0,a.getFullBleedHeight=r,c.addClass("l-container-full");var u=o.$on("resize",s);c.on("$destroy",u)}c[0].loadImg=function(){a.loaded=!0,a.cloudinaryUrl=t};var v=f.getTmlRenderLayout(j),w="inlineImage:"+v,x=h.getOptions(w),y=angular.extend({},x,p(c,j));a.contentCaption=angular.isDefined(j.tmlImageCaption)?j.tmlImageCaption:"",g.getObjectPromise(a.contentPhotoId).then(function(b){a.contentPhoto=b,t=e.resolver(b,y),(a.loaded||!c[0].defer&&!j.defer)&&c[0].loadImg()},function(a){d.error(a)});var z=c.find("IMG").eq(0);z&&z.on("load",function(){b.$broadcast("phxTmlImage:imageLoaded",z,a.contentPhotoId),s()})}}}]}),define("phxTml/directives/phxTmlRenderLayout",[],function(){"use strict";return["blvTmlUtil","phxBreakout",function(a,b){return{restrict:"A",scope:!1,link:function(c,d,e){if(a.isValidBlockElement(d)){var f=a.getTmlRenderLayout(e);$(d).addClass(f)}if("breakout"===e.tmlRenderLayout){var g=d.children();g.data("force",!0),b.registerDam(g[0])}}}}]}),define("phxTml/directives/phxTmlCollection",[],function(){"use strict";return[function(){return{restrict:"EA",link:function(a,b){b.addClass("m-collection")}}}]}),define("text!phxTml/html/phxTmlCollectionGrid.html",[],function(){return'<div class="m-collection--grid l-feed--grid">\n</div>\n'}),define("phxTml/directives/phxTmlCollectionGrid/phxTmlCollectionGrid",["text!phxTml/html/phxTmlCollectionGrid.html"],function(a){"use strict";return["$location",function(b){return{restrict:"A",link:function(c,d){d.children().wrapAll(a),d.find(".m-video--container").remove(),d.on("click","div[tml-anchor]",function(){function a(){function a(c){return c?c.video&&c.video.videoPlatformId===b?c.video.path:c.$$nextSibling?a(c.$$nextSibling):void 0:void 0}var b;try{return b=e.attr("tml-external-id").split(":")[1],a(c.$$childHead,b)}catch(d){return}}var d,e=angular.element(this).find("div[tml-external-provider]"),f=e.attr("tml-external-provider-theplatform-path");d="undefined"!=typeof f&&""!==f?f:a()||b.path()+"/videos/"+angular.element(this).attr("tml-anchor"),b.path(d),b.hash(null),c.$apply()})}}}]}),define("text!phxTml/html/phxTmlGallery.html",[],function(){return'<div class="m-gallery-invite" ng-class="{ \'m-gallery-invite--istitled\': collectionInvite.istitled, \'m-gallery-invite--portrait-slide\': collectionInvite.isPortrait, \'m-gallery-invite--landscape-slide\': collectionInvite.isLandscape, \'l-breakout\': collectionInvite.breakout}">\n\n    <div class="m-gallery-invite--slides" ng-click="loadGallery()"  style="{{collectionInvite.slideMaxHeight}}">\n\n        <div class="m-gallery-invite--slide-container">\n            <figure itemscope itemtype="http://schema.org/ImageObject" class="m-gallery-invite--slide" ng-repeat="slide in collectionInvite.slides track by $index | limitTo: repeatLength" style="background-image: url(\'{{slide.thumbnailSrc}}\');">\n\n                <img ng-src="{{slide.thumbnailSrc}}" alt="{{slide.title | phxStripHtml}}" itemprop="image" class="m-gallery-invite--slide-image" style="{{collectionInvite.slideMaxHeight}}" onload="gallerySlideLoaded()" />\n\n            </figure>\n        </div>\n\n        <div class="m-gallery-invite--icon">\n            <div class="m-gallery-invite--imagecount">\n                <span class="m-gallery-invite-imagecount-total">\n                    {{collectionInvite.imageCount}}\n                </span>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="m-gallery-invite--info">\n\n        <div class="m-gallery-invite--section"><a href="javascript:void(0);" ng-click="loadGallery()" translate="GALLERY" role="button"></a></div>\n\n        <div class="m-gallery-invite--summary" ng-if="collectionInvite.title">\n\n            <h2 class="m-gallery-invite--hed">{{collectionInvite.title}}</h2>\n            <div class="m-gallery-invite--caption">{{collectionInvite.caption}}</div>\n\n        </div>\n\n        <div class="m-gallery-invite--imagecount">\n            <span>\n                {{collectionInvite.imageCount}}\n            </span>\n            <span>Images</span>\n        </div>\n\n    </div>\n\n</div>\n'}),define("phxTml/directives/phxTmlGallery/phxTmlGallery",["text!phxTml/html/phxTmlGallery.html"],function(a){"use strict";return["$controller","$timeout","$q","$filter","phxCachedContentItems","phxFeatures","phxTmlGalleryUi","phxImageOptions","$window","phxUtil","Config","$compile","$location","phxResponsiveSize","phxBreakout","$interval","phxEvents","phxAdUtils",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return{restrict:"A",transclude:!0,template:a,scope:{},require:"^phxPage",compile:function(a,e){var h,i=[],k={},l=function(a,b){var d=angular.element(".m-gallery-invite--slides");if(a.collectionInvite&&!d.is(":hidden")){var e=1.55,f=d.outerWidth()/e;a.collectionInvite.slideMaxHeight="height:"+f+"px",0===f&&c(function(){l(a,b)},500),b&&p.processBreakouts()}};return{pre:function(a,e,m,t,u){var v,w,x=a.phxGalleryCtrl=b("phxTmlGalleryInvite"),y=d.defer(),z=y.promise;a.collectionInvite={},"true"===m.tmlCollection||""===m.tmlCollection?(v=m.tmlCollectionTitle,w=m.tmlCollectionCaption,u(function(a){angular.forEach(a,function(a){if("#text"!==a.nodeName){var b=angular.element(a).find("[tml-image]"),c=b.attr("tml-image");i.push(c),k[c]={captionTml:b.attr("tml-image-caption")},x.addDeferAttribute(a)}}),y.resolve(i)})):f.getObjectPromise(m.tmlCollection).then(function(a){k=a.itemsAttribution||{},v=a.title,w=a.teaser,y.resolve(a.itemIds)}),z.then(function(b){d.all(f.getMultiObjectPromises(b)).then(function(d){if(h=x.processImages(b,d,k),!h||0===h.length)return void e.hide();var f=x.getImageSpecs(h[0]),i=[],m=1,u=!1,y=!1;!f.isLandscape&&h.length>=2?(2===h.length?i.push(h[1]):i.push(h[h.length-1]),i.push(h[0]),i.push(h[1]),m=3):i=[h[0]],"C"===o.getName()&&v&&(u=!0,y=!0,p.registerDam(e)),a.repeatLength=m,a.collectionInvite={title:v,caption:w,slides:i,imageCount:h.length,istitled:!!v,isPortrait:!f.isLandscape,isLandscape:f.isLandscape,breakout:u},c(function(){l(a,y),s.isContextSponsored(t)||(h=x.injectInterstitialAds(h)),g.isEnabled("next-gallery")&&"nextGalleryOn"===g.variant("next-gallery")&&(h=x.injectNextGallerySlide(h,t.page));var b=x.getHashImageIndex(n.hash(),h);!isNaN(parseFloat(b))&&isFinite(b)&&b>=0?x.initGallery(b,h):x.preloadFirstImage(0,h)});var z=function(){e.is(":hidden")||l(a,y)};r.$on("resize",z),j.gallerySlideLoaded=z,q(z,500,10)})})},post:function(a,b,c,d){a.loadGallery=function(b){a.phxGalleryCtrl.initGallery(b,h)}}}}}}]}),define("text!phxTml/html/phxTmlGalleryContainer.html",[],function(){return'<div class="pswp m-gallery-overlay" ng-class="{\'has-ad-top\': adTopEnabled, \'has-ad-right\': adRightEnabled}" tabindex="-1" role="dialog" aria-hidden="true">\n\n    <!-- Background of PhotoSwipe.\n         It\'s a separate element as animating opacity is faster than rgba(). -->\n    <div class="pswp__bg m-gallery-overlay--background"></div>\n\n    <div class="m-gallery-overlay--ad-top" ng-if="adTopEnabled"></div>\n\n    <!-- Slides wrapper with overflow:hidden. -->\n    <div class="pswp__scroll-wrap m-gallery-overlay--scroll-wrap">\n\n        <div phx-tml-gallery-pin-it ng-click="sharePin()" ng-if="$root.config.social.pinItImages" class="m-gallery-overlay--pin-it"></div>\n\n        <button class="m-gallery-overlay--button m-gallery-overlay--close" title="Close" translate="CLOSE"></button>\n\n        <button class="m-gallery-overlay--button m-gallery-overlay--nav-prev" ng-click="prev()" title="Previous (arrow left)"></button>\n        <button class="m-gallery-overlay--button m-gallery-overlay--nav-next" ng-click="next()" title="Next (arrow right)"></button>\n\n        <!-- Container that holds slides.\n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\n            Don\'t modify these 3 pswp__item elements, data is added later on. -->\n        <div class="pswp__container m-gallery-overlay--item-container">\n            <div class="pswp__item m-gallery-overlay--item"></div>\n            <div class="pswp__item m-gallery-overlay--item"></div>\n            <div class="pswp__item m-gallery-overlay--item"></div>\n        </div>\n\n        <phx-tml-gallery-tools></phx-tml-gallery-tools>\n\n    </div>\n\n    <!-- @todo fix advertisement nesting and indicator -->\n    <div class="m-gallery-overlay--ad-right m-advertisement" ng-if="adRightEnabled">\n        <div class="m-advertisement--indicator" translate="ADVERTISEMENT"></div>\n    </div>\n\n</div>\n'}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryContainer",["text!phxTml/html/phxTmlGalleryContainer.html"],function(a,b){"use strict";return["Config","phxTmlGalleryUi","phxResponsiveSize","phxFeatures","$location","$compile","$timeout","$window","phxAdUtils","$rootScope","$filter","$interval","phxUtil","phxFragmentUrl","phxTags",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return{restrict:"E",template:a,replace:!0,require:"^phxPage",link:function(a,e,l,n){function q(){S.addClass(W),h(function(){S.removeClass(W),S.removeClass(U)},300)}function r(b,c){var d=angular.element(".m-gallery-overlay--ad-"+b);d.find("phx-advertisement").remove();var e=g('<phx-advertisement ad-role="'+c+'" index="0"></phx-advertisement>');e(a,function(a){a.data("$phxPageController",n),a.addClass("m-advertisement"),
d.append(a)})}function s(){for(var a=i.document.body,b=a,c=[];b.nextSibling;)b=b.nextSibling,c.push(b);return c=angular.element(c),c.hide(),c.remove(),c.length>0}function t(){return L.currItem.initialZoomLevel<L.getZoomLevel()}function u(b){t()||(37===b.keyCode?a.prev():39===b.keyCode&&a.next())}function v(a){L.toggleDesktopZoom(a)}function w(){angular.element(".m-gallery-overlay--item").css({display:"block"})}function x(){h(function(){var a=angular.element(".m-gallery-overlay--active"),b=a.siblings();b.css({display:"none"}),a.css({display:"block"})})}function y(b){var c=angular.element(b.target||b.srcElement);if(c.hasClass("pswp__img")&&!L.likelyTouchDevice)v(b.detail.releasePoint);else if(c.hasClass("m-gallery-overlay--close"))a.close();else if(c.hasClass("m-gallery-overlay--ad-interstitial-tap-handler")){var d=c.parent().find("iframe").length<0?c.parent().find("iframe"):c.parent().find("object");d.trigger("click")}}function z(a){var b=angular.element(".m-gallery-overlay--tools").offset().top;return 0!==b&&b<=a.y||e.hasClass("is-interstitial")?!1:void v()}function A(){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),b=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=L.currItem,d=L.getZoomLevel();(c.w*d<a*_||c.h*d<b*_)&&d>c.initialZoomLevel?(L.zoomTo(c.initialZoomLevel),e.removeClass("pswp--zoomed-in")):d<=c.initialZoomLevel?e.removeClass("pswp--zoomed-in"):e.addClass("pswp--zoomed-in")}function B(b,c){if(c.isAd===!0&&c.isCompiled===!1){g(c.html)(a,function(a){a.data("$phxPageController",n),c.html=a[0]});c.isCompiled=!0}}function C(){if(k.$emit("phxAds:next-set"),w(),b.gallery.ads.adTopEnabled&&!O&&(0===Q||Q>=Y)){var a="A"===d.getName()?"gallery-mobile":"gallery-top";r("top",a),Q=0,O=h(function(){O=void 0},$)}b.gallery.ads.adRightEnabled&&!P&&(0===R||R>=Z)&&(r("right","gallery-right"),R=0,P=h(function(){P=void 0},$)),Q++,R++,L.currItem.isAd&&r("interstitial","gallery-interstitial"),e.toggleClass("is-interstitial",L.currItem.isAd||!1),x()}function D(){var a=f.url().replace(/&pid=(\d+)/i,"&pid="+(L.getCurrentIndex()+1)),b=L&&L.currItem&&L.currItem.image?L.currItem.image:{};b.viewProperties={analytics:{ga:{dimension1:"Gallery"},collectionIndex:L&&L.getCurrentIndex?L.getCurrentIndex():0}},p.onPageView(b,a),angular.element("."+X).removeClass(X),angular.element(L.currItem.container).parent().addClass(X)}function E(){if(o.setScrolling(!0),S.addClass(U+" "+V),T.on("keyup",u),h(function(){N=S.scrollTop(),e.parents().first().siblings().addClass("m-gallery-overlay--hide-siblings"),e.addClass("loaded"),S.removeClass(V)},1e3),"A"===d.getName())var a=m(function(){var b=s();b&&m.cancel(a)},1e3,10);k.$broadcast("phxCollection:enterFullscreen",{element:e})}function F(){e.parents().first().siblings().removeClass("m-gallery-overlay--hide-siblings"),S.scrollTop(N),q(),T.off("keyup",u),e.removeClass("loaded"),o.setScrolling(!1),k.$broadcast("phxCollection:exitFullscreen")}function G(){var a=b.gallery.loopSlides||!0;return a}function H(a){var b=a.vGap;b.top="A"===d.getName()?5:25,b.bottom=60}function I(){return S.hasClass(U)}function J(){M.bind(L.container,"pswpTap",y)}function K(a,b){L=a,M=b,L.listen("parseVerticalMargin",H),L.listen("bindEvents",J),L.listen("beforeChange",C),L.listen("afterChange",D),L.listen("initialZoomInEnd",E),L.listen("initialZoomOut",F),L.listen("gettingData",B),L.listen("touchRelease",y),L.listen("doubleTap",z),L.listen("zoomGestureEnded",A)}var L,M,N,O,P,Q=0,R=0,S=angular.element("body").first(),T=angular.element(document),U="m-gallery-overlay--isopen",V="m-gallery-overlay--isloading",W="m-gallery-overlay--isclosing",X="m-gallery-overlay--active",Y=b.gallery.ads.adTopRefreshRate,Z=b.gallery.ads.adRightRefreshRate,$=b.gallery.ads.adRefreshDelay,_=.9;c.watchSlideshowController(K),a.next=function(){var a=L.getCurrentIndex(),b=L.options.getNumItemsFn()-1;(G()||b>a)&&L.next()},a.prev=function(){var a=L.getCurrentIndex();(G()||a>0)&&L.prev()},a.close=function(){t()?v():L.close()},a.zoomOut=function(){v()},a.adRightEnabled="C"===d.getName()&&b.gallery.ads.adRightEnabled&&!j.isContextSponsored(n),a.adTopEnabled=b.gallery.ads.adTopEnabled&&!j.isContextSponsored(n);var aa=a.$on("$destroy",function(){c.unwatchSlideshowController(K),I()&&F(),aa()})}}}]}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryPinIt",[],function(a){"use strict";return["Config","phxTmlGalleryUi","$filter","$location","$window","$timeout","phxPinIt",function(a,b,c,d,e,f,g){return{restrict:"EA",template:'<phx-pin-it pin-url="{{pinUrl}}" pin-media="{{pinMedia}}" ng-hide="isAd"pin-description="{{pinDescription}}"></phx-pin-it>',controller:["$scope","$element",function(a,b){var e,f,g=this,h=!1;this.watchSlideshowController=function(a,b){e=a,f=b,e.listen("afterChange",g.updateButton)},this.updateButton=function(){var c=angular.element(e.currItem.container);a.isAd=e.currItem.isAd,b.css("top",c.position().top+"px"),b.css("left",c.position().left+"px"),g.initpinItBtntoggler()},this.updateShareDetails=function(){a.pinUrl=d.absUrl(),a.pinMedia=e.currItem.src,a.pinDescription=c("phxStripHtml")(e.currItem.title||"")},this.initpinItBtntoggler=function(){if(!h){var a=angular.element(e.container);a.delegate(".pswp__img","mouseover mouseout",function(a){"mouseover"===a.type?b.css({opacity:1}):"mouseout"===a.type&&b.css({opacity:0})}),h=!0}}}],link:function(a,c,d,e){a.sharePin=function(){e.updateShareDetails(),f(function(){g.pinIt(a.pinUrl,a.pinMedia,a.pinDescription)})},b.watchSlideshowController(e.watchSlideshowController)}}}]}),define("text!phxTml/html/phxTmlGallery/phxTmlGalleryTools.html",[],function(){return'<div class="m-gallery-overlay--tools" ng-class="{\'active\': showTools, \'has-caption\': hasCaption}">\n\n    <div class="m-gallery-overlay--toolbar">\n        <div class="m-gallery-overlay--counter m-gallery-overlay--tool">\n            <span class="m-gallery-overlay--counter-current">{{currentImageCount}}</span>\n            <span class="m-gallery-overlay--counter-separator">of</span>\n            <span class="m-gallery-overlay--counter-total">{{totalImageCount}}</span>\n        </div>\n\n        <button class="m-gallery-overlay--toggle-social-tools m-gallery-overlay--tool" ng-class="{\'active\': showSocialTools}" title="Toggle Social Tools"></button>\n\n        <div class="m-gallery-overlay--social-tools m-gallery-overlay--tool">\n\n            <phx-social-tools\n                hide-aggregate-count="true"\n                content-item="socialContentItem"\n                show-social-tools-comment-button="false"\n                show-social-tools-print-button="false"></phx-social-tools>\n\n            <button class="m-gallery-overlay--toggle-social-tools m-gallery-overlay--close-social-tools"></button>\n\n        </div>\n\n        <button class="m-gallery-overlay--toggle-caption m-gallery-overlay--tool" title="Toggle Caption" ng-class="{\'active\': showCaption}">\n            <span ng-if="showCaption" translate="HIDE_INFO"></span><span ng-if="!showCaption" translate="SHOW_INFO"></span>\n        </button>\n    </div>\n\n    <div class="m-gallery-overlay--logo" phx-skin-bgimg="$root.config.logo.heading"></div>\n\n    <div class="m-gallery-overlay--caption" ng-class="{\'active\': showCaption}">\n        <div class="m-gallery-overlay--caption-title">{{pageTitle}}</div>\n        <div class="m-gallery-overlay--caption-text" phx-html="imageCaption"></div>\n    </div>\n\n</div>\n'}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryTools",["text!phxTml/html/phxTmlGallery/phxTmlGalleryTools.html"],function(a){"use strict";return["Config","phxTmlGalleryUi","$timeout","$filter","phxResponsiveSize",function(b,c,d,e,f){return{restrict:"EA",template:a,require:"^phxPage",link:function(a,b,g,h){function i(b){var c=angular.element(b.target||b.srcElement);c.hasClass("m-gallery-overlay--toggle-caption")?a.$apply(a.toggleCaption):c.hasClass("m-gallery-overlay--toggle-social-tools")&&a.$apply(a.toggleSocialTools)}function j(){}function k(){a.showSocialTools=!1,a.showCaption=!1,a.showTools=!1}function l(){t[(a.showCaption?"add":"remove")+"Class"]("caption-is-on")}function m(a){var b=s.filter(function(b){return a>=b});return a-b.length}function n(c){if(a.captionWasOpen){var e="is-hiding-caption-btn";c=c||300,b.addClass(e),d(function(){b.removeClass(e),a.captionWasOpen=!1},c)}}function o(){d(function(){a.showTools=!0,a.hasCaption=!!q.currItem.title,a.showCaption=!(!a.captionWasOpen&&!a.showCaption),a.captionWasOpen=a.showCaption?!0:n(),u&&(a.showCaption=!!a.hasCaption,u=!1),l(),a.currentImageCount=m(q.getCurrentIndex())+1,a.pageTitle=h.page.masterItem.title,a.imageCaption=q.currItem.title,a.socialContentItem={path:h.page.masterItem.path+"#gid="+q.options.galleryUID,title:e("phxStripHtml")(q.currItem.title),primaryImage:q.currItem.image}})}function p(b,c){q=b,r=c,q.listen("beforeChange",o),q.listen("destroy",k),q.listen("close",j),q.listen("touchRelease",i),q.listen("zoomGestureEnded",function(){q.getZoomLevel()>q.currItem.initialZoomLevel&&a.$apply(function(){a.showCaption=!1,a.showSocialTools=!1})}),"A"!==f.getName()&&a.hasCaption&&(a.showCaption=!0),s=[],angular.forEach(q.items,function(a,b){(a.isAd&&a.isAd===!0||a.nextGallery)&&s.push(b)}),a.totalImageCount=q.options.getNumItemsFn()-s.length}var q,r,s=[],t=angular.element(".m-gallery-overlay"),u=!0;a.toggleSocialTools=function(){a.showCaption&&a.toggleCaption(),a.showSocialTools=!a.showSocialTools},a.toggleCaption=function(){a.showSocialTools&&a.toggleSocialTools(),a.showCaption=!a.showCaption,a.captionWasOpen=!!a.showCaption,l()},c.watchSlideshowController(p)}}}]}),define("phxTml/directives/phxTmlExternalProvider",[],function(){"use strict";return["phxEmbeds","phxElementUtil","$sanitize",function(a,b,c){return{restrict:"A",priority:10,link:function(c,d,e){b.addContentStyleToScope(c,{attrs:e});var f=e.tmlExternalProvider;"iframe"===f&&(f="unknown-vendor"),c.providerClass="m-embed_"+f,c.figureEmbedClasses="m-embed "+c.providerClass,e.$observe("tmlEmbedSrc",function(b){"string"==typeof b&&b.match(/^(?:https?:)?\/\/.+/)&&0===d.children().length&&d.html('<figure class="'+c.figureEmbedClasses+" "+c.contentStyle+'">'+a.createCard(b)+"</figure>")})}}}]}),define("text!phxTml/html/phxTmlExternalProviderBlyve.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n    <iframe class="m-embed--frame" style="line-height: 1.538em;" ng-src="{{source}}" frameborder="0" width="100%" height="800" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n    <div><a style="font-family: arial; display: block; color: #000000; font-weight: normal; font-size: 10px; text-decoration: underline;" title="Blyve liveblog liveblogging platform" href="http://www.blyve.com" target="_blank">Powered by Blyve</a></div>\n    </figure>\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderBlyve",["text!phxTml/html/phxTmlExternalProviderBlyve.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,replace:!0,scope:!0,priority:100,link:function(a,c,d){var e=d.tmlExternalId;a.source=b.trustAsResourceUrl("http://blyve.com/embed/"+e)}}}]}),define("phxTml/directives/phxTmlExternalProviderEmbed",[],function(){"use strict";return function(){return{restrict:"A",link:function(a,b,c){c.tmlExternalId.match(/^https?:\/\//)&&(c.tmlEmbedSrc=c.tmlExternalId)}}}}),define("phxTml/directives/phxTmlExternalProviderEmbedcode",[],function(){"use strict";return["$timeout","$document","phxCategorizr",function(a,b,c){return{restrict:"A",priority:100,scope:!0,link:function(d,e,f){var g=$("<figure/>").addClass(d.figureEmbedClasses).addClass(d.contentStyle),h=$("<iframe/>").addClass("m-embed--frame").attr("width","100%").attr("frameborder","0");g.append(h),e.append(g);var i='<!DOCTYPE html><html><head></head><body style="margin:0; padding:0; position:absolute; width: 100%"><iframe id="_say_sizer" width="0" frameborder="0" style="height: 100%; position: absolute; top: 0; bottom: 0; opacity: 0"></iframe>'+f.tmlEmbedSrc+"</body></html>",j=h[0],k=function(){if(!$.contains(b[0].documentElement,j))return void a(k,200);var c=j.contentWindow.document;c.open(),c.write(i),c.close();var d=$(c.getElementById("_say_sizer"));d&&(d[0].contentWindow.onresize=function(){h.attr("height",d.height())})};c.isServer()||k()}}}]}),define("text!phxTml/html/phxTmlExternalProvider.html",[],function(){return'<div ng-bind-html="embed">\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderFacebook",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","$timeout",function(b,c){function d(a,d){a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><div class="fb-post" data-href="'+a.src+'" data-width="'+a.width+'"></div></figure>'),a.fbEl=null,c(function(){if(e)window.FB&&window.FB.XFBML&&(window.FB.XFBML.parse(d.get(0)),d.find("iframe").addClass("m-embed--frame"));else{var a=document.createElement("div");a.setAttribute("id","fb-root"),document.getElementsByTagName("body")[0].appendChild(a);var b=document.createElement("script");b.setAttribute("src","//connect.facebook.net/en_US/all.js#xfbml=1"),b.setAttribute("charset","utf-8"),b.setAttribute("async","true"),b.setAttribute("defer","defer"),b.setAttribute("id","facebook-jssdk"),document.getElementsByTagName("head")[0].appendChild(b),e=!0}})}var e=!1;return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,b,c){if(c.tmlExternalId.match(/^([A-Za-z0-9_.-]+):(\d+)$/)){a.width=630,a.src="https://www.facebook.com/"+c.tmlExternalId.replace(":","/posts/"),d(a,b);var e=function(){return a.fbEl&&0!==a.fbEl.length||(a.fbEl=b.find("figure")),Math.max(350,a.fbEl.width())||630};a.$watch(e,function(c,e){c!==a.width&&null!==c&&(a.width=c,d(a,b))},!0)}}}}]}),define("phxTml/directives/phxTmlExternalProviderGithubgist",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","$http",function(b,c){function d(a,b,c){var d=document.location.href;b=b.replace(/<a href=/gi,'<a target="_parent" href=');var f='<!doctype html><html><head><link rel="stylesheet" type="text/css" href="'+c+'"></head><body>'+b+'<script>var d=document,db=d.body,de=d.documentElement;var height=Math.max(Math.max(db.scrollHeight,de.scrollHeight),Math.max(db.offsetHeight,de.offsetHeight),Math.max(db.clientHeight,de.clientHeight));var obj={message:"'+e+'",id:"'+a+'",height:height};window.parent.postMessage(obj,"'+d+'");</script></body></html>';return"data:text/html,"+encodeURIComponent(f)}var e="githubgist.resize";return window.addEventListener("message",function(a){if(a.data.message===e){var b=document.getElementById(a.data.id);b&&angular.element(b).height(a.data.height)}},!1),{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,e,f){if(f.tmlExternalId.match(/^[\w-]+:[0-9a-f]+$/)){var g="https://gist.github.com/"+f.tmlExternalId.replace(":","/")+".json?callback=JSON_CALLBACK";c.jsonp(g).success(function(c,e,g,h){var i="gist-"+f.tmlExternalId.replace(":","-");a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><iframe class="m-embed--frame" id="'+i+'" src="'+d(i,c.div,c.stylesheet)+'" frameborder="0"></iframe></figure>')})}}}}]}),define("phxTml/directives/phxTmlExternalProviderGoogleplus",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){if(d.tmlExternalId.match(/^(\d+):(\w+)$/)){a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><div class="g-post" data-href="https://plus.google.com/'+d.tmlExternalId.replace(":","/posts/")+'"></div></figure>');var e=function(){window.gapi.post.go(c[0]),c.find("iframe").addClass("m-embed--frame")};window.gapi&&window.gapi.post?e():$.getScript("//apis.google.com/js/plusone.js",e)}}}}]}),define("phxTml/directives/phxTmlExternalProviderIframe",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","$window","$timeout",function(b,c,d){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,e,f){if(f.tmlExternalId.match(/^(?:https?:)?\/\/.+$/)&&f.tmlEmbedWidth&&f.tmlEmbedHeight){var g=f.tmlExternalId;if(a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'" style="width: '+f.tmlEmbedWidth+"px;height: "+f.tmlEmbedHeight+'px"><iframe class="m-embed--frame" src="'+g+'" height="'+f.tmlEmbedHeight+'" width="'+f.tmlEmbedWidth+'" scrolling="no" frameborder="0"/></figure>'),!f.tmlEmbedWidth.match(/^\d+$/)||!f.tmlEmbedHeight.match(/^\d+$/))return;var h=parseInt(f.tmlEmbedHeight,10);if(0===h)return;var i,j=parseInt(f.tmlEmbedWidth,10)/h,k=function(){if((!i||0===i.length)&&(i=e.find("figure, figure > iframe"),0===i.length))return void d(k,100);var a=Math.ceil(angular.element(i.get(0)).width()/j);h!==a&&(h=a,i.height(h))};angular.element(c).on("resize",k),k(),e.on("$destroy",function(){angular.element(c).off("resize",k)})}}}}]}),define("phxTml/directives/phxTmlExternalProviderInstagram",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","phxEmbeds",function(b,c){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,d,e){if(e.tmlExternalId.match(/^[\w-]+$/)){var f=c.loadInstagram(e.tmlExternalId);f.then(function(c){a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'">'+c.html+"</figure>")})}}}}]}),define("phxTml/directives/phxTmlExternalProviderKickstarter",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){if(d.tmlExternalId.match(/^[\w-]+:[\w-]+$/)){var e="//www.kickstarter.com/projects/"+d.tmlExternalId.replace(":","/")+"/widget/video.html";a.embed=b.trustAsHtml('<figure class="m-video '+a.contentStyle+' mm-landscape"><iframe width="480" height="360" class="m-video--frame" src="'+e+'" frameborder="0" scrolling="no" allowfullscreen webkitallowfullscreen mozallowfullscreen/></figure>')}}}}]}),define("phxTml/directives/phxTmlExternalProviderNbcsports",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){a.source="//vplayer.nbcsports.com/p/BxmELC/nbcsports_share/select/"+d.tmlExternalId,a.embed=b.trustAsHtml('<figure class="m-video '+a.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="'+a.source+'" width="598" height="336" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}}}]}),define("text!phxTml/html/phxPolldaddyEmbed.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n        <div id="PDI_container{{pollId}}" class="PDS_Poll"></div>\n    </figure>\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderPolldaddy",["text!phxTml/html/phxPolldaddyEmbed.html"],function(a){"use strict";return["$timeout",function(b){return{restrict:"A",replace:!0,scope:!0,template:a,priority:100,link:function(a,c,d){if(d.tmlExternalId.match(/^\d+$/)){if(!document.getElementById("PD_superContainer")){var e=document.createElement("div");e.id="PD_superContainer",document.getElementsByTagName("body")[0].appendChild(e)}a.pollId=d.tmlExternalId;var f=b(function(){$.getScript("//static.polldaddy.com/p/"+a.pollId+".js"),b.cancel(f)})}}}}]}),define("phxTml/directives/phxTmlExternalProviderRewardstyle",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","$timeout","$window",function(b,c,d){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,e,f){function g(){var b=a.$on("phxFocusedPageChanged",function(){c(d.__stp.init,0,!1),b()})}if(f.tmlExternalId&&f.tmlExternalId.match(/^\d+/))if(a.embed=b.trustAsHtml("<figure class="+a.contentStyle+' mm-landscape"><div class="shopthepost-widget" data-widget-id="'+f.tmlExternalId+'"></div></figure>'),"object"==typeof d.__stp)g();else{var h=document.createElement("script");h.id="shopthepost-script",h.src="//widgets.rewardstyle.com/js/shopthepost.js",h.onload=g,document.body.appendChild(h)}}}}]}),define("text!phxTml/html/phxTmlExternalProviderScribblelive.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n        <iframe class="m-embed--frame"\n            ng-src="{{source}}" width="100%" height="500" frameborder="0"\n            allowfullscreen webkitallowfullscreen mozallowfullscreen>\n        </iframe>\n    </figure>\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderScribblelive",["text!phxTml/html/phxTmlExternalProviderScribblelive.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,replace:!0,scope:!0,priority:100,link:function(a,c,d){var e=d.tmlExternalId;a.source=b.trustAsResourceUrl("http://embed.scribblelive.com/Embed/v7.aspx?Id="+e)}}}]}),define("phxTml/directives/phxTmlExternalProviderScribd",[],function(){"use strict";return function(){return{restrict:"A",link:function(a,b,c){c.tmlExternalId.match(/^\d+$/)&&(c.tmlEmbedSrc="http://www.scribd.com/doc/"+c.tmlExternalId)}}}}),define("phxTml/directives/phxTmlExternalProviderSlideshare",[],function(){"use strict";return function(){return{restrict:"A",link:function(a,b,c){c.tmlExternalId.match(/^[\w-]+:[\w-]+$/)&&(c.tmlEmbedSrc="http://www.slideshare.net/"+c.tmlExternalId.replace(":","/"))}}}}),define("phxTml/directives/phxTmlExternalProviderSoundcloud",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","Config",function(b,c){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,d,e){var f,g=c.soundCloud||{},h=g.color||"ff5500";e.tmlExternalId.match(/^[\w-]+:[\w-]+$/)?f="https://soundcloud.com/"+e.tmlExternalId.replace(":","/"):e.tmlExternalId.match(/^[\w-]+$/)&&(f="https://api.soundcloud.com/tracks/"+e.tmlExternalId);var i="https://w.soundcloud.com/player/?url="+encodeURIComponent(f)+"&amp;color="+encodeURIComponent(h)+"&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false";a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><iframe class="m-embed--frame" src="'+i+'" frameborder="0" scrolling="no" allowtransparency="true"/></figure>')}}}]}),define("phxTml/directives/phxTmlExternalProviderSpotify",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){if(d.tmlExternalId.match(/^[A-Za-z0-9\/_:-]+$/)||d.tmlExternalId.match(/^[A-Za-z0-9_(:|%3A)]+$/)){var e="https://embed.spotify.com/?uri=spotify:"+d.tmlExternalId.replace(/\//g,":");a.embed=b.trustAsHtml('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><iframe class="m-embed--frame" src="'+e+'" width="100%" height="78" frameborder="0" scrolling="no" allowtransparency="true"/></figure>')}}}}]}),define("phxTml/directives/phxTmlExternalProviderStorify",[],function(){"use strict";return function(){return{restrict:"A",link:function(a,b,c){c.tmlExternalId.match(/^[\w-]+:[\w-]+$/)&&(c.tmlEmbedSrc="http://storify.com/"+c.tmlExternalId.replace(":","/"))}}}}),define("phxTml/directives/phxTmlExternalProviderTed",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){var e="//embed.ted.com/talks/"+d.tmlExternalId+".html";a.embed=b.trustAsHtml('<figure class="m-video '+a.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="'+e+'" frameborder="0" scrolling="no" allowfullscreen webkitallowfullscreen mozallowfullscreen/></figure>')}}}]}),define("text!phxTml/html/phxTmlExternalProviderThePlatform.html",[],function(){return'<div>\n    <figure class="m-video {{contentStyle}}"\n        itemscope itemtype="http://schema.org/VideoObject">\n\n        <meta itemprop="thumbnailUrl" content="{{video.primaryImage|phxImageUrl:\'socialSharingImage\'}}" />\n        <meta itemprop="contentUrl" content="{{video.contentUrl}}"/>\n        <meta itemprop="uploadDate" content="{{video.publicationTimestamp}}" />\n        <meta itemprop="contentRating" content="{{video.contentRating}}" />\n        <meta itemprop="contentCaption" content="{{video.descriptionTml | phxStripHtml}}" />\n\n<!--\n        <img itemprop="image" class="m-video--still m-video--image" ng-src="{{videoStill}}" alt="{{title}}" height="{{vs_height}}" width="{{vs_width}}" />\n-->\n\n        <div class="m-video--thumbnail">\n            <img itemprop="thumbnailUrl" ng-src="{{video.primaryImage|phxImageUrl:\'standardCard\'}}" alt="{{video.title}}"/>\n        </div>\n\n        <div class="m-video--container" ng-switch="isEmbed">\n            <iframe class="m-video--frame" ng-switch-when="false" id="{{playerDivId}}" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n            <embed class="m-video--frame" ng-switch-when="true" ng-src="{{source}}" />\n        </div>\n\n        <figcaption>\n            <span itemprop="name">{{video.title}}</span>\n            <span ng-show="video.contentRating" itemprop="contentRating" class="m-video--rating">({{video.contentRating}}; {{video.duration | phxDuration}})</span>\n            <span itemprop="description" class="m-video--description">{{video.bodyTml|phxStripHtml}}</span>\n        </figcaption>\n    </figure>\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderTheplatform",["text!phxTml/html/phxTmlExternalProviderThePlatform.html"],function(a){"use strict";return["$window","$sce","$timeout","$q","$compile","cstLogger","phxElementUtil",function(b,c,d,e,f,g,h){return{restrict:"A",template:a,replace:!0,scope:!0,priority:100,require:["^phxPage","tmlExternalProviderTheplatform"],controller:"phxTheplatformVideoCtrl",link:function(a,e,f,i){var j=i[0],k=i[1],l=f.tmlExternalId.split(":"),m=l[0],n=l[1],o=l.length>2&&"featured"===l[2];h.addContentStyleToScope(a,{attrs:f,extraClasses:"mm-landscape mm-hascaption"}),a.isFeatured=o,a.siteId=m,a.source=c.trustAsResourceUrl(k.aeConfig.aeAkamaiURL+"/pservice/embed-player/?siteId="+a.siteId+"&tPid="+n),a.resetAdLocation=function(a,b){var c=$(document).find("._fwph",a.currentScope.playerDivId);c.css(b)},a.getNewDimensions=function(){var a=e.find("figure");return{h:a.height(),w:a.width()}};var p=!1,q=function(){if(!p&&!jQuery.contains(document.documentElement,e[0]))return void d(q,100);var b=e.find(".m-video--container"),c=e.find("embed"),f=b.width(),g=b.height(),h=a.source+"&width="+f+"&height="+g;c.width(f),c.height(g),c.replaceWith(c.clone().attr("src",h)),p=!0},r=a.$on("phxCollection:enterFullscreen",function(b,c){var d=angular.element(c.element).find("iframe").attr("id"),f={position:"fixed","z-index":1e5,bottom:"0px",right:"0px",display:"inline-block"};a.resetAdLocation(b,f),k.pauseAllPlayers();var g=e.find("iframe")[0];k.postMsgToPlayers(g,"phxCollection:enterFullscreen:"+d)}),s=a.$on("phxCollection:exitFullscreen",function(b,c){var d={position:"static","z-index":"auto",bottom:"auto",right:"auto",display:"inline"};a.resetAdLocation(b,d),k.pauseAllPlayers()}),t=a.$on("phxCollection:prevElement",function(a){k.pauseAllPlayers();var b=e.find("iframe")[0];k.postMsgToPlayers(b,"phxCollection:prevElement:aeplayer")}),u=a.$on("phxCollection:nextElement",function(a){k.pauseAllPlayers();var b=e.find("iframe")[0];k.postMsgToPlayers(b,"phxCollection:nextElement:aeplayer")});e.on("$destroy",function(a){r(),s(),t(),u(),angular.element(b).off("resize",q);var c=e.find("iframe")[0];if(c&&c.contentWindow)try{c.contentWindow.cleanup()}catch(d){g.debug("Unable to call cleanup on video iframe.")}}),a.isFeatured?(k.primaryPlayer=!1,"0"===f.tmlPlayerIndex?(k.primaryPlayer=!0,k.playerAutoPlay=!0):(k.primaryPlayer=!1,k.playerAutoPlay=!1)):(a.isGalleryItem=e.parents().length>0,a.isGalleryItem?a.isEmbed=!1:(a.isEmbed=!0,angular.element(b).on("resize",q),q()));var v=a.$watch(function(){return jQuery.contains(document.documentElement,e[0])},function(b){var c;if(b){v();var d=j.page.masterItem._videosById;if(!d){d={};var f=j.page.masterItem.tmlEmbeds;for(c=0;c<f.length;c++)"ContentVideo"===f[c].objectType&&(d[f[c].videoPlatformId]=f[c]);j.page.masterItem._videosById=d}k.playList=[];var g=n.split(",");for(c=0;c<g.length;c++)d[g[c]]&&k.playList.push(d[g[c]]);if(!k.playList.length)return e.remove(),!1;a.playList=k.playList,k.updateMetaData(k.playList[0]),(a.isFeatured||a.isGalleryItem)&&(a.isFeatured&&k.primaryPlayer?(k.playerAutoStart=!0,a.$emit("phxTmlExternalProvider::initialized",a.playerDivId)):k.playerAutoStart=!1,e.find("iframe").bind("load",function(b){var c=k.updatePlayerContext(b.target.contentWindow);a.isFeatured&&c.startPlayer(),a.vcontroller=c.aetn.biography.videocontroller,$(this).contents().find("#aeplayer").bind("PDK:OnReleaseStart",function(b){a.$apply(function(){var b=a.vcontroller.getCurrentlyActivePlayer();b&&k.updateMetaData(k.playList[b.playerIndex])})})}).attr("src","videoIframe.html"))}})}}}]}),define("phxTml/directives/phxTmlExternalProviderTwitter",[],function(){"use strict";return function(){return{restrict:"A",priority:100,link:function(a,b,c){if(c.tmlExternalId.match(/^(\w+):(\d+)/)){b.html('<figure class="'+a.figureEmbedClasses+" "+a.contentStyle+'"><blockquote class="twitter-tweet"><a href="//twitter.com/'+c.tmlExternalId.replace(":","/status/")+'"></a></blockquote></figure>');var d=function(){window.twttr.widgets.load(b.get(0))};window.twttr?d():$.getScript("//platform.twitter.com/widgets.js",function(){d()})}}}}}),define("phxTml/directives/phxTmlExternalProviderYoutube",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce","phxTmlUtil",function(b,c){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,d,e){a.source=c.getYouTubeUrl(e.tmlExternalId,e.tmlEmbedSrc),a.embed=b.trustAsHtml('<figure class="m-video '+a.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="'+a.source+'" id="'+e.tmlExternalId+'" frameborder="0" scrolling="no" type="text/html" allowfullscreen webkitallowfullscreen mozallowfullscreen /></figure>');var f,g=function(){return f||(f=d.find("figure")),f.width()};a.$watch(g,function(a,b){f.hasClass("mm-landscape")?f.height(a/16*10):f.hasClass("mm-portrait")&&f.height(a/10*16)},!0)}}}]}),define("phxTml/directives/phxTmlExternalProviderVimeo",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){a.source="//player.vimeo.com/video/"+d.tmlExternalId,a.embed=b.trustAsHtml('<figure class="m-video '+a.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="//player.vimeo.com/video/'+d.tmlExternalId+'?title=0&byline=0&portrait=0" width="598" height="336" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}}}]}),define("phxTml/directives/phxTmlExternalProviderVine",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["$sce",function(b){var c=!1;return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,d,e){if(e.tmlExternalId.match(/^\w+$/)){var f="//vine.co/v/"+e.tmlExternalId+"/embed/simple";a.embed=b.trustAsHtml('<figure class="m-video mm-square '+a.contentStyle+'"><iframe class="m-video--frame" src="'+f+'" height="600" width="600" frameborder="0" type="text/html" /></figure>'),c||$.getScript("//platform.vine.co/static/scripts/embed.js",function(){c=!0})}}}}]}),define("phxTml/directives/phxTmlExternalProviderMap",["text!phxTml/html/phxTmlExternalProvider.html"],function(a){"use strict";return["phxMapService",function(b){return{restrict:"A",template:a,priority:100,replace:!0,scope:!0,link:function(a,c,d){c.addClass("m-embed m-layout-object");
var e=d.tmlExternalId.replace(/^\w+:/,""),f=b.data()[e];if(void 0!==f){a.openInfoWindow=null;var g,h,i=0,j=0;for(g=f.markers.length;--g>=0;)h=f.markers[g],i+=h.lat,j+=h.lon;a.$watch(function(){return jQuery.contains(document.documentElement,c[0])},function(d){d&&b.apiPromise().then(function(b){var d=new google.maps.LatLng(i/f.markers.length+.001,j/f.markers.length),e=f.parameters;e.center=d,e.mapTypeId=google.maps.MapTypeId.ROADMAP;var k=new google.maps.Map(c[0],e),l="";if(f.hasOwnProperty("style")){l+=' style="';for(var m in f.style)l+=m.replace("_","-")+":"+f.style[m]+";";l+='"'}for(g=f.markers.length;--g>=0;){h=f.markers[g];var n=new google.maps.LatLng(h.lat,h.lon),o=new google.maps.Marker({map:k,position:n}),p='<div class="markerWrapper"'+l+'><div class="markerContent">'+h.title+"<br />"+h.street+"<br />"+h.city+", "+h.state+" "+h.zip,q=h.contact;void 0!==q&&(q.hasOwnProperty("site")&&q.hasOwnProperty("url")&&(p+='<br /><a href="'+q.url+'" target="_blank">'+q.site+"</a>"),q.hasOwnProperty("phone")&&(p+='<br /><a href="tel:1'+q.phone.replace(/\-/g,"")+'">'+q.phone+"</a>")),h.hasOwnProperty("directions")&&(p+='<br /><a href="'+h.directions+'" target="_blank">get directions</a>'),p+="</div></div>";var r=new google.maps.InfoWindow({content:p,position:n});r.marker=o,a.enableMarker(o,r,d,k)}var s=c.attr("style")||"";c.attr("style",s+";width:700px;height:300px")})}),a.enableMarker=function(b,c,d,e){google.maps.event.addListener(b,"click",function(){null!==a.openInfoWindow&&(a.openInfoWindow.close(),a.openInfoWindow.marker.setVisible(!0)),a.openInfoWindow=c,c.open(e),c.marker.setVisible(!1)}),google.maps.event.addListener(c,"closeclick",function(){c.marker.setVisible(!0),a.openInfoWindow=null,e.panTo(d)})}}}}}]}),define("phxTml/module",["phxTml/services/phxElementUtil","phxCore/controllers/phxTheplatformVideoCtrl","phxTml/services/phxMapService","phxTml/services/phxTmlGalleryUi","phxTml/services/phxTmlUtil","phxTml/controllers/phxTmlGalleryInvite","phxTml/directives/phxTmlAnchor","phxTml/directives/phxTmlImage","phxTml/directives/phxTmlRenderLayout","phxTml/directives/phxTmlCollection","phxTml/directives/phxTmlCollectionGrid/phxTmlCollectionGrid","phxTml/directives/phxTmlGallery/phxTmlGallery","phxTml/directives/phxTmlGallery/phxTmlGalleryContainer","phxTml/directives/phxTmlGallery/phxTmlGalleryPinIt","phxTml/directives/phxTmlGallery/phxTmlGalleryTools","phxTml/directives/phxTmlExternalProvider","phxTml/directives/phxTmlExternalProviderBlyve","phxTml/directives/phxTmlExternalProviderEmbed","phxTml/directives/phxTmlExternalProviderEmbedcode","phxTml/directives/phxTmlExternalProviderFacebook","phxTml/directives/phxTmlExternalProviderGithubgist","phxTml/directives/phxTmlExternalProviderGoogleplus","phxTml/directives/phxTmlExternalProviderIframe","phxTml/directives/phxTmlExternalProviderInstagram","phxTml/directives/phxTmlExternalProviderKickstarter","phxTml/directives/phxTmlExternalProviderNbcsports","phxTml/directives/phxTmlExternalProviderPolldaddy","phxTml/directives/phxTmlExternalProviderRewardstyle","phxTml/directives/phxTmlExternalProviderScribblelive","phxTml/directives/phxTmlExternalProviderScribd","phxTml/directives/phxTmlExternalProviderSlideshare","phxTml/directives/phxTmlExternalProviderSoundcloud","phxTml/directives/phxTmlExternalProviderSpotify","phxTml/directives/phxTmlExternalProviderStorify","phxTml/directives/phxTmlExternalProviderTed","phxTml/directives/phxTmlExternalProviderTheplatform","phxTml/directives/phxTmlExternalProviderTwitter","phxTml/directives/phxTmlExternalProviderYoutube","phxTml/directives/phxTmlExternalProviderVimeo","phxTml/directives/phxTmlExternalProviderVine","phxTml/directives/phxTmlExternalProviderMap"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O){"use strict";var P=angular.module("phxTml",["belvedere"]);return P.controller("phxTmlGalleryInvite",f),P.service("phxElementUtil",a),P.service("phxMapService",c),P.service("phxTmlGalleryUi",d),P.service("phxTmlUtil",e),P.directive("tmlAnchor",g),P.directive("tmlImage",h),P.directive("tmlRenderLayout",i),P.directive("tmlCollection",j),P.directive("tmlCollectionGrid",k),P.directive("tmlCollectionCarousel",l),P.directive("tmlGallery",l),P.directive("phxTmlGalleryContainer",m),P.directive("phxTmlGalleryPinIt",n),P.directive("phxTmlGalleryTools",o),P.directive("tmlExternalProvider",p),P.directive("tmlExternalProviderBlyve",q),P.directive("tmlExternalProviderEmbedcode",s),P.directive("tmlExternalProviderFacebook",t),P.directive("tmlExternalProviderGithubgist",u),P.directive("tmlExternalProviderGoogleplus",v),P.directive("tmlExternalProviderIframe",w),P.directive("tmlExternalProviderInstagram",x),P.directive("tmlExternalProviderKickstarter",y),P.directive("tmlExternalProviderNbcsports",z),P.directive("tmlExternalProviderPolldaddy",A),P.directive("tmlExternalProviderRewardstyle",B),P.directive("tmlExternalProviderScribblelive",C),P.directive("tmlExternalProviderScribd",D),P.directive("tmlExternalProviderSlideshare",E),P.directive("tmlExternalProviderSoundcloud",F),P.directive("tmlExternalProviderSpotify",G),P.directive("tmlExternalProviderStorify",H),P.directive("tmlExternalProviderTed",I),P.directive("tmlExternalProviderTheplatform",J),P.directive("tmlExternalProviderTwitter",K),P.directive("tmlExternalProviderYoutube",L),P.directive("tmlExternalProviderVimeo",M),P.directive("tmlExternalProviderVine",N),P.directive("tmlExternalProviderMap",O),P.directive("tmlExternalProviderKaltura",r),P}),define("phxComponents/services/phxComponentProvider",[],function(){"use strict";return function(){var a={},b={},c={};this.register=function(b,c){return a[b]=c,this},this.$get=["$injector","$compile","$rootScope","phxUtil",function(d,e,f,g){function h(a,b,c){this._type=a,this._config=b,this._data=c}function i(f){if(!b[f]){if(!a[f])throw new Error("No component type named "+f);var g=d.invoke(a[f]);b[f]=g;var h=g.getDirectiveName();c[f]=e("<"+h+"></"+h+">")}return b[f]}function j(a,b,d){if(this._type=a,this._properties=b,this._page=d,c[a])this._linkFn=c[a];else{var f=g.camelToDash(this._type);this._linkFn=e("<"+f+' properties="_properties" page="_page"></'+f+">"),c[a]=this._linkFn}}return h.prototype={renderElement:function(a,b){var d=f.$new(!0);d.$component={data:this._data,config:this._config},c[this._type](d,function(a){b(a),a.on("$destroy",function(){d.$destroy()})})}},j.prototype={renderElement:function(a,b){if(!(b instanceof Function))throw new TypeError("renderElement must be passed a callback function as its first argument, this function is passed the cloned DOM template element that you must synchronously append to the DOM");a._properties=this._properties,a._page=this._page,this._linkFn(a,function(a){b(a)})}},{getComponent:function(a,b){var c=a.type;if(a.isCanvas)return new j(c,a,b);var d=this.getComponentData(a,b);return new h(c,a,d)},getComponentData:function(a,b){var c=i(a.type);return c.loadDataPreloaded(a,b,b.masterItem)}}}]}}),define("phxComponents/services/phxComponentUtil",[],function(){"use strict";return["phxCategorizr",function(a){return{canEnable:function(b){var c=!1,d=!1,e=a.getDeviceType(),f=a.getBreakpoint();if(b.device)for(var g in b.device)e===b.device[g]&&(d=!0);else d=!0;if(b.breakpoint)for(var h in b.breakpoint)f===b.breakpoint[h]&&(c=!0);else c=!0;return d&&c}}}]}),define("phxComponents/services/phxCardProvider",[],function(){"use strict";return["$injector","$compile","$rootScope","phxUtil","phxAdUtils",function(a,b,c,d,e){return{getStandardCard:function(a,b,c,d){var e={B:"S",C:"M",D:"L"};return{type:"phxStandardTileCard",background:b.tileBackground,size:e[c],orientation:"tile",inverted:b.background&&b.background.inverted&&!b.tileBackground,imageStyle:b.imageStyle?b.imageStyle:"landscape",slotPriority:d?d:["image","label","A","B","body"]}},getImageCard:function(a,b,c,d){var e={A:"hcard",B:"vcard-small",C:"vcard-medium",D:"vcard-large"};return{type:"phxImageTile",size:e.hasOwnProperty(c)?e[c]:"stretch",slotPriority:d?d:["image","label","A","B","body"]}},getListCard:function(a,b,c,d){var f={A:"XS",B:"S",C:"M",D:"L"};return{type:"phxListCard",imageStyle:b.imageStyle||"landscape",size:e.showAdTiles(b.ads)?"S8":f[c],inverted:b.background&&b.background.inverted,slots:"A"===c?4:6,slotPriority:d?d:["image","label","A","B","body"]}},getCard:function(a,b,c,d,e){var f={standard:this.getStandardCard,image:this.getImageCard,list:this.getListCard};return f.hasOwnProperty(a)||(console.error('An invalid card ("'+a+'") type was requested.'),a="standard"),angular.extend(f[a](b,c,d,e),{item:b,isCanvas:!0,meta:c.meta,promoted:b.isPromoted&&c.promoted?"promoted":""})}}}]}),define("phxComponents/services/phxComponentMetadata",[],function(){"use strict";return["$filter","$translate","Config","phxLiveDate","phxUtil",function(a,b,c,d,e){function f(a,c){function f(a){return a.socialProof&&a.socialProof.disqus}function g(a){return a.socialProof?b.instant("SHARES_LABEL",{COUNT:a.socialProof.aggregate}):void 0}var h={PublicationDate:{text:d.getDate(c.publicationTimestamp)},CommentsB:{glyph:"",text:f(c)},SharesA:{text:g(c)},SharesB:{glyph:"",text:g(c)},Teaser:{text:c.teaser},Title:{text:c.promoTitle||c.title},PromoImage:{src:c.featuredImage||c.primaryImage},Label:e.getLabelMetadataForItem(c)};return h[a]}function g(a,b){"Section"===a&&(a="Label");var c,d=p[b.objectType]||p.core;try{c=d(a,b)||p.core(a,b)}catch(e){try{c=p.core(a,b)}catch(f){throw new TypeError("We could not resolve that property from that content type: "+a+" || Original error: "+f.message)}}return c&&(c.key=a),c}function h(a,b,c){var d={},e=0;return a.forEach(function(a){b&&b[a]&&c>e&&(d[a]=b[a],e++)}),d}function i(a,b,c){var d={},e=function(a){return g(a,c)},f=function(a){return!!a};return b.forEach(function(b){Array.isArray(a[b])?(d[b]=a[b].map(e).filter(f),0===d[b].length&&delete d[b]):d[b]=g(a[b],c)}),d}function j(a,b,d,f){if(b&&Array.isArray(a)){var g=["header"],j={header:"Title"},k=angular.copy(c.componentSlotConfig[b.objectType]),l=e.stringArrayUnion(a,g);return k||console.error("No meta data slot configuration is defined for the "+b.objectType+' content type. Please make sure that that content type is been configured in the site\'s "componentSlotConfig" definition.'),d&&f&&(k=h(f,k,d)),k=angular.extend({},j,k),i(k,l,b)}}function k(a,b){p[a]=b}function l(b,c){function d(b){if(b.occupations){var c=a("phxDedupeRichTerms")(b.occupations);return c=c&&c.map(function(a){return a.displayName}),c=c.join(", "),{text:c}}}var e={Name:{text:c.promoTitle},Occupation:d(c),Lifespan:{text:"("+a("phxBirthDeathYears")([c.birthYear,c.deathYear,c.birthCirca,c.deathCirca,c.deathYearCe,c.deathYearCe]).replace("&ndash;","–")+")"}};return e[b]}function m(a,c){var d={Author:{text:c.author.title?b.instant("BYLINE_LABEL")+" "+c.author.title:"",href:c.author.path?c.author.path:!1}};return d[a]}function n(a,b){var c={Title:{text:b.promoTitle}};return c[a]}function o(b,c){var d={Rating:{text:c.contentRating?c.contentRating.toUpperCase():""},Duration:{text:a("phxDuration")(c.duration)},VideoSignifier:{src:"/assets-global/play-button-blk.svg"}};return d[b]}var p={core:f};return k("ContentPerson",l),k("ContentArticle",m),k("ContentRichTerm",n),k("ContentVideo",o),{_getDataFromItem:g,_filterSlots:h,getMetadata:j,registerContentType:k}}]}),define("phxComponents/services/phxStreamInjector",[],function(){"use strict";return[function(){function a(a,b){for(var c=new Array(b),d=-1;++d<b;)c[d]=angular.copy(a);return c}function b(a,b){return Math.ceil(a.length/b)}function c(a,b,c,d){var e,f=a?a.length:0,g=0,h=d-1,i=0,j=0,k=[];for(b=[].concat(b);f>g;){if(i>=b.length&&(i=0),e=c&&0===g?c:b[i],j===h){k[j]=a.slice(g,a.length);break}k[j]=a.slice(g,g+=e),i++,j++}return k}function d(a,b,c){var d=a.slice(),e=c.frequency,f=c.restrictSize!==!1,g=c.offset||c.frequency,h=g-1;return b.forEach(function(a){d.splice(h,0,a),f&&d.pop(),h+=e}),d}function e(a,b,d,e){if(e=e||d+1,a.length<d)return a;var f=c(a,d),g=[];return f.forEach(function(a,c){var d=b[c],h=c>=f.length-1;d&&!h&&(d=[].concat(d),d=d.reverse(),d.forEach(function(b){a.splice(e-1,0,b)})),g=g.concat(a)}),g}function f(c,e,f){var g=b(c,f.frequency),h=a(e,g);return d(c,h,f)}function g(a,b,c){var d,e,f,g=-1,h=[];for(b&&(f={type:"phxAdaptiveAdComponent",isCanvas:!0});++g<c;)d=a&&a[g],e=angular.copy(f),(d||e)&&(h[g]=[].concat(d||[]).concat(e||[]));return h}function h(a,b,c){var d=g(b,c,a.length);return e(a,d,1)}function i(a,c,d,e){var f,g=b(a,c);return e?g:d?(f=d.length+1,f>g?g:f):1}function j(a){return"undefined"!=typeof a?a.filter(function(a){return a.hasOwnProperty("collection")&&a.collection.items.length>0||!a.hasOwnProperty("collection")?a:void 0}):void 0}return{insert:d,inject:e,createInjections:g,insertInlineAds:f,injectComponents:h,getNumberOfComponentGroups:i,getInjectableComponents:j,_duplicate:a,chunk:c}}]}),define("phxComponents/directives/phxComponent",[],function(){"use strict";return["phxComponent",function(a){return{restrict:"EA",scope:{type:"=",properties:"="},compile:function(b){return function(b,c,d){c.empty();var e=b.properties,f=a.getComponent(e,null);f.renderElement(b,function(a){c.append(a)})}}}}]}),define("phxComponents/directives/phxComponentStacking",[],function(){"use strict";return["$timeout",function(a){return{restrict:"A",link:function(b,c,d){var e=b.properties,f=b.$eval(d.phxComponentStacking)||{},g="m-component-stack";c.addClass(g),a(function(){0===angular.element(c).parents("."+g).length&&c.addClass("m"+g+"--is-stacked")},500),f.hasOwnProperty("isCondensed")&&f.isCondensed&&c.addClass("m"+g+"--condensed"),e.fullbleed&&c.addClass("m"+g+"--fullbleed"),e.header&&c.addClass("m"+g+"--has-header"),e.divider&&c.addClass("m"+g+"--has-divider"),e.footer&&c.addClass("m"+g+"--has-footer"),e.background&&c.addClass("m"+g+"--has-background")}}}]}),define("phxComponents/directives/phxComponentBackground",[],function(){"use strict";return[function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.phxComponentBackground),e={fit:"contain",fill:"cover",auto:"auto"};if(d&&d.style){var f={};d.style.color&&(f["background-color"]=d.style.color),d.style.imageUrl&&(f["background-image"]="url("+d.style.imageUrl+")"),d.style.repeat&&(f["background-repeat"]=d.style.repeat),d.style.size&&e.hasOwnProperty(d.style.size)&&(f["background-size"]=e[d.style.size]),angular.extend(b[0].style,f)}}}}]}),define("phxComponents/module",["phxComponents/services/phxComponentProvider","phxComponents/services/phxComponentUtil","phxComponents/services/phxCardProvider","phxComponents/services/phxComponentMetadata","phxComponents/services/phxStreamInjector","phxComponents/directives/phxComponent","phxComponents/directives/phxComponentStacking","phxComponents/directives/phxComponentBackground"],function(a,b,c,d,e,f,g,h){"use strict";return angular.module("phxComponents",[]).provider("phxComponent",a).service("phxComponentUtil",b).service("phxCardProvider",c).factory("phxComponentMetadata",d).factory("phxStreamInjector",e).directive("phxComponent",f).directive("phxComponentStacking",g).directive("phxComponentBackground",h)}),define("phxComponentDetail/services/phxComponentDetail",[],function(){"use strict";return["Config","$q","phxContentApi","phxReadingListUtil",function(a,b,c,d){return{loadDataPreloaded:function(b,e,f){var g=b.readingList?angular.extend({},b.readingList,a.readingList):a.readingList;return e.readingList=g&&d.showReadingList(f)?{heading:g.heading,dataPromise:c.getReadingList(f.objectType,g.numberOfItems).then(function(a){return d.prepareItems(a.items)})}:null,{item:f}},getDirectiveName:function(){return"phx-component-detail"}}}]}),define("text!phxComponentDetail/html/phxComponentDetail.html",[],function(){return'<section ng-class="[htmlClasses, item.objectType, \'m-component-detail\']" >\n    <article phx-content-item="item" phx-display-mode="full" ng-class="[htmlClasses, \'l-full-width\', \'l-story_full\']"></article>\n</section>\n'}),define("phxComponentDetail/module",["phxComponentDetail/services/phxComponentDetail","text!phxComponentDetail/html/phxComponentDetail.html"],function(a,b){"use strict";return angular.module("phxComponentDetail",[]).config(["phxComponentProvider",function(b){b.register("detail",a)}]).directive("phxComponentDetail",["Config","phxFragmentUrl","phxUtil","$location","$rootScope",function(a,c,d,e,f){return{restrict:"E",replace:!0,template:b,require:"^phxPage",link:function(b,e,g,h){var i=h.page;i.addPageClass("mm-detail");var j=b.$component,k=j.config,l=j.data;if(b.htmlClasses=k.htmlClasses,k.ads===!0){b.ads=!0;var m="50%";angular.isDefined(a.ad)&&angular.isDefined(a.ad.positions)&&(m=a.ad.positions.detail),b.adPosition=m}if(l&&l.item){if(b.item=l.item,"ContentArticle"===b.item.objectType){var n=d.getDisplayTypeForItem(b.item);b.displayType=n,h.page.addPageClass("mm-"+n)}else b.displayType=l.item.objectType;b.item.sponsorship=i.sponsorship||{},c.scrollIfHashThenBind(b),f.$broadcast("phxContentDetailLoaded")}}}}])}),define("phxComponentContentFeed/services/phxComponentContentFeed",[],function(){"use strict";return["$q","phxComponentUtil","phxCards","phxComponent","phxSponsorships",function(a,b,c,d,e){return{loadDataPreloaded:function(a,b,e){if(a.collection&&a.collection.items){var f=a.insertions;return f&&(f=this._processInsertions(f,a.adSection,e),f=this._filterDisabledInsertions(f),f.forEach(function(a){if(a.cardData&&a.cardData.componentType&&a.cardData.componentConfig){var c=d.getComponentData(a.cardData.componentConfig,b);void 0===c&&(a.cardTypeCode="hidden"),a.cardData.componentData=c}})),{cards:new c.cards(a.collection,f,a.cardOverrides)}}throw new Error("Invalid collection definition")},_processInsertions:function(a,b,c){if(a&&b&&c){if("ContentSection"!==c.objectType)return a;if(c.slug!==b)return a;e.getSponsorshipForContentItem(c)&&(a=a.filter(function(a){return"advertising"!==a.cardContents||"standard"!==a.cardTypeCode&&"generic"!==a.cardTypeCode}))}return a},_filterDisabledInsertions:function(a){return a&&(a=a.filter(function(a){return!a.hasOwnProperty("enabledOn")||b.canEnable(a.enabledOn)})),a},getDirectiveName:function(){return"phx-component-content-feed"}}}]}),define("text!phxComponentContentFeed/html/phxComponentContentFeed.html",[],function(){return'<section ng-class="[htmlClasses, \'m-feed\']" phx-track-id="hub">\n    <!-- Wrapper to set feed width while leaving background color 100% width-->\n    <div ng-class="[\'l-feed_tile\']">\n\n    <div class="m-sponsor--section-sponsor" ng-if="cards.cards.length > 0">\n        <h2 class="l-feed--hed" phx-skin-bgimg="heading"></h2>\n    </div>\n\n    <div class="l-feed--grid infinity_scroll hub-articles">\n        <phx-card ng-repeat="card in cards.cards track by card.id" did="{{card.id}}" phx-track-id="Item" card="card"></phx-card>\n    </div>\n\n    <div class="m-feed--loader" ng-show="cards.streamer.hasMoreItems || loading" ng-click="cards.streamer.loadMoreItems()" phx-track-event phx-track-id="load more">\n        <div ng-show="loading" translate="FEED_LOADING"></div>\n        <div id="feed-loader-prompt" ng-show="!loading && cards.streamer.hasMoreItems" translate="FEED_MORE"></div>\n    </div>\n\n    </div>\n\n    </div>\n</section>\n'}),define("phxComponentContentFeed/module",["phxComponentContentFeed/services/phxComponentContentFeed","text!phxComponentContentFeed/html/phxComponentContentFeed.html"],function(a,b){"use strict";return angular.module("phxComponentContentFeed",[]).config(["phxComponentProvider",function(b){b.register("contentFeed",a)}]).directive("phxComponentContentFeed",["phxCards","Config","phxUtil","$location","cstLogger",function(a,c,d,e,f){function g(b){var d=a.numColumns(),e=c.ad&&c.ad.positions&&c.ad.positions.hub&&c.ad.positions.hub[d]||3;return b.getCardIndexForRow(e)}return{restrict:"E",replace:!0,template:b,link:function(a){var b=a.$component,c=b.config,d=b.data;a.htmlClasses=c.htmlClasses,a.heading=c.heading,a.insertions=c.insertions,a.isMaster=c.isMaster,c.ads===!0&&(a.ads=!0,c.hasOwnProperty("adSection")&&(a.adSection=c.adSection)),d&&d.cards&&(a.cards=d.cards,a.cards.streamer.watchLoading(function(b){a.loading=b}),a.loadData=d.loadData,a.ads&&(a.adPosition=g(a.cards),a.$on("breakpoint",function(b,c,d){a.adPosition=g(a.cards)}),a.cards.streamer.watchMoreItems(function(){a.adPosition=g(a.cards)})))}}}])}),define("phxComponentContentStrip/services/phxComponentContentStrip",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{streamer:a.collection}},getDirectiveName:function(){return"phx-component-content-strip"}}}]}),define("text!phxCards/html/phxCollectionCard.html",[],function(){return'<div class="m-compilation">\n    <h1 class="m-compilation--hed" phx-skin-bgimg="heading"></h1>\n    <div class="m-compilation--content">\n        <article ng-repeat="item in streamer.items track by $index" phx-content-item="item" phx-track-id="Item" data-pin-no-hover="true" phx-primary-image-profile="contentStrip" phx-display-mode="strip"></article>\n    </div>\n</div>\n'}),define("phxComponentContentStrip/module",["phxComponentContentStrip/services/phxComponentContentStrip","text!phxCards/html/phxCollectionCard.html"],function(a,b){"use strict";return angular.module("phxComponentContentStrip",[]).config(["phxComponentProvider",function(b){b.register("contentStrip",a)}]).directive("phxComponentContentStrip",function(){return{restrict:"E",replace:!0,template:"<div ng-class=\"[htmlClasses, 'l-full']\">"+b+"</div>",link:function(a){var b=a.$component,c=b.config,d=b.data;a.htmlClasses=c.htmlClasses,a.heading=c.heading,d&&d.streamer&&(a.streamer=d.streamer)}}})}),define("phxComponentError/services/phxComponentError",[],function(){"use strict";return["$q",function(a){return{loadDataPreloaded:function(a,b,c){return{}},getDirectiveName:function(){return"phx-component-error"}}}]}),define("text!phxComponentError/html/phxComponentError.html",[],function(){return'<div class="l-full-width m-fourohfour" phx-track-id="{{trackId}}">\n<!-- TODO: Use \'application error\' specific styling instead of 404 styling -->\n\n    <div class="m-fourohfour--content">\n        <h1 class="m-fourohfour--hed">{{header}}</h1>\n        <h2 class="m-fourohfour--subhed">{{subheader}}</h2>\n\n        <div class="m-fourohfour--cta" ng-switch="errorCode">\n            <p ng-switch-when="500">Sorry, something is amiss. Please <a href="" ng-click="reload()">reload the page</a> to try again. If this error persists, please email <a href="mailto:{{$root.config.siteEmail}}">{{$root.config.siteEmail}}</a>.</p>\n\n            <p ng-switch-when="503">It looks like you can\'t access some of the data needed to view this site. Often this is because the institution where this site is being accessed is blocking unrecognized domain names. If <a href =""ng-click="reload()">reloading the page</a> does not fix this error, please notify your IT department and contact <a href="mailto:{{$root.config.siteEmail}}">{{$root.config.siteEmail}}</a> if you have any further questions.</p>\n\n            <p ng-switch-when="403">Sorry, you do not appear to have permission to view this page. This may be related to your firewall/security restrictions or a preview link that has expired. If this error persists, please email <a href="mailto:{{$root.config.siteEmail}}">{{$root.config.siteEmail}}</a>.</p>\n\n\n            <div ng-switch-when="404">\n                <p><a href="/" phx-track-event phx-track-id="Home Link">{{$root.config.siteUrl}}</a></p>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("phxComponentError/module",["phxComponentError/services/phxComponentError","text!phxComponentError/html/phxComponentError.html"],function(a,b){"use strict";return angular.module("phxComponentError",[]).config(["phxComponentProvider",function(b){b.register("error",a)}]).directive("phxComponentError",["Config","$rootScope","$location","$log","cstLogger","phxUtil","$window",function(a,c,d,e,f,g,h){return{restrict:"E",replace:!0,template:b,link:function(b,c,e){var i=b.$component,j=i.config;switch(b.errorCode=j.code,b.reload=function(){h.location.reload()},j.code){case 404:b.trackId="Page Not Found",b.header=a.fourohfour.title,b.subheader=a.fourohfour.msg,f.error("Content Not Found: "+a.siteUrl.replace(/\/$/,"")+(d.hasOwnProperty("url")?d.url():d.path())),b.changeQuery=function(a){g.gotoSearchPage(a)};break;case 500:b.trackId="Application Error",b.header="Yikes! An error";break;case 503:b.trackId="Firewalled",b.header="Zoinks! There's a problem";break;case 403:b.trackId="Permission Denied",b.header="Permission Denied"}}}}])}),define("phxComponentHero/services/phxComponentHero",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{item:a.item}},getDirectiveName:function(){return"phx-component-hero"}}}]}),define("text!phxComponentHero/html/phxComponentHero.html",[],function(){return'<div ng-if="item" ng-class="[htmlClasses, \'l-full\', \'m-card_image\', \'l-feed_hero\']">\n    <article phx-content-item="item" phx-track-id="Item"  phx-track-id="Hero" phx-primary-image-profile="tripleImageCard"></article>\n</div>\n'}),define("phxComponentHero/module",["phxComponentHero/services/phxComponentHero","text!phxComponentHero/html/phxComponentHero.html"],function(a,b){"use strict";return angular.module("phxComponentHero",[]).config(["phxComponentProvider",function(b){b.register("hero",a)}]).directive("phxComponentHero",function(){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var d=a.$component,e=d.data;a.htmlClasses=d.config.htmlClasses,e&&e.item&&(a.item=e.item)}}})}),define("phxComponentSubHero/services/phxComponentSubHero",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{streamer:a.collection}},getDirectiveName:function(){return"phx-component-sub-hero"}}}]}),define("text!phxComponentSubHero/html/phxComponentSubHero.html",[],function(){return'<section ng-class="[htmlClasses, \'l-feed_subheroes\', \'l-feed--grid\']" phx-track-id="Sub Hero">\n    <div ng-repeat="item in streamer.items track by $index" class="l-double m-card_image mm-side-by-side">\n        <article  phx-content-item="item" phx-track-id="Item" phx-primary-image-profile="doubleSideBySideImageCard"></article>\n    </div>\n</section>\n'}),define("phxComponentSubHero/module",["phxComponentSubHero/services/phxComponentSubHero","text!phxComponentSubHero/html/phxComponentSubHero.html"],function(a,b){"use strict";return angular.module("phxComponentSubHero",[]).config(["phxComponentProvider",function(b){b.register("subhero",a)}]).directive("phxComponentSubHero",function(){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var d=a.$component,e=d.data;a.htmlClasses=d.config.htmlClasses,e&&e.streamer&&(a.streamer=e.streamer)}}})}),define("phxComponentSectionHeader/services/phxComponentSectionHeader",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{item:this._augmentSection(c)}},_augmentSection:function(a){return angular.extend(a,{objectType:"ContentSection",_viewMeta:{title:a.metaTitle||a.displayName,description:a.metaDescription||a.displayName,canonicalPath:a.path,slug:a.slug},imageUrl:a.imageUrl||a.sectionImage})},getDirectiveName:function(){return"phx-component-section-header"}}}]}),define("text!phxComponentSectionHeader/html/phxComponentSectionHeader.html",[],function(){return'<div>\n    <section ng-class="[htmlClasses, \'m-hero_section\', \'section-\' + section.slug]" phx-track-id="Hero" class="m-hero--content" ng-style="{\'background-image\': section.imageUrl ? \'url(\'+section.imageUrl+\')\' : \'\'}">\n        <h1 ng-class="\'m-hero--hed\' + (section.imageUrl ? \' mm-has-bg-img\' : \'\')" phx-skin-bgimg="section.hero.heading" ng-if="section.hero.heading"></h1>\n        <h1 class="m-hero--hed" ng-show="section.displayName" ng-if="!section.hero.heading"><a href="" phx-html="section.displayName"></a></h1>\n        <div class="m-hero--description" ng-show="section.overviewTml" phx-html="section.overviewTml"></div>\n    </section>\n    <section class="m-hero--sponsorship" ng-if="sponsorship.sectionBrandingBadge">\n        <phx-branding-badge badge="sponsorship.sectionBrandingBadge"></phx-branding-badge>\n    </section>\n</div>\n'}),define("phxComponentSectionHeader/module",["phxComponentSectionHeader/services/phxComponentSectionHeader","text!phxComponentSectionHeader/html/phxComponentSectionHeader.html"],function(a,b){"use strict";return angular.module("phxComponentSectionHeader",[]).config(["phxComponentProvider",function(b){b.register("sectionHeader",a)}]).directive("phxComponentSectionHeader",function(){return{restrict:"E",replace:!0,template:b,require:"^phxPage",link:function(a,b,c,d){var e=d.page,f=a.$component,g=f.data;a.htmlClasses=f.config.htmlClasses,a.isMaster=f.config.isMaster,a.sponsorship=e.sponsorship||{},g&&(a.section=g.item||{})}}})}),define("phxComponentAuthorHeader/services/phxComponentAuthorHeader",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{item:c}},getDirectiveName:function(){return"phx-component-author-header"}}}]}),define("text!phxComponentAuthorHeader/html/phxComponentAuthorHeader.html",[],function(){return'<section ng-class="[htmlClasses, \'m-author_hub\']">\n    <h1 class="m-author--hed">{{author.title}}\n    </h1>\n    <div class="m-author--image" ng-if="author.photo"><img ng-cloak class="ng-cloak" ng-src="{{author.photo|phxImageUrl:\'userProfilePrimaryImage\'}}" alt="{{author.title}}" /></div>\n    <div class="m-author--description" ng-show="author.bio" phx-tml="author.bio"></div>\n    <div class="m-author--meta">\n        <dl>\n            <dt>Avatar:</dt>\n                <dd ng-show="author.photo" class="m-author--image"><img ng-src="{{author.photo|phxImageUrl:\'userProfilePrimaryImage\'}}" alt="{{author.title}}" /></dd>\n            <dt>Author:</dt>\n                <dd ng-show="author.twitterUsername || author.gplusProfileUrl || author.facebookProfileUrl || author.linkedinProfileUrl || author.pinterestProfileUrl || author.instagramProfileUrl" class="m-author--name">Follow\n                this author\n                </dd>\n            <dt ng-if="author.twitterUsername">Twitter:</dt>\n                <dd ng-if="author.twitterUsername"><a ng-href="http://twitter.com/{{author.twitterUsername}}" class="m-follow_twitter" phx-track-event phx-track-id="Twitter Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.gplusProfileUrl"></dt>\n                <dd ng-if="author.gplusProfileUrl"><a ng-href="{{author.gplusProfileUrl}}" class="m-follow_gplus" phx-track-event phx-track-id="Google Plus Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.facebookProfileUrl">:</dt>\n                <dd ng-if="author.facebookProfileUrl"><a ng-href="{{author.facebookProfileUrl}}" class="m-follow_facebook" phx-track-event phx-track-id="Facebook Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.linkedinProfileUrl"></dt>\n                <dd ng-if="author.linkedinProfileUrl"><a ng-href="{{author.linkedinProfileUrl}}" class="m-follow_linkedin" phx-track-event phx-track-id="Linkedin Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.pinterestProfileUrl"></dt>\n                <dd ng-if="author.pinterestProfileUrl"><a ng-href="{{author.pinterestProfileUrl}}" class="m-follow_pinterest" phx-track-event phx-track-id="Pinterest Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.instagramProfileUrl"></dt>\n                <dd ng-if="author.instagramProfileUrl"><a ng-href="{{author.instagramProfileUrl}}" class="m-follow_instagram" phx-track-event phx-track-id="Instagram Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.website"></dt>\n                <dd ng-if="author.website"><a ng-href="{{author.website}}" class="m-follow_web" phx-track-event phx-track-id="Website Follow" rel="me" target="blank"></a></dd>\n        </dl>\n    </div>\n</section>\n'}),define("phxComponentAuthorHeader/module",["phxComponentAuthorHeader/services/phxComponentAuthorHeader","text!phxComponentAuthorHeader/html/phxComponentAuthorHeader.html"],function(a,b){
"use strict";return angular.module("phxComponentAuthorHeader",[]).config(["phxComponentProvider",function(b){b.register("authorHeader",a)}]).directive("phxComponentAuthorHeader",function(){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var d=a.$component,e=d.data;a.htmlClasses=d.config.htmlClasses,e&&e.item&&(a.author=e.item)}}})}),define("phxComponentStaticHeader/services/phxComponentStaticHeader",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return!0},getDirectiveName:function(){return"phx-component-static-header"}}}]}),define("text!phxComponentStaticHeader/html/phxComponentStaticHeader.html",[],function(){return"<section ng-class=\"[htmlClasses, 'm-hero_' + heroType]\" phx-track-id=\"Hero\">\n    <div class=\"m-hero--content\" ng-style=\"{'background-image': imageUrl ? 'url('+imageUrl+')' : ''}\">\n        <h1 ng-class=\"'m-hero--hed' + (imageUrl ? ' mm-has-bg-img' : '')\" phx-skin-bgimg=\"heading\"></h1>\n    </div>\n</section>\n"}),define("phxComponentStaticHeader/module",["phxComponentStaticHeader/services/phxComponentStaticHeader","text!phxComponentStaticHeader/html/phxComponentStaticHeader.html"],function(a,b){"use strict";return angular.module("phxComponentStaticHeader",[]).config(["phxComponentProvider",function(b){b.register("staticHeader",a)}]).directive("phxComponentStaticHeader",function(){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var d=a.$component,e=d.config;a.htmlClasses=e.htmlClasses,a.heroType=e.heroType,a.heading=e.heading,a.imageUrl=e.imageUrl}}})}),define("phxComponentItemComments/services/phxComponentItemComments",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return{item:c}},getDirectiveName:function(){return"phx-component-item-comments"}}}]}),define("text!phxComponentItemComments/html/phxComponentItemComments.html",[],function(){return'<section id="comments" ng-class="[htmlClasses, \'m-comments\']">\n    <div class="m-comments--content l-full-width" ng-if="item.commentsEnabled === null || item.commentsEnabled===true" phx-disqus-thread disqus-title="{{item.disqusTitle}}" disqus-identifier="{{item.disqusIdentifier}}" disqus-url="{{\'http://\' + $root.config.siteProductionDomain + item.path}}" disqus-shortname="{{$root.config.disqus.shortname}}"></div>\n</section>\n'}),define("phxComponentItemComments/module",["phxComponentItemComments/services/phxComponentItemComments","text!phxComponentItemComments/html/phxComponentItemComments.html"],function(a,b){"use strict";return angular.module("phxComponentItemComments",[]).config(["phxComponentProvider",function(b){b.register("itemComments",a)}]).directive("phxComponentItemComments",function(){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var d=a.$component,e=d.data;a.htmlClasses=d.config.htmlClasses,e&&e.item&&(a.item=e.item)}}})}),define("phxComponentSearch/services/phxComponentSearch",[],function(){"use strict";return[function(){return{loadDataPreloaded:function(a,b,c){return!0},getDirectiveName:function(){return"phx-component-search"}}}]}),define("text!phxComponentSearch/html/phxComponentSearch.html",[],function(){return'<section ng-class="[htmlClasses, \'m-search-entry\']">\n    <h1 class="m-search-entry--hed" phx-skin-bgimg="heading"></h1>\n    <form ng-submit class="m-search-entry--fields ng-pristine ng-valid" phx-track-id="Search Form">\n        <input class="m-search-entry--input ng-pristine ng-valid" type="search" placeholder="{{placeHolder}}" ng-model="searchkeyword" ng-keypress="keywordSearchOnKeypress($event)">\n        <button class="m-search-entry--submit ng-binding" ng-click="keywordSearch()">{{buttonText}}</button>\n    </form>\n</section>\n'}),define("phxComponentSearch/module",["phxComponentSearch/services/phxComponentSearch","text!phxComponentSearch/html/phxComponentSearch.html"],function(a,b){"use strict";return angular.module("phxComponentSearch",[]).config(["phxComponentProvider",function(b){b.register("search",a)}]).directive("phxComponentSearch",["$location","$http","$translate","phxUtil",function(a,c,d,e){return{restrict:"E",replace:!0,template:b,link:function(a,b,c){var f=a.$component,g=f.config;a.heading=g.heading,a.htmlClasses=g.htmlClasses,a.buttonText=g.buttonText,a.placeHolder=g.placeHolder||d.instant("SEARCH_PLACEHOLDER"),a.searchkeyword=g.searchQuery,a.keywordSearchOnKeypress=function(b){13===b.which&&a.keywordSearch()},a.keywordSearch=function(){e.gotoSearchPage(a.searchkeyword,g.searchPath)}}}}])}),define("phxComponentsCore/ddo",[],function(){"use strict";return function(a,b){return function(){return{restrict:"E",template:b,controller:a+"Ctrl as "+a+"Ctrl",scope:{properties:"=",page:"="},replace:!0}}}}),define("text!phxComponentsCore/components/phxComponentDocumenter/phxJsonDocTable.html",[],function(){return'<table class="m-component-documenter--doc-properties">\n    <thead>\n        <tr class="m-component-documenter--doc-properties-details">\n            <th>Property</th>\n            <th>Description</th>\n            <th>Value</th>\n        </tr>\n    </thead>\n    <tbody ng-repeat="(key, property) in schema.properties" ng-if="property.isConfigurable !== false">\n        <tr class="m-component-documenter--doc-properties-details">\n            <td>{{key}}</td>\n            <td>\n                <span ng-bind-html="property.description"></span>\n                <ul ng-if="property.enum" class="m-component-documenter--options">\n                    <li ng-repeat="item in property.enum">{{item}}</li>\n                </ul>\n            </td>\n            <td ng-switch="property.type">\n                <a ng-click="showPropertyDetails(property, $event)" ng-switch-when="object">{{property.title || \'Object\'}}</a>\n                <span ng-switch-when="array">\n                    {{property.type}} (<span ng-if="property.items && property.items.type !== \'object\'">{{property.items.type}}</span><a ng-click="showPropertyDetails(property.items, $event)" ng-if="property.items.type === \'object\'">{{property.items.title || property.items.type || \'object\'}}</a>)\n                </span>\n                <span ng-switch-default>{{property.type}}</span>\n            </td>\n        </tr>\n        <tr class="m-component-documenter--doc-properties-related" ng-show="property.showDetails || property.items.showDetails" ng-if="property.type === \'object\' || property.enum || (property.type === \'array\' && property.items)">\n            <td>&nbsp;</td>\n            <td colspan="2"></td>\n        </tr>\n    </tbody>\n</table>\n'}),define("phxComponentsCore/components/phxComponentDocumenter/phxJsonDocTable",["text!phxComponentsCore/components/phxComponentDocumenter/phxJsonDocTable.html"],function(a){"use strict";return["$rootScope","$compile",function(b,c){return{restrict:"E",template:a,scope:{schema:"="},link:function(b,d,e){b.showPropertyDetails=function(d,e){d.showDetails=!d.showDetails;var f=angular.element(e.target).closest("tr").next().children().eq(1).empty();if("object"===d.type&&d.properties){var g=b.$new();g.schema=d;var h=c(a)(g);f.append(h)}else if(d["enum"]){var i=angular.element("<ul></ul>");angular.forEach(d["enum"],function(a){i.append(angular.element("<li></li>").text(a))}),f.append(i)}}}}}]}),define("text!phxComponentsCore/components/phxStandardTileCard/template.html",[],function(){return'<article role="article" class="m-standard-card--container" ng-class="[orientation, imageStyle, inverted, size]" >\n\n    <div class="m-standard-card--image" ng-class="::[ transparent, imageStyle, size ]" ng-if="::meta.image.src" phx-super-link="{{ :: item.path }}">\n        <a phx-track-event phx-track-id="Image" ng-attr-rel="{{::relAttr}}" ng-href="{{ :: item.path }}" target="{{ :: properties.isExternalLink ? \'_blank\' : \'_self\'}}">\n            <div nopin="true" class="m-standard-card--image-container" ng-class="::[ imageStyle ]" phx-image="::meta.image.src">\n            </div>\n        </a>\n        <!-- meta signifier -->\n        <img ng-src="{{ ::meta.signifier.src }}" ng-if="meta.signifier" class="m-meta-signifier mm-meta-signifier--bottom-right" ng-class="{\'mm-meta-signifier--large\': properties.largeSignifier}">\n    </div>\n\n    <div class="m-standard-card--content" phx-component-background="background" ng-class="[ transparent, inverted ]">\n\n        <div class="m-standard-card--label" ng-class="[size, orientation ]" ng-if="meta.label">\n            <a ng-if="::meta.label.href" ng-href="{{ ::meta.label.href }}" phx-track-event phx-track-id="{{::meta.label.key}}">\n                {{ ::meta.label.text }}\n            </a>\n            <span ng-if="::!meta.label.href">\n                {{ ::meta.label.text }}\n            </span>\n        </div>\n\n        <!-- Header -->\n\n        <a phx-track-event phx-track-id="Title" ng-attr-rel="{{::relAttr}}" ng-href="{{ :: item.path }}" target="{{ :: properties.isExternalLink ? \'_blank\' : \'_self\'}}">\n            <h2 role="heading" class="m-standard-card--header" ng-class="[size, orientation]" phx-ellipsis max-number-of-lines="properties.maxNumberOfLines.title">\n                {{ ::meta.header.text }}\n            </h2>\n        </a>\n\n        <!-- Body -->\n        <p class="m-standard-card--body" ng-class="[size, orientation ]" ng-if="::meta.body.text" phx-ellipsis max-number-of-lines="properties.maxNumberOfLines.teaser">\n            {{ ::meta.body.text }}\n        </p>\n\n        <ul role="list" ng-if="::meta.A || meta.B">\n            <!-- metadata Slot A -->\n            <li role="listitem" class="m-standard-card--metadata_A" ng-class="[size, orientation]" ng-if="::meta.A">\n                <div ng-repeat="data in ::meta.A" ng-if="data.text">\n                    <a ng-if="::data.href" ng-href="{{ ::data.href }}" phx-track-event phx-track-id="SectionKey">\n                        {{ ::data.text }}\n                    </a>\n                    <span ng-if="::!data.href">\n                        {{ ::data.text }}\n                    </span>\n                </div>\n            </li>\n\n            <!-- metadata Slot B -->\n            <li role="listitem" class="m-standard-card--metadata_B" ng-class="[size, orientation]" ng-if="::meta.B">\n                <span ng-repeat="data in ::meta.B">\n                    <span class="m-standard-card--metadata_B l-glyph" ng-if="data.glyph"> {{ ::data.glyph }}  </span>\n                    <span class="m-standard-card--metadata_B l-text">{{ ::data.text }}</span>\n                </span>\n            </li>\n        </ul>\n    </div>\n</article>\n'}),define("phxComponentsCore/components/phxStandardTileCard/controller",[],function(){"use strict";return["$scope","phxComponentMetadata",function(a,b){var c=a.properties,d=c.item,e=c.slotPriority||["header","image","signifier","body","label","A","B"],f=c.slots||6;a.item=d,a.meta=b.getMetadata(c.meta,d,f,e),a.background=c.background,a.inverted=c.inverted||c.background&&c.background.inverted?"mm-standard-card--inverted":"",a.transparent=c.background&&c.background.style?"":"mm-standard-card--tile-is-transparent";var g={XS:"mm-standard-card--extra-small",S:"mm-standard-card--small",M:"mm-standard-card--medium",L:"mm-standard-card--large",promoted:"mm-standard-card--promoted",inverted:"mm-standard-card--inverted",landscape:"mm-standard-card--landscape",portrait:"mm-standard-card--portrait",square:"mm-standard-card--square",round:"mm-standard-card--round",textonly:"mm-standard-card--text-only",tile:"mm-standard-card--tile",hero:"mm-standard-card--hero"};a.$watch("properties",function(b){a.size=g[a.properties.size],a.orientation=g[a.properties.orientation],a.imageStyle=g[a.properties.imageStyle],a.relAttr=a.properties.item.opportunityLineItemId?"nofollow":""});var h=a.$watchCollection("properties.item",function(g,h){g!==h&&(a.meta=b.getMetadata(c.meta,d,f,e))});a.$on("$destroy",function(){h()})}]}),define("text!phxComponentsCore/components/phxImageHero/template.html",[],function(){return'<section ng-show="item" phx-component-background="properties.background" phx-component-stacking="" ng-style="backgroundStyle">\n\n    <div class="m-image-hero" ng-class="[tileBackground, bleed]">\n\n        <div class="m-image-hero--image" ng-class="bleed" phx-image="meta.image.src"  phx-super-link="{{item.path}}">\n            <div class="m-image-hero--overlay"></div>\n            <div class="m-image-hero--aspect-ratio-wrapper">\n                <div class="m-image-hero--aspect-ratio-pusher">\n                </div>\n            </div>\n\n            <div class="m-image-hero--container" ng-class="bleed">\n                <div class="m-image-hero--label" ng-class="[tileBackground, bleed]">\n                    <!-- metadata Slot C -->\n                    <div class="m-image-hero--metadata_label" ng-if="meta.label">\n                        <a ng-if="meta.label.href" ng-href="{{ meta.label.href }}" phx-track-event phx-track-id="{{meta.label.key}}" phx-text-color>\n                            {{ ::meta.label.text }}\n                        </a>\n                        <span ng-if="!meta.label.href">\n                            {{ ::meta.label.text }}\n                        </span>\n                    </div>\n                </div>\n\n                <div class="m-image-hero--text-panel" ng-class="bleed" phx-component-background="properties.tileBackground">\n\n                    <!-- meta signifier -->\n                    <img class="m-meta-signifier mm-meta-signifier--large" ng-src="{{ ::meta.signifier.src }}" ng-if="meta.signifier">\n\n                    <!-- Header -->\n                    <a ng-href="{{item.path}}" phx-track-event phx-track-id="Title">\n                        <h2 class="m-image-hero--header" ng-class="[tileBackground, bleed]">\n                            <span phx-ellipsis max-number-of-lines="properties.maxNumberOfLines.title">\n                                {{ ::meta.header.text }}\n                            </span>\n                        </h2>\n                    </a>\n\n                    <!-- Body -->\n                    <p class="m-image-hero--body" ng-if="meta.body" phx-ellipsis max-number-of-lines="properties.maxNumberOfLines.teaser">\n                        {{ meta.body.text }}\n                    </p>\n\n                    <ul class="m-image-hero--metadata" role="list" ng-if="::meta.A || meta.B">\n                        <!-- metadata Slot A -->\n                        <li role="listitem" class="m-image-hero--metadata_A" ng-if="::meta.A">\n                            <span ng-repeat="data in meta.A">\n                                {{ data.text }}\n                            </span>\n                        </li>\n\n                        <!-- metadata Slot B -->\n                        <li role="listitem" class="m-image-hero--metadata_B" ng-if="::meta.B">\n                            <span ng-repeat="data in meta.B">\n                                <span class="glyph" ng-if="data.glyph"> {{ data.glyph }}  </span>\n                                <span class="text">{{ data.text }}</span>\n                            </span>\n                        </li>\n                    <ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxImageHero/controller",[],function(){"use strict";return["$scope","$filter","Config","phxComponentMetadata","$element","phxResponsiveSize",function(a,b,c,d,e,f){var g={"default":{ellipsis:{title:4,teaser:4}},A:{ellipsis:{title:3,teaser:4}}},h=g[f.getName()]||g["default"];a.properties.maxNumberOfLines=h.ellipsis,a.properties.collection.items.length>0&&(a.item=a.properties.collection.items[0]),a.meta=d.getMetadata(a.properties.meta,a.item),a.tileBackground=a.properties.tileBackground?"mm-image-hero--tile-background":"mm-image-hero--no-background",a.bleed=a.properties.fullbleed===!0?"mm-image-hero--full-bleed":"";var i=a.$watchCollection("item",function(b,c){b!==c&&(a.meta=d.getMetadata(a.properties.meta,a.item))});a.$on("$destroy",function(){i()})}]}),define("text!phxComponentsCore/components/phxImageTile/template.html",[],function(){return'<article role="article" class="m-image-tile" ng-class="[size]" phx-super-link="{{ :: properties.item.path }}">\n    <!-- We need this outer wrapper doing essentially nothing except for being a block element:\n        http://stackoverflow.com/questions/23717953/padding-bottom-top-not-working-in-flexbox-layout-firefox -->\n    <div class="m-image-tile--background" ng-class="[size]" phx-image="image">\n        <div class="m-image-tile--overlay" ng-style="overlayStyle"></div>\n        <div class="m-image-tile--container" ng-class="[size]">\n\n            <!-- metadata Slot C -->\n            <div class="m-image-tile--metadata_label" ng-class="[size]" ng-if="meta.label">\n                <a ng-if="meta.label.href" ng-href="{{ ::meta.label.href }}">\n                    {{ ::meta.label.text }}\n                </a>\n                <span ng-if="!meta.label.href">\n                    {{ ::meta.label.text }}\n                </span>\n            </div>\n\n            <!-- Header -->\n            <a class="m-image-tile--header" ng-href="{{properties.item.path}}" phx-track-event phx-track-id="Title">\n                <h2 role="heading" class="m-image-tile--header-text" ng-class="[size]" phx-ellipsis max-number-of-lines="properties.maxNumberOfLines.title">\n                    {{ ::meta.header.text }}\n                </h2>\n            </a>\n\n            <ul role="list" ng-if="::meta.A || meta.B" class="m-image-tile--metadata">\n                <!-- metadata Slot A -->\n                <li role="listitem" class="m-image-tile--metadata_A" ng-if="::meta.A">\n                    <span ng-repeat="data in meta.A">\n                        {{ ::data.text }}\n                    </span>\n                </li>\n\n                <!-- metadata Slot B -->\n                <li role="listitem" class="m-image-tile--metadata_B" ng-class="[size]" ng-if="::meta.B">\n                    <span ng-repeat="data in meta.B">\n                        <span class="glyph" ng-if="data.glyph"> {{ ::data.glyph }}  </span>\n                        <span class="text">{{ ::data.text }}</span>\n                    </span>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <!-- meta signifier -->\n    <img ng-src="{{ ::meta.signifier.src }}" ng-if="meta.signifier" class="m-meta-signifier mm-meta-signifier--top-right">\n</article>\n'}),define("phxComponentsCore/components/phxImageTile/controller",[],function(){"use strict";return["$scope","Config","phxComponentMetadata",function(a,b,c){var d=a.properties,e=d.item,f=["header","image","signifier","A","label","body","B"],g={hcard:1,vcard:4,stretch:4},h=d.slots||g[d.size];h+=2;var i={hcard:"mm-image-tile--landscape",vcard:"mm-image-tile--portrait","vcard-small":"mm-image-tile--portrait-small","vcard-medium":"mm-image-tile--portrait-medium","vcard-large":"mm-image-tile--portrait-large",stretch:"mm-image-tile--portrait-stretched"};a.meta=c.getMetadata(d.meta,e,h,f),a.size=i[d.size],a.image=a.meta&&a.meta.image?a.meta.image.src:e.primaryImage;var j=a.$watchCollection("properties.item",function(b,h){b!==h&&(a.meta=c.getMetadata(d.meta,e,g[d.size],f),a.image=b.image?b.image.src:e.primaryImage)});a.$on("$destroy",function(){j()})}]}),define("text!phxComponentsCore/components/phxListStream/template.html",[],function(){return'<section class="m-list-stream--inner-container" ng-show="cards" phx-component-stacking>\n    <div class="m-list-stream-row">\n        <div class="m-list-stream--content" ng-class="{ \'m-list-stream--has-rightrail\': hasRightrail }">\n            <div class="m-list-stream--card-container" ng-repeat="card in cards">\n                <div class="m-list-stream--divider" ng-if="properties.rowDividers" ng-class="[dividerColor]"></div>\n                <div class="m-list-stream--card">\n                    <phx-list-card properties="card"></phx-list-card>\n                </div>\n            </div>\n        </div>\n        <div ng-if="ad" class="m-list-stream--ad">\n            <phx-advertisement ng-if=":: $root.config.ad | phxIsTrue" class="" ad-role="contentAdjacent300x600"></phx-advertisement>\n        </div>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxListStream/controller",[],function(){"use strict";return["$scope","$rootScope","phxEvents","phxResponsiveSize","phxComponentMetadata","phxStreamInjector","phxAdUtils",function(a,b,c,d,e,f,g){function h(a){for(var b=[[1e3,"L"],[860,"M"],[580,"S"],[0,"XS"]],c=0;c<b.length;c++)if(a>=b[c][0])return b[c][1]}function i(a,b){return b?"S8":"mixed"===n.hubAds&&"L"===a?"LX":a}function j(a,b){return!(!b||"L"!==a)}function k(b,c){a.ad=!!j(b,c)&&n.collection.items.length>=4,a.hasRightrail=!!j(b,c)}function l(b){a.cards=a.properties.collection.items.map(function(c){var d=a.properties.subtype;return"textonly"===a.properties.subtype||c.primaryImage||(d="textonly"),{item:c,subtype:d,meta:a.properties.meta,inverted:a.properties.background&&a.properties.background.inverted,size:i(b,j(b,g.showAdTiles(a.properties.ads))),slots:"XS"===b?4:6,promoted:c.isPromoted&&a.properties.promoted?"promoted":""}})}function m(b){l(h(b)),k(h(b),g.showAdTiles(a.properties.ads))}var n=a.properties,o=b.windowWidth;m(b.windowWidth);var p,q=c.$on("resize",function(a,b){clearTimeout(p),p=setTimeout(function(){o&&o===b.width||(o=b.width,m(b.width))},250)});a.$on("$destroy",function(){q()})}]}),define("text!phxComponentsCore/components/phxListCard/template.html",[],function(){return'<article role="article" class="m-list-card" ng-class="[ size, promoted, subtype]" phx-super-link="{{ :: properties.item.path }}">\n\n    <div class="m-list-card--image-outer-container" ng-class="[ size, promoted, subtype]" phx-super-link="{{ :: properties.item.path }}">\n        <div class="m-list-card--image-inner-container" ng-class="[ size, promoted, subtype]">\n            <a ng-href="{{properties.item.path}}" phx-track-event phx-track-id="Image">\n                <div class="m-list-card--image" phx-image="meta.image.src" ng-class="[ size, promoted, subtype]">\n                </div>\n            </a>\n            <!-- meta signifier -->\n            <img ng-src="{{ ::meta.signifier.src }}" ng-if=" ::meta.signifier" class="m-meta-signifier mm-meta-signifier--bottom-right">\n        </div>\n    </div>\n\n    <div class="m-list-card--text-panel" ng-class="[ size, promoted, subtype, inverted]">\n\n        <!-- metadata Slot C -->\n        <div class="m-list-card--metadata_label" ng-class="[ size, promoted, subtype]" ng-if="meta.label">\n            <a ng-if="meta.label.href" href="{{ ::meta.label.href }}" phx-track-event phx-track-id="{{ ::meta.label.key }}">\n                {{ ::meta.label.text }}\n            </a>\n            <span ng-if="!meta.label.href">\n                {{ ::meta.label.text }}\n            </span>\n        </div>\n\n        <!-- Header -->\n        <h2 role="heading" class="m-list-card--header" ng-class="[ size, promoted, subtype]">\n            <a class="m-list-card--header-link" ng-href="{{properties.item.path}}" phx-track-event phx-track-id="Title">\n                {{ ::meta.header.text }}\n            </a>\n        </h2>\n\n        <!-- Body -->\n        <p class="m-list-card--body" ng-class="[ size, promoted, subtype]" ng-if="meta.body" phx-html="meta.body.text">\n        </p>\n\n        <ul role="list" ng-if="::meta.A || meta.B">\n\n            <!-- metadata Slot A -->\n            <li role="listitem" class="m-list-card--metadata_A" ng-if="meta.A">\n                <div ng-repeat="data in meta.A">\n                    <a ng-if="data.href" ng-href="{{ ::data.href }}" class="m-list-card--metadata_A-link" phx-track-event phx-track-id="{{data.key}}">\n                        {{ ::data.text }}\n                    </a>\n                    <span ng-if="!data.href">\n                        {{ ::data.text }}\n                    </span>\n                </div>\n            </li>\n\n            <!-- metadata Slot B -->\n            <li role="listitem" class="m-list-card--metadata_B" ng-class="[ size, promoted, subtype]" ng-if="meta.B">\n                <span ng-repeat="data in meta.B">\n                    <span class="glyph" ng-if="data.glyph"> {{ ::data.glyph }}  </span>\n                    <span class="text">{{ ::data.text }}</span>\n                </span>\n            </li>\n        </ul>\n    </div>\n</article>\n'}),define("phxComponentsCore/components/phxListCard/controller",[],function(){"use strict";return["$scope","phxComponentMetadata",function(a,b){var c=a.properties,d=c.item,e=c.slotPriority||["header","image","body","signifier","A","B","label"],f={XS:"mm-list-card--extra-small",S:"mm-list-card--small",M:"mm-list-card--medium",L:"mm-list-card--large",LX:"mm-list-card--large-mix",S8:"mm-list-card--small-8-col",promoted:"mm-list-card--promoted",inverted:"mm-list-card--inverted",landscape:"mm-list-card--landscape",portrait:"mm-list-card--portrait",textonly:"mm-list-card--text-only"};a.meta=b.getMetadata(c.meta,d,c.slots,e),a.inverted=c.inverted?f.inverted:"",a.subtype=f[c.subtype],a.promoted=f[c.promoted],a.size=f[c.size];var g=a.$watchCollection("properties.item",function(f,g){f!==g&&(a.meta=b.getMetadata(c.meta,d,c.slots,e))});a.$on("$destroy",function(){g()})}]}),define("text!phxComponentsCore/components/phxContentStrip/template.html",[],function(){return'<section class="m-content-strip" ng-class="{\'m-content-strip--is-strenched\': tiles.length <= 6}" ng-show="tiles.length > 3" phx-component-background="properties.background" phx-component-stacking>\n    <phx-component-header ng-if="properties.header" properties="properties.header" class="m-content-strip--header"></phx-component-header>\n    <phx-carousel class="m-content-strip--carousel" phx-component-background="properties.background" inverted="{{properties.background && properties.background.inverted}}">\n        <phx-component class="m-content-strip--tile" ng-repeat="tile in tiles" properties="tile" ng-style="{\'background-color\': properties.background}"></phx-component>\n        <div class="m-content-strip--tile m-content-strip--see-more-tile" ng-if="properties.seeMore">\n            <a ng-href="{{properties.seeMore.url}}" class="m-content-strip--see-more-btn" ng-class="{ \'mm-content-strip--see-more-btn-inverted\': properties.background && properties.background.inverted }"><span>{{properties.seeMore.text}}</span></a>\n        </div>\n    </phx-carousel>\n    <phx-component-footer properties="properties" ng-if="::properties.footer"></phx-component-footer>\n</section>\n'}),define("phxComponentsCore/components/phxContentStrip/controller",[],function(){"use strict";return["$scope","Config","phxUtil",function(a,b,c){var d=a.properties,e={portrait:3,round:3,square:3},f=e[d.imageStyle]||4;"text-only"===d.imageStyle&&f++,a.tiles=d.collection.items.map(function(a){var b=!!c.isExternalLink(a.url);return b&&(a.path=a.url),{item:a,type:d.cardType||"phxStandardTileCard",isCanvas:!0,meta:d.meta,slots:f,imageStyle:d.imageStyle,size:"XS",orientation:"tile",background:d.background,isExternalLink:b}})}]}),define("text!phxComponentsCore/components/phxStandardHero/template.html",[],function(){return'<section class="m-standard-hero" phx-component-stacking ng-class="{ \'m-standard-hero--page-divider\': properties.divider }" ng-show="::hero">\n    <div class="m-standard-hero--container" ng-class="{\'m-standard-hero--top-margin\': properties.hasTopMargin, \'m-standard-hero--inverted\': properties.invertColors, \'m-standard-hero--transparent\': !properties.tileBackground }" ng-style="{\'background-color\': properties.backgroundColor}">\n        <phx-standard-tile-card ng-if="::hero" class="m-standard-hero--item" properties="hero"></phx-standard-tile-card>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxStandardHero/controller",[],function(){"use strict";return["$scope","$rootScope","phxResponsiveSize","phxEvents",function(a,b,c,d){var e=a.properties,f={A:"M",B:"S",C:"M",D:"L"},g={"default":{ellipsis:{title:4,teaser:4}},A:{ellipsis:{title:3,teaser:4}}},h=g[c.getName()]||g["default"],i=function(b){e.collection.items.length>0&&(a.hero={item:e.collection.items[0],meta:e.meta,background:e.tileBackground,orientation:"A"===b?"tile":"hero",size:f[b],largeSignifier:"A"!==b,maxNumberOfLines:h.ellipsis})};i(c.getName());var j=b.$on("breakpoint",function(a,b,d,e){i(c.getName())});a.$on("$destroy",function(){j()})}]}),define("text!phxComponentsCore/components/phxAdTile/template.html",[],function(){return'<div class="m-ad-tile--outer-container">\n    <div class="m-ad-tile--inner-container">\n        <phx-advertisement ad-role="iab"></phx-advertisement>\n    </div>\n</div>\n'}),define("phxComponentsCore/components/phxAdTile/controller",[],function(){"use strict";return["$scope",function(a){}]}),define("text!phxComponentsCore/components/phxListHub/template.html",[],function(){return'<section ng-show="components.length > 0" phx-component-stacking class="m-list-hub" ng-class="{ \'m-list-hub--page-divider\': properties.divider }" phx-component-background="properties.background">\n    <phx-component properties="component" ng-repeat="component in components track by component.trackId" class="m-component-stack--item"></phx-component>\n    <phx-component-footer properties="properties" ng-if="::properties.footer"></phx-component-footer>\n</section>\n'}),define("phxComponentsCore/components/phxListHub/controller",[],function(){"use strict";return["$scope","$rootScope","phxEvents","phxResponsiveSize","phxComponentMetadata","phxStreamInjector","phxAdUtils",function(a,b,c,d,e,f,g){function h(a,b){for(var c=0;c<a.length;c++)c%b!==0&&(a[c].ads=!0,a[c].hubAds="mixed");return a}function i(){var b={offset:6,groupSize:6,railAdSpread:1};"more"===j.ads&&j.adOverrides&&angular.extend(b,j.adOverrides);var c=a.properties.collection.items,d=b.groupSize,e=b.offset,i=g.showAdComponents(j.ads),l=f.getInjectableComponents(j.insertions),m=f.getNumberOfComponentGroups(c,d,l,i),n=f.chunk(c,d,e,m).map(function(a){var b=angular.copy(j);return b.type="phxListStream",b.collection.items=a,b.collection._size=a.length,b});b.railAdSpread>1&&(n=h(n,b.railAdSpread));var o=f.injectComponents(n,l,i);a.components=k.tagComponents(o)}var j=a.properties,k=this;this.tagComponents=function(a){return a.forEach(function(a,b){if(a.collection){var c=b+"-"+a.collection.items.reduce(function(a,b){return a+b.id},"");a.trackId=c}else a.trackId=b}),a},j.collection.watchMoreItems(function(a){i()}),i()}]}),define("text!phxComponentsCore/components/phxAdaptiveAdComponent/template.html",[],function(){return'<section class="m-adaptive-ad-component" phx-component-stacking>\n    <phx-adaptive-ad-with-fallback\n        backfill-profile="adaptiveCard"\n        ad-mode="fill"\n        disabled="$root.config.ad.disabled"\n        adaptive-classes="[\'m-adaptive-ad-component--adaptive\']"\n        fallback-classes="[\'m-adaptive-ad-component--fallback\']"\n        rising-star-classes="[\'m-adaptive-ad-component--rising-star\']">\n    </phx-adaptive-ad-with-fallback>\n</section>\n'}),define("phxComponentsCore/components/phxAdaptiveAdComponent/controller",[],function(){"use strict";return["$scope",function(a){}]}),define("text!phxComponentsCore/components/phxImageTileHub/template.html",[],function(){return'<section ng-show="hasContent" phx-component-stacking class="m-image-tile-hub" phx-component-background="::properties.background">\n    <phx-component-header ng-if="properties.header" properties="properties.header"></phx-component-header>\n    <phx-tile-stream properties="streamProperties"></phx-tile-stream>\n    <phx-component-footer ng-if="properties.footer" properties="properties"></phx-component-footer>\n</section>\n'}),define("phxComponentsCore/components/phxImageTileHub/controller",[],function(){"use strict";return["$scope","$rootScope","phxResponsiveSize",function(a,b,c){a.hasContent=!1,
a.properties.collection.items.length>0&&(a.hasContent=!0),a.properties.stream="phxImageTileStream";var d=this,e=a.properties,f={A:"hcard",B:"vcard-small",C:"vcard-medium",D:"vcard-large"};this.setTiles=function(b){a.streamProperties={ads:e.ads,insertions:e.insertions,rowDividers:e.rowDividers,tiles:e.collection.items.map(function(a){return{item:a,type:"phxImageTile",isCanvas:!0,meta:e.meta,background:e.background,size:f[b]}})}},d.setTiles(c.getName());var g=b.$on("breakpoint",function(a,b,e,f){d.setTiles(c.getName())});e.collection.watchMoreItems(function(a){d.setTiles(c.getName())}),a.$on("$destroy",function(){g()})}]}),define("text!phxComponentsCore/components/phxTileStream/template.html",[],function(){return'<div class="m-tile-stream" phx-component-stacking phx-component-background="properties.background" ng-class="{ \'m-tile-stream--page-divider\': properties.divider }">\n    <phx-component-header ng-if="properties.header" properties="properties.header"></phx-component-header>\n    <phx-component properties="component" ng-repeat="component in components track by component.trackId" class="m-component-stack--item"></phx-component>\n</div>\n'}),define("phxComponentsCore/components/phxTileStream/controller",[],function(){"use strict";return["$scope","$rootScope","Config","phxEvents","phxComponentMetadata","phxResponsiveSize","phxStreamInjector","phxAdUtils",function(a,b,c,d,e,f,g,h){var i=this;this.tagComponents=function(a,b){return a.forEach(function(a,c){if(a.tiles){var d=a.tiles.reduce(function(a,b){return b.item?a+b.item.id:a},"");a.trackId=c+"-"+d+"-"+b}else a.trackId=c}),a},this.setTiles=function(b,c){var d=c.tiles,e="A"===b?6:9,f=e,j=h.showAdComponents(c.ads),k=g.getInjectableComponents(c.insertions),l=g.getNumberOfComponentGroups(d,e,k,j);i.shouldShowAdTiles(c.ads,b,d.length)&&(d=g.insertInlineAds(d,{type:"phxAdTile",isCanvas:!0},{frequency:9,offset:4}));var m=g.chunk(d,e,f,l).map(function(a){return{type:"phxTilePartial",isCanvas:!0,tiles:a,rowDividers:c.rowDividers,inverted:c.inverted,rowSize:"A"===b?1:3}}),n=g.injectComponents(m,k,j);a.components=i.tagComponents(n,b),c.header&&a.components.length>0&&(a.components[0].choptop=!0)},this.shouldShowAdTiles=function(a,b,c){return h.showAdTiles(a)?"A"===b||"B"===b?!1:!(9>c):!1};var j=b.$on("breakpoint",function(b){i.setTiles(f.getName(),a.properties)});a.$watchCollection("properties",function(a){i.setTiles(f.getName(),a)}),a.$on("$destroy",function(){j()}),i.setTiles(f.getName(),a.properties)}]}),define("text!phxComponentsCore/components/phxFeatureCollection/template.html",[],function(){return'<section class="m-feature-collection" phx-component-stacking="{\'isCondensed\': true }" phx-component-background="properties.background" ng-class="{ \'m-feature-collection--divider\': properties.divider, \'m-feature-collection--full-bleed\': properties.hero.fullbleed }">\n    <phx-component-header ng-if="properties.header" properties="properties.header" class="m-feature-collection--header"></phx-component-header>\n    <phx-component properties="component" ng-repeat="component in components" class="m-feature-collection--component m-component-stack--item" phx-component-stacking></phx-component>\n</section>\n'}),define("phxComponentsCore/components/phxFeatureCollection/controller",[],function(){"use strict";return["$scope","$rootScope","phxResponsiveSize",function(a,b,c){var d=a.properties,e=d.collection.items.slice(0,1),f={type:"image"===d.heroType||"fullbleed"===d.heroType?"phxImageHero":"phxStandardHero",fullbleed:"fullbleed"===d.heroType,tileBackground:d.heroTileBackground,collection:{items:e}};f=angular.extend({},d,f);var g=d.collection.items.slice(1,7),h={type:"phxFlexGrid",autoDensity:!0,tileBackground:d.cardTileBackground,collection:{items:g}};h=angular.extend({},d,h),a.components=[f,h]}]}),define("text!phxComponentsCore/components/phxBrandEngagement/template.html",[],function(){return'<section class="m-brand-engagement"  phx-component-stacking phx-component-background="properties.background" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted }">\n\n    <!-- HEADER -->\n    <phx-component-header ng-if="properties.header" properties="properties.header"></phx-component-header>\n\n    <!-- COMPONENT -->\n    <div class="m-brand-engagement--container">\n        <p ng-if="properties.dek" class="m-brand-engagement--dek">\n            {{ properties.dek }}\n        </p>\n        <div class="m-brand-engagement--buttons">\n            <div ng-if="signupFormProps.visible" class="m-brand-engagement--form-wrapper">\n                <form name="signupForm" ng-submit="phxBrandEngagementCtrl.submitForm()" class="m-brand-engagement--form">\n                    <input class="m-brand-engagement--form-input" type="email" ng-model="input.value" ng-attr-placeholder="{{ placeholder }}" type="text" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted, \'is-error\': error }">\n                    <input class="m-brand-engagement--form-submit" type="submit" ng-attr-value="{{ submit }}" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted }">\n                </form>\n            </div>\n            <div class="m-brand-engagement--user" ng-repeat="item in ::userButtons">\n                <a ng-href="{{::item.url}}" class="m-brand-engagement--user-button m-button" ng-class="{ \'is-inverted\': properties.background && properties.background.inverted }">\n                    <span>\n                        {{ ::item.text }}\n                    </span>\n                </a>\n            </div>\n            <div class="m-brand-engagement--social-buttons">\n                <div class="m-brand-engagement--social" ng-repeat="item in ::socialButtons" phx-track-id="Item">\n                    <a ng-href="{{::item.url}}" class="m-brand-engagement--social-link m-button mm-button--fixed-dimensions" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}" ng-class="{ \'is-inverted\': properties.background && properties.background.inverted }" phx-track-event phx-track-id="{{ item.trackId && item.trackId || \'Name\'}}">\n                    <span ng-class="[item.classname]"></span>\n                    <em class="{{item.nameclass}}">{{::item.name}}</em>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxBrandEngagement/controller",[],function(){"use strict";return["$scope","$element","$http","$translate","phxSocial","Config",function(a,b,c,d,e,f){var g=this,h=a.properties;a.input={},this.updateField=function(c){b[0].getElementsByClassName("m-brand-engagement--form-input")[0].blur(),a.placeholder=c,a.input.value=""},this.submitForm=function(){c.post("/.api/add-email-to-mailing-list",{email:a.input.value}).then(function(b){a.error=!1,g.updateField(h.successMessage||d.instant("ENGAGEMENT_SUCCESS"))})["catch"](function(b){g.updateField(h.errorMesssage||d.instant("ENGAGEMENT_ERROR")),a.error=!0})},a.input={},a.error=!1,a.placeholder=h.emailPlaceholder||d.instant("EMAIL_PLACEHOLDER"),a.signupFormProps=h.signupForm||{visibility:!1},a.submit=a.signupFormProps.submit||d.instant("ENGAGEMENT_SUBSCRIBE"),a.userButtons=(!h.signupForm||a.signupFormProps.visibility===!1)&&h.userButtons,a.socialButtons=!!h.social&&e.buildButtons(f.social.links).map(function(a){return a.classname="m-social--"+a.medium,a})}]}),define("text!phxComponentsCore/components/phxComponentHeader/template.html",[],function(){return'<div class="m-component-header m-component-stack--header" phx-component-background="::properties.background">\n    <div class="m-component-header--container" ng-class="sizeClass">\n        <h1 role="heading" ng-if="properties.image" class="m-component-header--image">\n            <img ng-src="{{::properties.image.imageUrl}}" alt="{{::properties.title}}">\n        </h1>\n        <h1 role="heading" class="m-component-header--title" ng-if="!properties.image" ng-class="titleClasses">{{::properties.title}}</h1>\n    </div>\n</div>\n'}),define("phxComponentsCore/components/phxComponentHeader/controller",[],function(){"use strict";return["$scope",function(a){var b={XS:"extra-small",S:"small",M:"medium",L:"large"};a.titleClasses=[],a.sizeClass="mm-component-header--size-"+b[a.properties.size],a.titleClasses.push("mm-component-header--title-"+b[a.properties.size]),a.properties.background&&a.properties.background.inverted&&a.titleClasses.push("mm-component-header--inverted")}]}),define("text!phxComponentsCore/components/phxStandardTileHub/template.html",[],function(){return'<section ng-show="hasContent" class="m-standard-tile-hub" phx-component-stacking>\n    <phx-component-header ng-if="::properties.header" properties="properties.header"></phx-component-header>\n    <phx-tile-stream properties="streamProperties"></phx-tile-stream>\n    <phx-component-footer ng-if="::properties.footer" properties="properties"></phx-component-footer>\n</section>\n'}),define("phxComponentsCore/components/phxStandardTileHub/controller",[],function(){"use strict";return["$scope","$rootScope","phxResponsiveSize",function(a,b,c){var d=this,e=a.properties;this.getSubcomponent=function(a,b,c){var d={B:"S",C:"M",D:"L"},e={type:"phxStandardTileCard",item:a,isCanvas:!0,meta:b.meta,background:b.tileBackground,size:d[c],orientation:"tile",inverted:b.background&&b.background.inverted&&!b.tileBackground,imageStyle:"landscape"},f={type:"phxImageTile",item:a,isCanvas:!0,meta:b.meta,size:"stretch"},g={type:"phxListCard",item:a,isCanvas:!0,meta:b.meta,size:"XS",inverted:b.background&&b.background.inverted,slots:3,slotPriority:["image","header","label","A","B","body"]},h=a.isPromoted&&b.promoted?f:e;return"A"===c&&(h===f&&(h.size="hcard"),h===e&&(h=g)),h!==g||a.primaryImage||(h.subtype="textonly"),h},this.setTiles=function(b){a.streamProperties={ads:e.ads,rowDividers:e.rowDividers,inverted:e.background&&e.background.inverted,insertions:e.insertions,tiles:e.collection.items.map(function(c){return d.getSubcomponent(c,a.properties,b)})}},a.hasContent=!1,a.properties.collection.items.length>0&&(a.hasContent=!0),d.setTiles(c.getName()),e.collection.watchMoreItems(function(a){d.setTiles(c.getName())});var f=b.$on("breakpoint",function(a,b,e,f){d.setTiles(c.getName())});a.$on("$destroy",function(){f()})}]}),define("text!phxComponentsCore/components/phxComponentFooter/template.html",[],function(){return'<div class="m-component-footer--container m-component-stack--footer">\n    <button class="m-component-footer--loader m-button" ng-show="properties.collection.hasMoreItems || loading" ng-click="buttonPressed()" phx-track-event phx-track-id="load more" ng-class="{\'is-inverted\': properties.background.inverted}">\n        <div class="m-component-footer--text" ng-show="loading" translate="FEED_LOADING"></div>\n        <div class="m-component-footer--text" ng-show="!loading && properties.collection.hasMoreItems" ng-bind="::buttonText"></div>\n    </button>\n</div>\n'}),define("phxComponentsCore/components/phxComponentFooter/controller",[],function(){"use strict";return["$scope","phxUtil","$window",function(a,b,c){a.properties.collection&&a.properties.collection.watchLoading(function(b){a.loading=b}),a.buttonText=a.properties.footer&&a.properties.footer.label?a.properties.footer.label:"See More",a.properties.divider=!1,a.buttonPressed=function(){a.properties.footer&&a.properties.footer.link?c.location.href=a.properties.footer.link:a.properties.collection&&a.properties.collection.loadMoreItems()}}]}),define("text!phxComponentsCore/components/phxSearch/template.html",[],function(){return'<section class="m-brand-engagement" phx-component-background="properties.background" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted }">\n\n    <h1 class="m-search-entry--hed" phx-skin-bgimg="heading"></h1>\n\n    <div class="m-brand-engagement--form-wrapper">\n        <form ng-submit="keywordSearch()" class="m-brand-engagement--form ng-pristine ng-valid" phx-track-id="Search Form">\n            <input class="m-brand-engagement--form-input ng-pristine ng-valid" type="search" placeholder="{{properties.placeholder}}" ng-model="searchkeyword" ng-keypress="keywordSearchOnKeypress($event)" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted, \'is-error\': error }">\n            <button class="m-brand-engagement--form-submit ng-binding" ng-class="{ \'mm-brand-engagement--inverted\': properties.background && properties.background.inverted }">SEARCH</button>\n        </form>\n    </div>\n\n</section>\n'}),define("phxComponentsCore/components/phxSearch/controller",[],function(){"use strict";return["$scope","phxUtil",function(a,b){a.keywordSearch=function(){b.gotoSearchPage(a.searchkeyword)}}]}),define("text!phxComponentsCore/components/phxTilePartial/template.html",[],function(){return'<div class="m-tile-partial" phx-component-stacking ng-class="{\'mm-tile-partial--inverted\': properties.background.inverted }" ng-show="::rows">\n    <div class="m-tile-partial--row" ng-repeat="row in ::rows">\n        <phx-component properties="::card" ng-repeat="card in ::row" class="m-tile-partial--tile"></phx-component>\n        <div ng-if="::properties.rowDividers" class="m-tile-partial--divider"></div>\n    </div>\n</div>\n'}),define("phxComponentsCore/components/phxTilePartial/controller",[],function(){"use strict";return["$scope","phxStreamInjector",function(a,b){var c=a.properties;a.rows=b.chunk(c.tiles,c.rowSize)}]}),define("text!phxComponentsCore/components/phxNavComponent/template.html",[],function(){return'<section class="m-nav-component" ng-show="properties.links.length > 0" phx-component-background="properties.background" phx-component-stacking>\n    <phx-component-header ng-if="properties.header" properties="properties.header" class="m-nav-component--header"></phx-component-header>\n    <div class="m-nav-component--container" ng-class="{\'mm-nav-component--inverted\': properties.buttons.inverted}">\n        <a ng-href="{{::item.url}}" class="m-nav-component--item" ng-repeat="item in ::properties.links" ng-class="{ \'mm-nav-component--inverted\': properties.background && properties.background.inverted, \'mm-nav-component--link-button\': properties.buttonStyle === \'button\' }">\n            <span>\n                {{ ::item.text }}\n            </span>\n        </a>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxNavComponent/controller",[],function(){"use strict";return["$scope",function(a){}]}),define("text!phxComponentsCore/components/phxComponentDocumenter/template.html",[],function(){return'<section class="m-component-documenter">\n\n    <nav class="m-component-documenter--list">\n        <a class="m-component-documenter--list-item" ng-class="{\'active\': c === component}" ng-repeat="c in components | orderBy:\'title\'" ng-click="setComponent(c)">{{c.title}}</a>\n    </nav>\n\n    <div class="m-component-documenter--component" ng-if="component">\n        <div class="m-component-documenter--details">\n            <h2 class="m-component-documenter--title">{{component.title}}</h2>\n            <span class="m-component-documenter--component-description" ng-bind-html="component.description"></span>\n            <div class="m-component-documenter--component-documentation">\n                <h2 class="m-component-documenter--header">Configurable Properties</h2>\n                <div ng-if="component.properties" class="m-component-documenter--doc-container">\n                    <phx-json-doc-table schema="component" class="m-component-documenter--doc" ng-if="propertiesLength > 0"></phx-json-doc-table>\n                    <span ng-if="propertiesLength === 0">This component has no configurable properties</span>\n                </div>\n            </div>\n        </div>\n        <div class="m-component-documenter--component-examples" ng-if="component.examples">\n            <h2 class="m-component-documenter--header">Examples</h2>\n            <div ng-repeat="example in component.examples" class="m-component-documenter--example-container">\n                <div class="m-component-documenter--example-details">\n                    <h2 class="m-component-documenter--example-header">{{example.title}}</h2>\n                    <span class="m-component-documenter--example-subhead" ng-if="example.description">{{example.description}}</span>\n                    <a ng-click="example.showCode = !example.showCode" class="m-component-documenter--example-code-toggle">\n                        <span ng-if="example.showCode">Hide Example Code</span>\n                        <span ng-if="!example.showCode">Show Example Code</span>\n                    </a>\n                    <pre ng-show="example.showCode" class="m-component-documenter--example-code">{{example.code}}</pre>\n                </div>\n\n                <phx-component properties="example.component" class="m-component-documenter--example"></phx-component>\n            </div>\n        </div>\n    </div>\n\n</section>\n'}),define("phxComponentsCore/components/phxComponentDocumenter/controller",[],function(){"use strict";return["$scope","$http",function(a,b){a.setComponent=function(b){a.component=b,a.propertiesLength=Object.keys(b.properties).length},a.components=[],b.get("/.api/component-schema/Components").then(function(b){angular.forEach(b.data,function(b){if(b.title&&b.isConfigurable!==!1){b.examples&&(b.examples=b.examples.map(function(b){if(b.code=JSON.stringify(b.component,null,4),b.component.collection){var c=b.component.collection.size||a.properties.collection.items.length;b.component.collection=angular.copy(a.properties.collection),b.component.collection.items=a.properties.collection.items.slice(0,c)}return b}));var c=angular.extend({},b);delete c.examples,a.components.push(b)}})})}]}),define("text!phxComponentsCore/components/phxSiteHeader/template.html",[],function(){return'<div class="m-site-header">\n    <phx-header component="true"/>\n</div>\n'}),define("phxComponentsCore/components/phxSiteHeader/controller",[],function(){"use strict";return["$scope",function(a){}]}),define("text!phxComponentsCore/components/phxHeaderAd/template.html",[],function(){return'<div class="m-header-ad">\n    <phx-adaptive-ad-with-fallback\n        backfill-profile="header"\n        animate-open="false"\n        ad-mode="fill"\n        disabled="$root.config.ad.headerAd.disabled"\n        frequency-cap-adaptive="true"\n        adaptive-classes="[\'m-header-ad--adaptive\']"\n        fallback-classes="[\'m-header-ad--fallback\']"\n    >\n    </phx-adaptive-ad-with-fallback>\n\n    <div class="m-header-ad--notice">ADVERTISEMENT</div>\n</div>\n'}),define("phxComponentsCore/components/phxHeaderAd/controller",[],function(){"use strict";return["$scope",function(a){}]}),define("text!phxComponentsCore/components/phxHeroStream/template.html",[],function(){return'<section class="m-stream--inner-container" phx-component-stacking >\n    <div class="m-stream--card-container" ng-repeat="item in items">\n        <div class="m-stream--card" ng-class="{\'m-stream--fullbleed-card\': item.fullbleed}">\n            <phx-component properties="item" type="item.type" class="m-component-stack--item"></phx-component>\n        </div>\n        <div class="m-stream--divider" ng-if="properties.cardDividers" ng-class="[dividerColor]"></div>\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxHeroStream/controller",[],function(a){"use strict";return["$scope","$rootScope","phxEvents","phxResponsiveSize","phxStreamInjector","phxComponentMetadata",function(a,b,c,d,e,f){a.items=a.properties.collection.items.map(function(b){var c={item:b,type:a.properties.cardType||"phxImageHero",meta:a.properties.meta,promoted:b.isPromoted&&a.properties.promoted?"promoted":"",collection:{items:[]},fullbleed:a.properties.fullbleed,tileBackground:!1,isStream:!0,isCanvas:a.properties.isCanvas||!1};return c.collection.items[0]=b,c})}]}),define("text!phxComponentsCore/components/phxHeroHub/template.html",[],function(){return'<section class="m-hub-hero" ng-show="hasContent" phx-component-stacking>\n    <phx-component-header ng-if="properties.header" properties="properties.header"></phx-component-header>\n    <phx-component class="m-component-stack--item" properties="component" ng-repeat="component in components track by component.trackId" ></phx-component>\n    <phx-component-footer ng-if="::properties.footer"  properties="properties"></phx-component-footer>\n</section>\n'}),define("phxComponentsCore/components/phxHeroHub/controller",[],function(a){"use strict";return["$scope","phxStreamInjector","phxAdUtils",function(a,b,c){function d(){var d=a.properties.collection.items,g=6,h=g,i=c.showAdComponents(e.ads),j=b.getInjectableComponents(e.insertions),k=b.getNumberOfComponentGroups(d,g,j,i),l=b.chunk(d,g,h,k).map(function(a){var b=angular.copy(e);return b.type="phxHeroStream",b.collection.items=a,b.collection._size=a.length,b}),m=b.injectComponents(l,j,i);a.components=f.tagComponents(m)}var e=a.properties,f=this;a.hasContent=!1,e.collection.items.length>0&&(a.hasContent=!0),f.tagComponents=function(a){return a.forEach(function(a,b){if(a.collection){var c=a.collection.items.reduce(function(a,b){return a+b.id},"");a.trackId=c}else a.trackId=b}),a},e.collection.watchMoreItems(function(a){d()}),d()}]}),define("text!phxComponentsCore/components/phxImageLink/template.html",[],function(){return'<div class="m-image-link">\n    <div\n        class="m-image-link--background"\n        ng-class="::[imageStyle]"\n        phx-image="properties.item.primaryImage">\n        <a class="m-image-link--url" ng-href="{{::properties.item.url}}" rel="{{ properties.item.isNoindex ? \'nofollow\' : \'\' }}" target="{{isExternalLink ? \'_blank\' : \'_self\'}}"></a>\n    </div>\n</div>\n'}),define("phxComponentsCore/components/phxImageLink/controller",[],function(a){"use strict";return["$scope",function(a){var b={landscape:"mm-image-link--landscape",portrait:"mm-image-link--portrait",square:"mm-image-link--square",round:"mm-image-link--round"};a.imageStyle=b[a.properties.imageStyle]}]}),define("text!phxComponentsCore/components/phxFlexGrid/template.html",[],function(){return'<section class="m-flex-grid" ng-class="[densityStyle, cardTypeStyle]" phx-component-stacking phx-component-background="properties.background">\n    <div class="m-flex-grid--container">\n        <div class="m-flex-grid--row" ng-class="{\'mm-flex-grid--row-divider\': properties.rowDividers}" ng-repeat="row in rows">\n            <phx-component properties="::card" ng-repeat="card in row" class="m-flex-grid--tile"></phx-component>\n            <div ng-if="::properties.rowDividers" class="m-flex-grid--divider"></div>\n        </div>\n    </div>\n</section>\n'}),define("text!phxComponentsCore/components/phxFlexGrid/densityConfig.json",[],function(){return'{\n    "standard": {\n        "high": {\n            "A": {\n                "columns": 2,\n                "metaSlots": 1\n            },\n            "B": {\n                "columns": 5,\n                "metaSlots": 1\n            },\n            "C": {\n                "columns": 5,\n                "metaSlots": 2\n            }\n        },\n        "medium": {\n            "A": {\n                "columns": 2,\n                "metaSlots": 2\n            },\n            "B": {\n                "columns": 4,\n                "metaSlots": 2\n            },\n            "C": {\n                "columns": 4,\n                "metaSlots": 2\n            }\n        },\n        "standard": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 1\n            },\n            "B": {\n                "columns": 3,\n                "metaSlots": 2\n            },\n            "C": {\n                "columns": 3,\n                "metaSlots": 3\n            }\n        },\n        "low": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 1\n            },\n            "B": {\n                "columns": 2,\n                "metaSlots": 2\n            },\n            "C": {\n                "columns": 2,\n                "metaSlots": 6\n            }\n        }\n    },\n    "image": {\n        "high": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 4\n            },\n            "B": {\n                "columns": 4,\n                "metaSlots": 1\n            },\n            "C": {\n                "columns": 5,\n                "metaSlots": 2\n            }\n        },\n        "medium": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 4\n            },\n            "B": {\n                "columns": 4,\n                "metaSlots": 2\n            },\n            "C": {\n                "columns": 4,\n                "metaSlots": 3\n            }\n        },\n        "standard": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 4\n            },\n            "B": {\n                "columns": 3,\n                "metaSlots": 3\n            },\n            "C": {\n                "columns": 3,\n                "metaSlots": 3\n            }\n        },\n        "low": {\n            "A": {\n                "columns": 1,\n                "metaSlots": 4\n            },\n            "B": {\n                "columns": 2,\n                "metaSlots": 4\n            },\n            "C": {\n                "columns": 2,\n                "metaSlots": 6\n            }\n        }\n    }\n}\n'}),define("phxComponentsCore/components/phxFlexGrid/controller",["text!./densityConfig.json"],function(a){"use strict";return["$scope","phxStreamInjector","phxResponsiveSize","$rootScope","phxCardProvider",function(b,c,d,e,f){function g(a,b){var c=j[i.density||"high"][b];if(!a||!b)return c;if(i.density&&a.length%c.columns===0)return i.density;if(i.autoDensity===!0){var d,e=i.density?c.columns:9999;for(var f in j)if(j.hasOwnProperty(f)&&a.length%j[f][b].columns===0&&(d=f,e>=j[f][b].columns))break;return d||i.density}}function h(a){var d=i.items||i.collection.items,e=g(d,a),h=j[e||"high"][a];i.collection&&(d=i.collection.items.map(function(b){var c=i.cardType,d=h.metaSlots;"standard"===i.cardType&&1===h.columns&&(c="list",d++);var g=f.getCard(c,b,i,a);return g.slots=d,"low"===e&&"image"===i.cardType&&(g.size="hcard"),g})),b.rows=c.chunk(d,h.columns),b.densityStyle="mm-flex-grid--density-"+e,b.cardTypeStyle="mm-flex-grid--type-"+i.cardType}var i=b.properties,j=JSON.parse(a)[i.cardType];h(d.getName());var k=e.$on("breakpoint",function(a,b,c,e){h(d.getName())});b.$on("$destroy",function(){k()})}]}),define("text!phxComponentsCore/components/phxSectionSponsorshipBadge/template.html",[],function(){return'<section class="m-section-sponsorship-badge" ng-show="badge" phx-component-stacking>\n    <div class="m-section-sponsorship-badge--container">\n        <img src="{{badge | phxImageUrl:\'default\'}}" class="m-section-sponsorship-badge--image" />\n    </div>\n</section>\n'}),define("phxComponentsCore/components/phxSectionSponsorshipBadge/controller",[],function(){"use strict";return["$scope",function(a){a.page&&a.page.sponsorship&&a.page.sponsorship.sectionBrandingBadge&&(a.badge=a.page.sponsorship.sectionBrandingBadge.image)}]}),define("phxComponentsCore/module",["phxComponentsCore/ddo","phxComponentsCore/components/phxComponentDocumenter/phxJsonDocTable","text!phxComponentsCore/components/phxStandardTileCard/template.html","phxComponentsCore/components/phxStandardTileCard/controller","text!phxComponentsCore/components/phxImageHero/template.html","phxComponentsCore/components/phxImageHero/controller","text!phxComponentsCore/components/phxImageTile/template.html","phxComponentsCore/components/phxImageTile/controller","text!phxComponentsCore/components/phxListStream/template.html","phxComponentsCore/components/phxListStream/controller","text!phxComponentsCore/components/phxListCard/template.html","phxComponentsCore/components/phxListCard/controller","text!phxComponentsCore/components/phxContentStrip/template.html","phxComponentsCore/components/phxContentStrip/controller","text!phxComponentsCore/components/phxStandardHero/template.html","phxComponentsCore/components/phxStandardHero/controller","text!phxComponentsCore/components/phxAdTile/template.html","phxComponentsCore/components/phxAdTile/controller","text!phxComponentsCore/components/phxListHub/template.html","phxComponentsCore/components/phxListHub/controller","text!phxComponentsCore/components/phxAdaptiveAdComponent/template.html","phxComponentsCore/components/phxAdaptiveAdComponent/controller","text!phxComponentsCore/components/phxImageTileHub/template.html","phxComponentsCore/components/phxImageTileHub/controller","text!phxComponentsCore/components/phxTileStream/template.html","phxComponentsCore/components/phxTileStream/controller","text!phxComponentsCore/components/phxFeatureCollection/template.html","phxComponentsCore/components/phxFeatureCollection/controller","text!phxComponentsCore/components/phxBrandEngagement/template.html","phxComponentsCore/components/phxBrandEngagement/controller","text!phxComponentsCore/components/phxComponentHeader/template.html","phxComponentsCore/components/phxComponentHeader/controller","text!phxComponentsCore/components/phxStandardTileHub/template.html","phxComponentsCore/components/phxStandardTileHub/controller","text!phxComponentsCore/components/phxComponentFooter/template.html","phxComponentsCore/components/phxComponentFooter/controller","text!phxComponentsCore/components/phxSearch/template.html","phxComponentsCore/components/phxSearch/controller","text!phxComponentsCore/components/phxTilePartial/template.html","phxComponentsCore/components/phxTilePartial/controller","text!phxComponentsCore/components/phxNavComponent/template.html","phxComponentsCore/components/phxNavComponent/controller","text!phxComponentsCore/components/phxComponentDocumenter/template.html","phxComponentsCore/components/phxComponentDocumenter/controller","text!phxComponentsCore/components/phxSiteHeader/template.html","phxComponentsCore/components/phxSiteHeader/controller","text!phxComponentsCore/components/phxHeaderAd/template.html","phxComponentsCore/components/phxHeaderAd/controller","text!phxComponentsCore/components/phxHeroStream/template.html","phxComponentsCore/components/phxHeroStream/controller","text!phxComponentsCore/components/phxHeroHub/template.html","phxComponentsCore/components/phxHeroHub/controller","text!phxComponentsCore/components/phxImageLink/template.html","phxComponentsCore/components/phxImageLink/controller","text!phxComponentsCore/components/phxFlexGrid/template.html","phxComponentsCore/components/phxFlexGrid/controller","text!phxComponentsCore/components/phxSectionSponsorshipBadge/template.html","phxComponentsCore/components/phxSectionSponsorshipBadge/controller"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da){"use strict";angular.module("phxComponentsCore",[]),angular.module("phxComponentsCore").directive("phxStandardTileCard",a("phxStandardTileCard",c)).controller("phxStandardTileCardCtrl",d),angular.module("phxComponentsCore").directive("phxImageHero",a("phxImageHero",e)).controller("phxImageHeroCtrl",f),angular.module("phxComponentsCore").directive("phxImageTile",a("phxImageTile",g)).controller("phxImageTileCtrl",h),angular.module("phxComponentsCore").directive("phxListStream",a("phxListStream",i)).controller("phxListStreamCtrl",j),angular.module("phxComponentsCore").directive("phxListCard",a("phxListCard",k)).controller("phxListCardCtrl",l),angular.module("phxComponentsCore").directive("phxContentStrip",a("phxContentStrip",m)).controller("phxContentStripCtrl",n),angular.module("phxComponentsCore").directive("phxStandardHero",a("phxStandardHero",o)).controller("phxStandardHeroCtrl",p),
angular.module("phxComponentsCore").directive("phxAdTile",a("phxAdTile",q)).controller("phxAdTileCtrl",r),angular.module("phxComponentsCore").directive("phxListHub",a("phxListHub",s)).controller("phxListHubCtrl",t),angular.module("phxComponentsCore").directive("phxAdaptiveAdComponent",a("phxAdaptiveAdComponent",u)).controller("phxAdaptiveAdComponentCtrl",v),angular.module("phxComponentsCore").directive("phxImageTileHub",a("phxImageTileHub",w)).controller("phxImageTileHubCtrl",x),angular.module("phxComponentsCore").directive("phxTileStream",a("phxTileStream",y)).controller("phxTileStreamCtrl",z),angular.module("phxComponentsCore").directive("phxFeatureCollection",a("phxFeatureCollection",A)).controller("phxFeatureCollectionCtrl",B),angular.module("phxComponentsCore").directive("phxBrandEngagement",a("phxBrandEngagement",C)).controller("phxBrandEngagementCtrl",D),angular.module("phxComponentsCore").directive("phxComponentHeader",a("phxComponentHeader",E)).controller("phxComponentHeaderCtrl",F),angular.module("phxComponentsCore").directive("phxStandardTileHub",a("phxStandardTileHub",G)).controller("phxStandardTileHubCtrl",H),angular.module("phxComponentsCore").directive("phxComponentFooter",a("phxComponentFooter",I)).controller("phxComponentFooterCtrl",J),angular.module("phxComponentsCore").directive("phxSearch",a("phxSearch",K)).controller("phxSearchCtrl",L),angular.module("phxComponentsCore").directive("phxTilePartial",a("phxTilePartial",M)).controller("phxTilePartialCtrl",N),angular.module("phxComponentsCore").directive("phxNavComponent",a("phxNavComponent",O)).controller("phxNavComponentCtrl",P),angular.module("phxComponentsCore").directive("phxComponentDocumenter",a("phxComponentDocumenter",Q)).controller("phxComponentDocumenterCtrl",R),angular.module("phxComponentsCore").directive("phxJsonDocTable",b),angular.module("phxComponentsCore").directive("phxSiteHeader",a("phxSiteHeader",S)).controller("phxSiteHeaderCtrl",T),angular.module("phxComponentsCore").directive("phxHeaderAd",a("phxHeaderAd",U)).controller("phxHeaderAdCtrl",V),angular.module("phxComponentsCore").directive("phxHeroStream",a("phxHeroStream",W)).controller("phxHeroStreamCtrl",X),angular.module("phxComponentsCore").directive("phxHeroHub",a("phxHeroHub",Y)).controller("phxHeroHubCtrl",Z),angular.module("phxComponentsCore").directive("phxImageLink",a("phxImageLink",$)).controller("phxImageLinkCtrl",_),angular.module("phxComponentsCore").directive("phxFlexGrid",a("phxFlexGrid",aa)).controller("phxFlexGridCtrl",ba),angular.module("phxComponentsCore").directive("phxSectionSponsorshipBadge",a("phxSectionSponsorshipBadge",ca)).controller("phxSectionSponsorshipBadgeCtrl",da)}),define("phxTags/services/phxTags",[],function(){"use strict";return function(){var a=[];this.registerTag=function(b){a.push(b)},this.$get=["$injector","$q","Config","phxCategorizr",function(b,c,d,e){var f=a.map(function(a){return b.invoke(a)}),g={},h=d.analytics&&d.analytics.providers||{},i=!0;return{onPageView:function(a,b){e.isServer()||(f.forEach(function(d){h[d.name()]&&(i?g[d.name()]=c.when(d.onInitialPageView(h[d.name()],a,b)):d.onSubsequentPageView&&g[d.name()].then(function(){d.onSubsequentPageView(h[d.name()],a,b)}))}),i=!1)}}}]}}),define("phxTags/services/phxTagUtil",[],function(){"use strict";return[function(){return{onDomChange:function(a,b,c,d){var e=window.MutationObserver||window.WebKitMutationObserver;if(e){var f=new e(function(c){b(a)});return f.observe(a,{childList:!0,subtree:!0,attributes:c||!1,characterData:d||!1}),function(){f.disconnect()}}return function(){}},processExternalImages:function(a){function b(a){if(a.src.match(/\.gif$/)){var b=document.createElement("canvas");b.width=a.width,b.height=a.height,b.getContext("2d").drawImage(a,0,0,b.width,b.height),a.parentNode.replaceChild(b,a)}}function c(a){var c=$(a);c.attr("data-pin-no-hover",!0),c.attr("nopin",!0),a.complete?b(a):c.one("load",function(){b(a)})}var d=this.onDomChange(a[0],function(){var b=a.find("img");b.length&&(b.each(function(){c(this)}),d())})}}}]}),define("phxTags/services/tags/boomtrain",[],function(){"use strict";return["$window","$document","phxUtil",function(a,b,c){return{name:function(){return"Boomtrain"},onInitialPageView:function(b,d,e){var f="http://d3r7h55ola878c.cloudfront.net/btn/1.0.0/btn.js";return c.loadJsLib(f).then(function(){return a._btn&&a._btn.setAPIKeys&&a._btn.initialize&&(a._btn.setAPIKeys(b.apiKey1,b.apiKey2),a._btn.initialize()),!0})},onSubsequentPageView:function(b,c,d){a._btn&&a._btn.initialize&&a._btn.initialize()}}}]}),define("phxTags/services/tags/buzzfeed",[],function(){"use strict";return["phxUtil",function(a){return{name:function(){return"Buzzfeed"},onInitialPageView:function(b,c,d){var e="http://ct.buzzfeed.com/wd/UserWidget?u="+b+"&to=1&or=vb&wid=1&cb="+(new Date).getTime();return a.loadJsLib(e)}}}]}),define("phxTags/services/tags/chartbeat",[],function(){"use strict";return["$window","$document","phxUtil","phxViewMeta",function(a,b,c,d){var e="_sf_async_config",f="_sf_endpt";return{name:function(){return"Chartbeat"},onInitialPageView:function(d,g,h){a[e]={uid:d.uid,domain:d.domain,useCanonical:!0,sections:"N/A",authors:"N/A"},a[f]=(new Date).getTime();var i=("https:"===b[0].location.protocol?"https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/":"http://static.chartbeat.com/")+"js/chartbeat_pub.js";return c.loadJsLib(i)},onSubsequentPageView:function(b,c,e){if(a.pSUPERFLY){var f=d.getItemMeta(c);a.pSUPERFLY.virtualPage(e,f.metaTitle)}}}}]}),define("phxTags/services/tags/comscore",[],function(){"use strict";return["$window","$document","phxUtil",function(a,b,c){return{name:function(){return"Comscore"},onInitialPageView:function(d,e,f){a._comscore=[],a._comscore.push({c1:"2"}),a._comscore.push({c2:d.id});var g=("https:"===b[0].location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js";return c.loadJsLib(g)},onSubsequentPageView:function(b,c,d){a.COMSCORE&&a.COMSCORE.beacon({c1:"2",c2:b.id})}}}]}),define("phxTags/services/tags/ga",[],function(){"use strict";return["$window","Config","$rootScope","phxUtil","phxGoogleAnalytics",function(a,b,c,d,e){function f(b,c,d){if(a._gaSent)return void(a._gaSent=!1);if(c&&c.viewProperties&&c.viewProperties.analytics&&c.viewProperties.analytics.ga)for(var f in c.viewProperties.analytics.ga)e.set(f,c.viewProperties.analytics.ga[f]);e.sendPageView(d,c)}var g;return{name:function(){return"GoogleAnalytics"},onInitialPageView:function(b,d,h){if(f(b,d,h),a.performance&&a.performance.timing){var i=(new Date).getTime();e.sendTiming("Load","firstPageLoadTime",i-a.performance.timing.navigationStart)}c.$on("$locationChangeStart",function(){g=(new Date).getTime()})},onSubsequentPageView:function(a,b,c){if(f(a,b,c),g){var d=(new Date).getTime();e.sendTiming("Load","subsequentPageLoadTime",d-g)}}}}]}),define("phxTags/services/tags/krux",[],function(){"use strict";return["$document","$window","phxUtil","phxKruxUtils",function(a,b,c,d){function e(){var a;b.Krux.user=d.getValue("user"),a=d.getValue("segs"),b.Krux.segments=a?a.split(","):[],b.Krux("ns:saymedia","page:load",function(a){a&&b.console.log("Krux error "+a)},{pageView:"PROD"===b.envShortName})}return{name:function(){return"Krux"},onInitialPageView:function(a,d,f){b.Krux=function(){b.Krux.q.push(arguments)},b.Krux.q=[],e();var g="//cdn.krxd.net/controltag?confid="+a.kruxId,h=b.location.href.match(/\bkxsrc=([^&]+)/),i=h&&decodeURIComponent(h[1]);return/^https?:\/\/([a-z0-9_\-\.]+\.)?krxd\.net(:\d{1,5})?\//i.test(i)?g=i:"disable"===i&&(g=null),g?c.loadJsLib(g):!0},onSubsequentPageView:function(a,b,c){e()}}}]}),define("phxTags/services/tags/keywee",[],function(){"use strict";return["$window","phxUtil",function(a,b){return{name:function(){return"Keywee"},onInitialPageView:function(a,c,d){var e="//dc8xl0ndzn2cb.cloudfront.net/js/"+a.siteKeyword+"/v"+a.version+"/keywee.min.js";return b.loadJsLib(e)},onSubsequentPageView:function(b,c,d){a.snowplow&&a.snowplow("trackPageView")}}}]}),define("phxTags/services/tags/parsely",[],function(){"use strict";return["$window","$document","phxUtil",function(a,b,c){var d;return{name:function(){return"Parsely"},onInitialPageView:function(a,e,f){angular.element("body").append(angular.element('<div id="parsely-root" style="display: none">  <div id="parsely-cfg" data-parsely-site="'+a+'"></div></div>'));var g="https:"===b[0].location.protocol?"https://d1z2jf7jlzjs58.cloudfront.net/p.js":"http://static.parsely.com/p.js";return d=f,c.loadJsLib(g)},onSubsequentPageView:function(b,c,e){a.PARSELY&&a.PARSELY.beacon&&a.PARSELY.beacon.trackPageView&&a.PARSELY.beacon.trackPageView({url:e,urlref:d,js:1,action_name:"pageview"}),d=e}}}]}),define("phxTags/services/tags/pubexchange",[],function(){"use strict";return["$window","phxUtil","phxTagUtil",function(a,b,c){function d(){var a=angular.element("#phxtags-belowcontent");if(a){var b=angular.element('<div id="pubexchange_widget2" class="m-pubex nocontent"></div>');a.append(b),c.processExternalImages(b)}}return{name:function(){return"PubExchange"},onInitialPageView:function(a,c,e){d();var f="http://cdn.pubexchange.com/modules/partner/"+a.id;return b.loadJsLib(f)},onSubsequentPageView:function(b,c,e){a.PUBX&&a.PUBX.loader&&(d(),a.PUBX.loader(!1))}}}]}),define("phxTags/services/tags/quantcast",[],function(){"use strict";return["$window","$document","phxUtil","Config",function(a,b,c,d){var e="tempest_network"+(d.siteKeyword?","+d.siteKeyword:"");return{name:function(){return"Quantcast"},onInitialPageView:function(b,d,f){a._qevents=[],a._qevents.push([{qacct:b.qacctGlobal,labels:e},{qacct:b.qacctSite}]);var g=("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js";return c.loadJsLib(g)},onSubsequentPageView:function(b,c,d){a._qevents.push([{qacct:b.qacctGlobal,labels:e,event:"click"},{qacct:b.qacctSite,event:"click"}])}}}]}),define("phxTags/services/tags/quantcastDemos",[],function(){"use strict";return["$window","phxExplicitDemo","phxUtil",function(a,b,c){function d(){}return{name:function(){return"QuantcastDemos"},onInitialPageView:function(d,e,f){a.sayParseQC=function(a){b.set(a)};var g;return g="http://pixel.quantserve.com/api/segments.json?a=p-abhYEve3ZZl2E&callback=sayParseQC",c.loadJsLib(g)},onSubsequentPageView:function(a,b,c){d()}}}]}),define("phxTags/services/tags/skimlinks",[],function(){"use strict";return["$window","$document","phxUtil",function(a,b,c){return{name:function(){return"Skimlinks"},onInitialPageView:function(b,d,e){a.post_skimwords_hook=function(){};var f="http://s.skimresources.com/js/"+b+".skimlinks.js";return c.loadJsLib(f)},onSubsequentPageView:function(b,c,d){a.skimlinks&&a.skimlinks()}}}]}),define("phxTags/services/tags/spoutableTag",[],function(){"use strict";return["phxUtil",function(a){return{name:function(){return"Spoutable"},onInitialPageView:function(b,c,d){var e="http://cdn.spoutable.com/"+b.id+"/spoutable.js";return a.loadJsLib(e)}}}]}),define("phxTags/services/tags/taboola",[],function(){"use strict";return["$window","phxUtil","phxTagUtil","phxCategorizr",function(a,b,c,d){function e(a){var b=d.isMobile();return{container:"taboola",target_type:a.targetType,mode:b?a.mobileMode:a.mode,placement:b?a.mobilePlacement:a.placement}}function f(){var a=angular.element("#phxtags-belowcontent");if(a){var b=angular.element('<div id="taboola" class="m-taboola nocontent"></div>');a.append(b),c.processExternalImages(b)}}return{name:function(){return"Taboola"},onInitialPageView:function(c,d,g){f(),a._taboola=window._taboola||[],a._taboola.push({article:"auto"});var h="http://cdn.taboola.com/libtrc/"+c.id+"/loader.js";return b.loadJsLib(h).then(function(){a._taboola&&(a._taboola.push(e(c)),a._taboola.push({flush:!0}))})},onSubsequentPageView:function(b,c,d){f(),a._taboola&&(a._taboola.push({notify:"newPageLoad"}),a._taboola.push(e(b)),a._taboola.push({article:"auto",url:d}))}}}]}),define("phxTags/services/tags/tealium",[],function(){"use strict";return["$window","$document","phxUtil","$filter","phxViewMeta","Config",function(a,b,c,d,e,f){function g(a,b,c){if(a){var d=i[b]||i.standard,f=d(a,e.getItemMeta(a),c);for(var g in f)f[g]||delete f[g];return f}return null}var h="utag_data",i={standard:function(a,b,c){return{authorName:b.authorName,canonicalUrl:a.canonicalUrl,id:a.id,keywords:b.keywords,primaryImage:a.primaryImage?d("phxImageUrl")(a.primaryImage,"socialSharingImage"):null,publicationTimestamp:a.publicationTimestamp,section:b.section,title:b.metaTitle,pageType:b.pageType}},time:function(a,b,c){var d,e={ContentUserProfile:"author",ContentSection:"channel",ContentRichTerm:"tag",ContentArticle:"article",ContentPhoto:"gallery",ContentBasicPage:"basic"};d="ContentHubPage"===a.objectType?"/"===a.path?"homepage":a.path===f.globalSearchPath?"search":"hub":e[a.objectType]||b.pageType;var g=null,h=null;if(a.path===f.globalSearchPath){var i=/\?.*query=([^\&]+)/.exec(c);if(i&&(g=i[1]),h=0,a.viewProperties&&a.viewProperties.components)for(var j=0;j<a.viewProperties.components.length;j++)if(a.viewProperties.components[j].collection){h=a.viewProperties.components[j].collection.totalItems;break}}return{channel:f.siteKeyword,template_type:d,page_name:"homepage"===d||"search"===d?d:b.metaTitle,content_id:"ContentArticle"===a.objectType||"ContentPhoto"===a.objectType?a.id:null,login_status:"logged out",site_section1:b.section||d,search_keyword:g,search_results:h,page_number:"ContentPhoto"===a.objectType&&a.viewProperties&&a.viewProperties.analytics?a.viewProperties.analytics.collectionIndex+1:null,publish_date:"ContentArticle"===a.objectType&&a.publicationTimestamp?a.publicationTimestamp.substr(0,"YYYY-MM-DD".length):null,tag_keywords:b.keywords?b.keywords.replace(",","|"):null,author_name:b.authorName}}},j="xojane"===f.siteKeyword||"xovain"===f.siteKeyword?"time":"standard";return{name:function(){return"Tealium"},onInitialPageView:function(b,d,e){a[h]=g(d,j,e);var f="//tags.tiqcdn.com/utag/"+b+"/utag.js";return c.loadJsLib(f)},onSubsequentPageView:function(b,c,d){a.utag&&a.utag.view(g(c,j,d))}}}]}),define("phxTags/module",["phxTags/services/phxTags","phxTags/services/phxTagUtil","phxTags/services/tags/boomtrain","phxTags/services/tags/buzzfeed","phxTags/services/tags/chartbeat","phxTags/services/tags/comscore","phxTags/services/tags/ga","phxTags/services/tags/krux","phxTags/services/tags/keywee","phxTags/services/tags/parsely","phxTags/services/tags/pubexchange","phxTags/services/tags/quantcast","phxTags/services/tags/quantcastDemos","phxTags/services/tags/skimlinks","phxTags/services/tags/spoutableTag","phxTags/services/tags/taboola","phxTags/services/tags/tealium"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";return angular.module("phxTags",[]).provider("phxTags",a).service("phxTagUtil",b).config(["phxTagsProvider",function(a){a.registerTag(c),a.registerTag(d),a.registerTag(e),a.registerTag(f),a.registerTag(g),a.registerTag(h),a.registerTag(i),a.registerTag(j),a.registerTag(k),a.registerTag(l),a.registerTag(m),a.registerTag(n),a.registerTag(o),a.registerTag(p),a.registerTag(q)}]).run(["phxTags","$rootScope","$timeout","Config","$location",function(a,b,c,d,e){b.$on("phxFocusedPageChanged",function(b,d){c(function(){a.onPageView(d.masterItem,e.url())})})}])}),define("phxAds/services/phxAdMultisizeProfiles",{header:{C:{"class":"m-advertisement--iabBackfillBanner-top",sizes:["300x400","970x250","970x90","728x90"]},B:{"class":"m-advertisement--iabBackfillBanner-top",sizes:["300x400","728x90"]},A:{"class":"m-advertisement--iabBackfill-top",sizes:["300x400","320x50"]}},adaptiveCard:{C:{"class":"m-advertisement--iabBackfill-hubDesktop",sizes:["300x400","970x250","970x90","728x90"]},B:{"class":"m-advertisement--iabBackfill-hubTablet1",sizes:["300x400","300x250"],additionalFallback:{"class":"m-advertisement--iabBackfill-hubTablet2",sizes:["300x250"],allowedWith:["300x250"]}},A:{"class":"m-advertisement--iabBackfill-hubMobile",sizes:["300x400","300x250"]}},advertisingContainer:{C:{"class":"m-advertisement--iabBackfill1",sizes:["300x400","970x250","300x250"],additionalFallback:{"class":"m-advertisement--iabBackfill2",sizes:["300x250"],allowedWith:["300x250"]}},B:{"class":"m-advertisement--iabBackfill1",sizes:["300x400","300x250"],additionalFallback:{"class":"m-advertisement--iabBackfill2",sizes:["300x250"],allowedWith:["300x250"]}},A:{"class":"m-advertisement--iabBackfill1",sizes:["300x400","300x250"]}}}),define("phxAds/services/phxKruxUtils",[],function(){"use strict";return["$window",function(a){function b(b){var c,d="kxsaymedia_"+b;return a.localStorage?a.localStorage[d]||"":a.navigator.cookieEnabled?(c=a.document.cookie.match(d+"=([^;]*)"),c&&decodeURIComponent(c[1])||""):""}return{getValue:b}}]}),define("phxAds/directives/phxAdvertisingContainer",[],function(){"use strict";return["phxCategorizr","phxUtil","phxElementUtil","Respond","Config","$window","$document","$rootScope","$compile","$timeout",function(a,b,c,d,e,f,g,h,i,j){function k(a){var b=h.$new();b.index=o++,q(b,function(b){a.after(b)})}function l(a){return a.length>0?a[0].attributes.hasOwnProperty("tml-image")||a[0].attributes.hasOwnProperty("tml-external-provider")||a[0].attributes.hasOwnProperty("tml-collection"):!1}function m(a){return a.length>0&&a[0].tagName&&"P"===a[0].tagName.toUpperCase()}function n(a){for(var h=b.estimateContentHeight(a.children()),i=Math.max(g[0].documentElement.clientHeight,f.innerHeight||0),j=0,n=e.ad.detailPageViewportSpacing[d.getCurrentBreakpoint()],o=e.ad.detailAddlPageViewportSpacing[d.getCurrentBreakpoint()],p=e.ad.detailPageImageHeightDiscount||1,q=a.children(),r=0,s=0,t=0;t<q.length;t++){var u=angular.element(q[t]),v=angular.element(q[t+1]),w=0;c.isHeadlineElement(u)||l(u)&&m(v)||m(u)&&l(v)||t!==q.length-2&&(w=u[0].attributes.hasOwnProperty("tml-image")?b.estimateTmlImageHeight(u)*p:u[0].attributes.hasOwnProperty("tml-external-provider")?250:u.outerHeight(!0),r+=w,r-j>=i*(s>0?o:n)&&(k(u),j=r,s++))}return 0===j&&h>0&&(k(angular.element(q[q.length-1])),s++),a}var o=0,p='<div><phx-adaptive-ad-with-fallback adaptive-classes="[\'m-advertising--adaptive-inline\']" fallback-classes="[\'l-inline\']" backfill-profile="advertisingContainer" breakout="true"></phx-adaptive-ad-with-fallback></div>',q=i(p);return{restrict:"EA",priority:999,link:function(b,c,d){b.$on("$locationChangeStart",function(){o=0}),j(function(){a.isServer()||e.ad.enabled!==!0||n(c)})}}}]}),define("phxAds/directives/phxAdvertisement",[],function(){"use strict";return["$window","$timeout","$q","cstLogger","Config","phxFeatures",function(a,b,c,d,e,f){function g(b){for(var c=b.get(0);c&&"HTML"!==c.nodeName&&"#document"!==c.nodeName&&"#document-fragment"!==c.nodeName;){var d=a.getComputedStyle(c);if("#document-fragment"===c.nodeName||d&&"none"===d.getPropertyValue("display"))return!0;c=c.parentNode}return!1}function h(){var a=$(window).scrollTop(),b=angular.element(".m-header"),c=angular.element(".m-advertisement-off-canvas--pusher"),d=angular.element(".m-advertisement--skin-container"),e="none"!==c.css("transform")&&parseInt(c.css("transform").split(",")[5])>0?parseInt(c.css("transform").split(",")[5]):parseInt(c.css("top"))||0,f=e+b.height()-a;if(0>=f)d.css("transform","translate3d(-50%, 0, 0)");else{var g=e+b.height()-angular.element(document).scrollTop();d.css("transform","translate3d(-50%, "+g+"px, 0)")}}function i(a,b,c,g,h){"adaptive"===b&&(b=c||"inline");var i=h.adFlag;delete h.adFlag;var j=h.adSizes;delete h.adSizes;var k={contentAdjacent300x600:"sidebar",interstitial:"interstitial",iab:"in_card","gallery-interstitial":"gallery_interstitial","gallery-mobile":"gallery_top","gallery-right":"gallery_sidebar","gallery-top":"gallery_top",fixedBottom:"fixed_bottom",siteSkin:"skin"},l=k[b]||"in_content";"header"===i&&(l="header");var m=e.ad.snowdrop.zoneDefinitions[b]?e.ad.snowdrop.zoneDefinitions[b].dimensions:void 0;m||d.error("Unknown adzone type: "+b);var n,o;if(g.masterItem){n=g.masterItem.objectType;var p="/"===g.path;"Content"===n.substr(0,7)&&(n=n.substr(7)),n=n.toLowerCase(),"hubpage"===n&&(n=p?"homepage":"hub"),p?o="homepage":"ContentSection"===g.masterItem.objectType?o=g.masterItem.sectionKey:"ContentArticle"===g.masterItem.objectType&&(o=g.masterItem.section.sectionKey)}return f.isEnabled("ads-backends-new")||f.isEnabled("custom-adapter")?g.advertising.createAdSlot({element:a,adSizes:j,adzonePosition:l,type:b,beaconParameters:h,dimensions:m,index:h.index,section:o,pageType:n}):g.advertising.fillAdZone(a,{adSizes:j,adzonePosition:l,type:b,beaconParameters:h,dimensions:m,index:h.index})}return{restrict:"E",scope:{adFlag:"@",adMode:"@",adRole:"@",adSizes:"=?",column:"@",index:"@",row:"@"},require:"^phxPage",link:function(a,c,d,e){function f(a){var b=a&&a.associatedRichTerms?a.associatedRichTerms.map(function(a){return a.displayName}):[];return"ContentRichTerm"===a.objectType&&b.push(a.displayName),b}function j(b){b?(a.$emit("phxAdvertisementAdLoaded",b),"siteSkin"===a.adRole&&k.addPageClass("m-skin"),c.on("$destroy",function(){b.destroy(),k.advertising.siteSkinAdsEnabled&&"siteSkin"===a.adRole&&angular.element(document).off("scroll",h)})):("siteSkin"===a.adRole&&angular.element(document).off("scroll",h),c.hide(),a.$emit("phxAdvertisementNoAdLoaded"))}var k=e.page,l=a.adRole;if(!l)throw new Error("phx-advertisement requires ad-role attribute");if(k.advertising.siteSkinAdsEnabled&&"siteSkin"===a.adRole&&(angular.element(document).on("scroll",h),h()),g(c)){var m=angular.element(document.createComment("skipped loading hidden ad"));c.append(m),a.$emit("phxAdvertisementHidden")}else b(function(){var b={index:a.index||void 0,row:a.row||"",column:a.column||"",adFlag:d.adFlag,adSizes:a.adSizes||[],terms:f(k.masterItem)};i(c,l,a.adMode,k,b).then(j)})}}}]}),define("text!phxAds/html/phxAdaptiveAdWithFallback.html",[],function(){return'<div class="m-advertisement">\n    <div ng-if="showAdvertisementText" class="m-advertisement--hed" translate="AD_BREAK"></div>\n    <div class="{{containerClassName}}">\n        <div class="{{integrationClassName}}">\n            <phx-advertisement ad-role="{{ adRole }}" ad-flag="{{adFlag}}" ad-mode="{{adMode}}" ad-sizes="adSizes" index="{{index}}" ng-mousedown="checkToAnimate($event)" ng-mouseup="checkToAnimate($event)"></phx-advertisement>\n        </div>\n        <div ng-if="loadAddlFallbacks" class="{{fallbackIntegrationClassName}}">\n            <phx-advertisement ad-role="{{adRole}}" ad-flag="{{adFlag}}" ad-mode="{{adMode}}" ad-sizes="fallbackSizes" index="{{index}}"></phx-advertisement>\n        </div>\n    </div>\n</div>\n'}),define("phxAds/directives/phxAdaptiveAdWithFallback",["text!phxAds/html/phxAdaptiveAdWithFallback.html"],function(a){"use strict";return["phxBreakout","phxCategorizr","$compile","phxAdMultisizeProfiles","$rootScope","$timeout","phxAdUtils","phxUtil",function(b,c,d,e,f,g,h,i){var j=d(a),k=angular.element(".m-advertisement-off-canvas--pusher");return f.config.ad.enabled&&f.$on("isSponsored",function(){k.css("top",0)}),{restrict:"E",scope:{adMode:"@",index:"@",frequencyCapAdaptive:"=",disabled:"="},require:"^phxPage",link:function(a,d,f,l){function m(a,b){b&&a.addClass([].concat(b).join(" "))}function n(a,b){parseInt(k.css("top"))||k.css("top",0);var c=parseInt(k.css("top"),0),d=b-c,e=!1;k.one("transitionend webkitTransitionEnd oTransitionEnd",function(c){e||(a&&a.adZoneVisible(),k.addClass("m-advertisement-off-canvas--pusher-no-animation"),k.removeAttr("style"),k.css("top",b+"px"),e=!0)}),k.removeClass("m-advertisement-off-canvas--pusher-no-animation");var f=angular.element(".m-advertisement--skin-container");if(f.length>0){var g=angular.element(".m-header");f.css("transform","translate3d(-50%, "+g.height()+"px, 0)")}k.css("transform","translate3d(0, "+d+"px, 0)")}function o(b,c){w(),x(),d.css("visibility","visible");var e=a.adType=h.getAdType(c.adSize);if(!r||"billboard"!==e.name&&"adaptive"!==e.name||h.adaptiveSeen(),"adaptive"===e.name)m(d,a.$eval(f.adaptiveClasses)),a.containerClassName="m-advertisement--adaptive",a.integrationClassName="m-advertisement--full-ad",r||(a.showAdvertisementText=!0);else if("fallback"===e.name){m(d,a.$eval(f.fallbackClasses)),a.containerClassName="m-advertisement--backfill-container",a.integrationClassName="m-advertisement--backfill "+u["class"];var i=c.adSize.width+"x"+c.adSize.height;u.additionalFallback&&(!u.additionalFallback.allowedWith||u.additionalFallback.allowedWith.indexOf(i)>-1)&&(a.fallbackIntegrationClassName="m-advertisement--backfill "+u.additionalFallback["class"],a.fallbackSizes=u.additionalFallback.sizes,a.loadAddlFallbacks=!0)}else{m(d,a.$eval(f.risingStarClasses)),a.containerClassName="m-advertisement--backfill-container",a.integrationClassName="m-advertisement--"+e.name+" "+u["class"];var j,l,o,p;a.checkToAnimate=function(b){"EMBED"!==b.target.tagName&&"OBJECT"!==b.target.tagName||(l=d.find("phx-advertisement > div > div").height(),j=g(function(){p=d.find("phx-advertisement > div > div").height(),p!==l&&(o=l>p?e.collapseHeight:e.expandHeight,r?n(c,o+y):d.find("."+a.containerClassName).css("height",o+y)),j=void 0},z))}}if("true"===f.animateOpen&&r){var q=c.adSize.height;"adaptive"!==e.name&&"A"!==t&&(q+=y);var s=window.pageYOffset;if(s>q/2)return void window.requestAnimationFrame(function(){k.removeAttr("style"),k.css("top",q+"px"),window.scrollTo(0,s+q)});n(c,q)}}function p(a){d.hide(),r&&n(null,0)}function q(){j(a,function(c){a.adRole="adaptive",r&&(a.adFlag="header"),c.data("$phxPageController",l),d.replaceWith(c),d.remove(),d=c,d.css("visibility","hidden"),"true"===f.breakout&&(d.data("padding",150),b.registerDam(d),a.$on("phxAdvertisementAdLoaded",function(){b.processBreakouts()})),w=a.$on("phxAdvertisementAdLoaded",o),x=a.$on("phxAdvertisementNoAdLoaded",p)})}a.backfillProfile=f.backfillProfile;var r=a.isHeader="header"===a.backfillProfile;if(a.showAdvertisementText=!1,!i.showSmartnav()||!r){var s=l.page.masterItem&&l.page.masterItem.objectType,t=c.getBreakpoint();if(a.disabled){if(a.disabled===!0)return;if(a.disabled.contentType&&-1!==a.disabled.contentType.indexOf(s))return;if(a.disabled.breakpoints&&-1!==a.disabled.breakpoints.indexOf(t))return}a.loadAddlFallbacks=!1;var u=e[a.backfillProfile][t],v=angular.copy(u.sizes),w=angular.noop,x=angular.noop,y=20,z=200;if(a.frequencyCapAdaptive===!0&&h.hasSeenAdaptive()&&!l.page.sponsorship){var A=v.indexOf("300x400");A>-1&&v.splice(A,1);var B=v.indexOf("970x250");B>-1&&v.splice(B,1)}a.adSizes=v,g(q)}}}}]}),define("text!phxAds/html/phxBrandingBadge.html",[],function(){return'<a ng-href="{{ badge.linkTargetUrl }}" rel="nofollow" target="{{ isExternalLink ? \'_blank\' : \'_self\' }}">\n    <img ng-src="{{ imageUrl }}"\n        alt="{{ altText }}"\n        title="">\n</a>\n'}),define("phxAds/directives/phxBrandingBadge",["text!phxAds/html/phxBrandingBadge.html"],function(a){"use strict";return["$filter","phxUtil",function(b,c){return{restrict:"E",scope:{badge:"="},template:a,replace:!0,link:function(a){var d=b("phxImageUrl"),e=a.badge;a.imageUrl=e.imageUrl||d(e.image,"brandingBadge"),a.altText=e.alternativeText||e.image.defaultCaption,a.isExternalLink=!!c.isExternalLink(e.linkTargetUrl)}}}]}),define("snowdrop/registry",["delivery/mixin"],function(a){function b(){function b(a){for(var b in c)c.hasOwnProperty(b)&&c[b].state.dispatch("registry",a)}var c={};this.register=function(a){var d=a.rid;if(!c.hasOwnProperty(d)){var e=function(){delete c[d]};a.addListener("supervisor","unload",e),a.addListener("site","unload",e),a.addListener("loader","registrymessage",function(a){b(a.message)})}c[d]={state:a,last:c[d]}},this.clear=function(a){if(c.hasOwnProperty(a)){c[a];delete c[a]}},this.session=function(a){return c[a]&&c[a].state},this.messageAll=b,this.mixin=a}return new b}),define("phxAds/services/phxAdvertising",["snowdrop/registry"],function(a){"use strict";return["$q","$window","Config","$rootScope","phxBreakout","cstLogger","phxUtil","$location","phxAdUtils","phxDefaultAdImpl","phxEvents","$timeout","phxCategorizr","phxFeatures",function(b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b){this.context=a,b=b||{},this.destroy=b.onDestroy||angular.noop,this.adZoneVisible=b.onAdZoneVisible||angular.noop,this.adSize=b.adSize||""}function q(){this.fillAdZone=function(a,c){return b.when(null)}}function r(a){function c(){if(a.masterItem&&a.masterItem.associatedRichTerms)for(var b=0;b<a.masterItem.associatedRichTerms.length;b++)if("M"===a.masterItem.associatedRichTerms[b].displayName)return new q;return d.ad.enabled!==!1&&angular.isDefined(d.ad.adServer)&&-1===i.absUrl().indexOf("noadsplease")&&a.masterItem?o.isEnabled("tgx-ads")?(console.log("tgx-ads does not work without ads-backends-new"),new q):new k.getImplementation(f):new q}this.page=a;var e,f=this,g={},j=c();a.sponsorship&&(e=d.ad.sponsorship[a.sponsorship.sponsorshipType]),this.fillAdZone=function(c,f){if(e){if(!e.hasOwnProperty(f.type)||e[f.type]!==!0)return b.when(null)}else if(!e&&a.sponsorship)return b.when(null);void 0===f.index&&(f.adzonePosition in g||(g[f.adzonePosition]=-1),f.index=g[f.adzonePosition]+=1);var h=i.search();if(h.hasOwnProperty("adzone")&&h.hasOwnProperty("sizes")&&h.adzone===f.adzonePosition.replace("_","-")&&(f.adSizes=h.sizes.match(/(\d*x\d*)/g)),d.ad.adaptiveAd&&d.ad.adaptiveAd.requestsDisabled||o.isEnabled("custom-adapter")||o.isEnabled("tgx-ads")){var k=f.adSizes.indexOf("300x400");k>-1&&f.adSizes.splice(k,1)}return j.fillAdZone(c,f)},this.createAd=function(a){return new p(f,a)};var l=d.ad.fixedBottom;this.fixedBottomAdsEnabled=n.isMobile()||l&&l.enabled&&(a.isDetailPage&&l.enabled.indexOf("detail")>-1||!a.isDetailPage&&l.enabled.indexOf("hub")>-1);var m=d.ad.siteSkin;this.siteSkinAdsEnabled=n.isDesktop()&&m&&m.enabled&&(a.isDetailPage&&m.enabled.indexOf("detail")>-1||!a.isDetailPage&&m.enabled.indexOf("hub")>-1);var r=d.ad.integrations.pigeon;this.interstitialsEnabled=r&&r.interstitial&&!h.isGalleryView(a)}function s(a,b){c.postMessage&&c.postMessage(a,b)}function t(){a.messageAll("hidefixed")}function u(){a.messageAll("unhidefixed")}return e.$on("phxTmlImage:imageLoaded",h.throttle(function(){s("sm_lyra_relayout","*")},50)),e.$on("phxCollection:enterFullscreen",function(){t(),s("hide_3rd_party_adhesion_ad","*")}),e.$on("phxCollection:exitFullscreen",function(){u(),s("unhide_3rd_party_adhesion_ad","*")}),l.$on("resize",function(){s("sm_lyra_relayout","*")}),c.addEventListener("message",function(a){a.data&&"string"==typeof a.data&&0===a.data.indexOf("reflow-adzone")&&f.processBreakouts()}),e.$on("$locationChangeStart",function(a,b,d){for(var e=c.document.body,f=e,g=[];f.nextSibling;)f=f.nextSibling,g.push(f);g=angular.element(g),g.css("display","none"),g.remove();var h=d.split("?")[0].split("#")[0],i=b.split("?")[0].split("#")[0];i!==h&&s("remove_3rd_party_adhesion_ad","*")}),{createContextForPage:function(a){return new r(a)}}}]}),define("delivery/registry",["delivery/mixin"],function(a){"use strict";function b(){function b(a){for(var b in c)c.hasOwnProperty(b)&&c[b].state.dispatch("registry",a)}var c={};this.register=function(a){var d=a.rid;if(!c.hasOwnProperty(d)){var e=function(){delete c[d]};a.addListener("supervisor","unload",e),a.addListener("site","unload",e),a.addListener("loader","registrymessage",function(a){b(a.message)})}c[d]={state:a,last:c[d]}},this.clear=function(a){c.hasOwnProperty(a)&&delete c[a]},this.clearAll=function(){for(var a in c)delete c[a]},this.session=function(a){return c[a]&&c[a].state},this.messageAll=b,this.mixin=a}return new b}),define("delivery/rid-allocator",[],function(){"use strict";function a(a){var c=a.substr(0,12),e=a.substr(12,8),f=a.substr(-12,12),g=(parseInt(e,16)+1)%(d+1);return g=b(g.toString(16),8),c+g+f}function b(a,b){if(a.length>b)return a;for(var c="",d=0;b>d;d++)c+="0";return(c+a).substr(-1*b,b)}function c(b,c,d){var f=[],g=[],h=function(){var e=c(),f=d.get(b);return f.then(function(b){var c=b.hasOwnProperty("data")?b.data:b,d=c.rid,f=c.clockIncrement;"string"==typeof d&&32===d.length||e.reject(new Error("invalid RID")),("number"!=typeof f||1>f)&&e.reject(new Error("invalid RID clock increment value"));
for(var g=[],h=d,i=0;f>i;i++)g.push(h),h=a(h);e.resolve(g)})["catch"](function(a){e.reject(new Error("Error accessing delivery endpoint: "+a))}),e.promise},i=function(){var a=h();a.then(function(a){for(g=g.concat(a);g.length&&f.length;){var b=f.shift(),c=g.shift();b.resolve(c)}g.length<e&&i()})["catch"](function(a){for(;f.length;)f.shift().reject(a)})};this.get=function(){var a=c();return g.length?(a.resolve(g.shift()),g.length<e&&i()):f.push(a),a.promise},i()}var d=parseInt("ffffffff",16),e=5;return c}),define("phxAds/services/phxAdvertisingNew",["delivery/registry","delivery/rid-allocator"],function(a,b){"use strict";return["$q","$window","Config","$rootScope","phxBreakout","cstLogger","phxUtil","$location","$http","phxAdUtils","phxEvents","$timeout","phxCategorizr","phxFeatures","phxBaseAdImpl","phxTimeAdImplNew","phxDfpAdImpl","phxDemos",function(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(b){function d(){var c=new q.getImplementation(g);if(b.masterItem&&b.masterItem.associatedRichTerms)for(var d=0;d<b.masterItem.associatedRichTerms.length;d++)if("M"===b.masterItem.associatedRichTerms[d].displayName)return c;return e.ad.enabled!==!1&&angular.isDefined(e.ad.adServer)&&-1===j.absUrl().indexOf("noadsplease")&&b.masterItem?"time"===z.alias?angular.extend(c,new r.getImplementation(g)):"dfp"===z.alias?angular.extend(c,new s.getImplementation(g,"1006611")):angular.extend(c,new s.getImplementation(g,"88059007",a)):c}this.page=b,this.adSlots=[];var f,g=this,h={},k=d();b.sponsorship&&(f=e.ad.sponsorship[b.sponsorship.sponsorshipType]),this.renderAds=function(){var a=this.adSlots;if(this.adSlots=[],a){console.log("phxAdvertisingNew.renderAds sending "+a.length+" slots.");for(var b=0;b<a.length;b++)console.log("Sending rid "+a[b].rid);k.renderAds(a)}},this.createAdSlot=function(a){if(f){if(!f.hasOwnProperty(a.type)||f[a.type]!==!0)return c.when(null)}else if(!f&&b.sponsorship)return c.when(null);void 0===a.index&&(a.adzonePosition in h||(h[a.adzonePosition]=-1),a.index=h[a.adzonePosition]+=1);var d=j.search();if(d.hasOwnProperty("adzone")&&d.hasOwnProperty("sizes")&&d.adzone===a.adzonePosition.replace("_","-")&&(a.adSizes=d.sizes.match(/(\d*x\d*)/g)),0===a.adSizes.length&&a.adSizes.push(a.dimensions),e.ad.adaptiveAd&&e.ad.adaptiveAd.requestsDisabled||p.isEnabled("custom-adapter")||p.isEnabled("tgx-ads")){var g=a.adSizes.indexOf("300x400");g>-1&&a.adSizes.splice(g,1)}var i=c.defer(),l={adindex:a.index,adSizes:a.adSizes,adzone:a.adzonePosition,beaconParameters:a.beaconParameters,context:this,defer:i,hostname:e.siteProductionDomain,node:a.element,section:a.section,pageType:a.pageType,terms:a.beaconParameters.terms,site:"saymedia.com",destroy:angular.noop,adZoneVisible:angular.noop,adzoneType:a.type,language:A,dimensions:a.dimensions};return a.beaconParameters&&a.beaconParameters.terms&&(l.terms=a.beaconParameters.terms),B.get().then(function(a){l.rid=a,c.all([k.getDemos(z.alias),k.getDemos(z.beaconDemo)]).then(function(a){k.fillAdSlot(l,a[0],a[1])},function(a){console.log("error obtaining demo targets",a)})}),0===this.adSlots.length&&n(this.renderAds.bind(this),0),this.adSlots.push(l),i.promise};var l=e.ad.fixedBottom;this.fixedBottomAdsEnabled=o.isMobile()||l&&l.enabled&&(b.isDetailPage&&l.enabled.indexOf("detail")>-1||!b.isDetailPage&&l.enabled.indexOf("hub")>-1);var m=e.ad.siteSkin;this.siteSkinAdsEnabled=o.isDesktop()&&m&&m.enabled&&(b.isDetailPage&&m.enabled.indexOf("detail")>-1||!b.isDetailPage&&m.enabled.indexOf("hub")>-1);var t=e.ad.interstitial;this.interstitialsEnabled=t&&t.enabled&&!i.isGalleryView(b),k.createPage(this.page)}function v(a,b){d.postMessage&&d.postMessage(a,b)}function w(){a.messageAll("hidefixed")}function x(){a.messageAll("unhidefixed")}if((!p.isEnabled("ads-backends-new")||o.isServer())&&!p.isEnabled("custom-adapter"))return{createContextForPage:void 0};var y={"tgx-ads":{alias:"time",beaconDemo:"none"},DFP:{alias:"dfp",beaconDemo:"none"},"custom-adapter":{alias:"dfp",beaconDemo:"none"},Pigeon:{alias:"pigeon",beaconDemo:"beacon"}},z={};p.isEnabled("tgx-ads")?z=y["tgx-ads"]:angular.forEach(y,function(a,b){b===e.ad.adServer&&(z=a)});var A=e.locale?e.locale.substr(0,2):"en",B=new b(e.ad.snowdrop.ridUrl,c.defer,k);return f.$on("phxTmlImage:imageLoaded",i.throttle(function(){v("sm_lyra_relayout","*")},50)),f.$on("phxCollection:enterFullscreen",function(){w(),v("hide_3rd_party_adhesion_ad","*")}),f.$on("phxCollection:exitFullscreen",function(){x(),v("unhide_3rd_party_adhesion_ad","*")}),f.$on("$locationChangeStart",function(a,b,c){var d=c.split("?")[0].split("#")[0],e=b.split("?")[0].split("#")[0];e!==d&&v("remove_3rd_party_adhesion_ad","*")}),m.$on("resize",function(){v("sm_lyra_relayout","*")}),d.addEventListener("message",function(a){a.data&&"string"==typeof a.data&&0===a.data.indexOf("reflow-adzone")&&g.processBreakouts()}),{createContextForPage:function(a){return new u(a)}}}]}),define("phxAds/services/phxVideoAdvertising",[],function(){"use strict";return["phxDfpVideoAdImpl",function(a){function b(b){function c(){return new a.getImplementation}this.page=b;var d=c();this.createAdSpot=function(a){return d.generateTag(a)}}return{createContextForPage:function(a){return new b(a)}}}]}),define("phxAds/services/phxSponsorships",["moment"],function(a){"use strict";return["$rootScope",function(b){var c=function(c){if(!c)return!1;var d=a(b.currentTime).utc();return c.startTime?d.isBefore(a.utc(c.startTime))?!1:!c.endTime||!d.isAfter(a.utc(c.endTime)):!1},d=function(a){return c(a.branding)?{reporting:a.reporting,sectionBrandingBadge:a.branding.topBadge,sponsorshipType:"section"}:null};return{getSponsorshipForContentItem:function(a){return"ContentSection"===a.objectType?d(a):a.isSponsored?{reporting:a.reporting,sponsorshipType:"item"}:a.section?d(a.section):null}}}]}),define("phxAds/services/phxAdUtils",[],function(){"use strict";return["$location","$window","cstLogger","Config","phxBeaconClient","phxCookies","phxCategorizr","phxFeatures","phxUtil",function(a,b,c,d,e,f,g,h,i){function j(a){return a.replace(/[''=!+#*~;^()\[\],.&]/g,"")}function k(a){var b=new Date(a);b.setMinutes(b.getMinutes()+30),f.put("PHX_ADAPTIVE_SEEN",!0,{expires:b})}function l(){var a=f.get("PHX_ADAPTIVE_SEEN");return a||!1}function m(){k(Date.now())}function n(a,b,d){b||(b=0,c.error("No adRid provided for "+a)),d||(d={});var f=e.makeBeaconClient();f.send(a,b,d)}function o(a,b,c){var d=a.events.rid,e=[];angular.forEach(h.selections(),function(a){e.push(a.join(":"))}),e.sort();var f=a.masterItem?a.masterItem.objectType:void 0,g=angular.extend({pagerid:d,objectType:f,tmtfeatures:e.join(",")},c||{});n("pagelink",b,g)}function p(){return-1!==a.absUrl().indexOf("iwantads")||"PROD"!==b.envShortName&&"DEMO"!==b.envShortName}function q(a){return a.sponsorship&&a.sponsorship.reporting&&a.sponsorship.reporting.opportunityLineItemId}function r(a){return a&&a.page&&q(a.page)}function s(a){return w.find(function(b){return a.width===b.width&&a.height===b.height})||{name:"fallback"}}function t(a){var c;return c=b.envShortName&&"PROD"!==b.envShortName?"http://dove.qa.saymedia.com":"https://dove.saymedia.com",c+"/"+a}function u(a){return["stream","both","more"].some(function(b){return a===b})}function v(a){return["inline","both",!0,"more"].some(function(b){return a===b})}var w=[{name:"adaptive",width:300,height:400},{name:"billboard",width:970,height:250,collapseHeight:31,expandHeight:250},{name:"pushdown",width:970,height:90,collapseHeight:90,expandHeight:415}];return{_setAdaptiveSeenCookie:k,sendBeacon:n,sendSessionLinkBeacon:o,adaptiveSeen:m,hasSeenAdaptive:l,isContextSponsored:r,isItemSponsored:q,isDebug:p,getAdType:s,doveBuildEndpointUrl:t,showAdTiles:u,showAdComponents:v,sanitizeTargetingValue:j}}]}),define("phxAds/services/phxBaseAdImpl",[],function(){"use strict";return["$q",function(a){function b(b){this.createPage=function(a){},this.fillAdSlot=function(b,c){return a.when(null)},this.renderAds=function(a){}}return{getImplementation:function(a){return new b(a)}}}]}),define("phxAds/services/phxDefaultAdImpl",[],function(){"use strict";return["$q","$http","$location","$window","Config","cstLogger","phxAdUtils","phxKruxUtils","phxSnowdrop",function(a,b,c,d,e,f,g,h,i){function j(b){var c={};if(g.isContextSponsored(b)&&(c.sponlineitemid=b.page.sponsorship.reporting.opportunityLineItemId),b.page.masterItem){var f=b.page.masterItem.objectType,j="/"===b.page.path;"Content"===f.substr(0,7)&&(f=f.substr(7)),f=f.toLowerCase(),"hubpage"===f&&(f=j?"homepage":"hub"),c.pagetype=f}g.isDebug()&&(c.disabled="placement_whitelist");var k,l=g.isDebug()?e.ad.integrations.debug:e.ad.integrations.pigeon,m=i.init(l,c);b.page.masterItem&&b.page.masterItem.sectionKey?k=b.page.masterItem.sectionKey:b.page.masterItem&&"/"===b.page.masterItem.path&&(k="homepage");var n=m.createPage(d.document,k);this.fillAdZone=function(e,f){var i=a.defer(),j=f.type,k=f.dimensions,l=f.adzonePosition,m=f.index,o=f.adSizes,p=f.beaconParameters||{},q=p.terms;return n.then(function(a){a.addZone(e,k).then(function(a){a.addTarget("adzonetype",j),a.addTarget("adzone",l),a.addTarget("adindex",m),a.addTarget("noIframe",1),q&&q.length>0&&a.addTarget("terms",q),o&&o.length>0&&a.addTarget("sizes",o),a.addTarget("kuid",h.getValue("kuid")),a.addTarget("ksg",h.getValue("segs").split(",")),a.addListener("supervisor","loaded",function(c){function e(){a.unload()}function f(){var b=d.document.createEvent("Event");b.initEvent("scroll",!0,!0),a.node.jquery?a.node[0].dispatchEvent(b):a.node.dispatchEvent(b)}g.sendSessionLinkBeacon(b.page,a.rid,p),i.resolve(b.createAd({adSize:{width:c&&c.adSize?c.adSize[0]:0,height:c&&c.adSize?c.adSize[1]:0},onDestroy:e,onAdZoneVisible:f}))}),a.addListener("supervisor","held",function(c){g.sendSessionLinkBeacon(b.page,a.rid,p),i.resolve(null)})}),a.fill(c)}),i.promise}}return{getImplementation:function(a){return new j(a)}}}]}),define("delivery/determine-flash-version",[],function(){"use strict";function a(a){return a.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}return function(){if("undefined"!=typeof ActiveXObject)try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return a(b.GetVariable("$version"))}catch(c){}try{var d="application/x-shockwave-flash";if(navigator.mimeTypes[d].enabledPlugin){var e=navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"];return a(e.description)}return"0,0,0"}catch(c){return"0,0,0"}}}),define("phxAds/services/phxDfpAdImpl",["cyclamen/session","delivery/determine-flash-version"],function(a,b){"use strict";return["$http","$location","$q","$window","Config","cstLogger","phxAdUtils","phxBeaconClient","phxCategorizr","phxDemos","phxKruxUtils","phxReferrer","phxThirdPartyTracking","phxViewport",function(c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){if("undefined"==typeof a)return 0;var b=a.split(/[,.]/);return(65535&b[0])<<16|(255&b[1])<<8|255&b[2]}function r(b,c,d){function e(a,d,e,f,j,l,m,n,o,p){var s,t=window,u=1,v={};n&&n.forEach(function(a){v[a]=u}),v.dimensions=d.dimensions,v.requestedsizes=e.join(";").split(",").join("x"),v.adunitleveltwo="",v.adunitlevelthree="",d.section&&""!==d.section&&(s=i.sanitizeTargetingValue(d.section));var w=[c];r&&(w.push(g.ad.adPartnerId),v.adunitlevelone=g.ad.adPartnerId),null!==d.hostname&&""!==d.hostname&&(w.push(d.hostname),s&&w.push(s));var x=w.join("/"),y=function(b){var c,e,f,g,i=1,j=2,l=3,m=4,n=300,s=400,u=[7,7],v={host:t.location.host};if(b.isEmpty?(g=i,v.atstat="no",v.reason="UNFILLED"):b.size&&b.size.length>=2&&b.size[0]===u[0]&&b.size[1]===u[1]?(g=j,v.atstat="no",v.fcid="dfp-"+b.lineItemId+"-"+b.creativeId,v.reason="noadroadblock"):b.lineItemId?(g=m,v.atstat="ad",v.fcid="dfp-"+b.lineItemId+"-"+b.creativeId):(g=l,v.atstat="no",v.fcid="adx",v.reason="adx"),b.size&&2===b.size.length){var w=!1,x=!1;if(r&&b.size[0]===n&&b.size[1]===s)for(w=!0,(k.isPhone()||o)&&(x=!0,a.style.cssText="position: absolute;width: 100%;height: 100%;",a.children[0].style.width="100%",a.children[0].style.height="100%",a.parentElement.style.cssText+="position: relative;height: 100%"),c=a.getElementsByTagName("iframe"),e=0;e<c.length;e++)if(f=c[e],f.width&&f.width===n+""){f.width="100%",x?f.height="100%":f.height=s;break}w||(a.style.cssText="width:"+b.size[0]+"px !important;height:"+b.size[1]+"px !important;outline: 1px solid rgb(170, 170, 170);box-sizing: border-box;background-color: rgb(238, 238, 238);"),v.rsize=b.size.join("x")}else b.isEmpty||h.error("Invalid size returned from DFP");var y=r?"adserverresponded":"customadserverresponded";if(q.send(y,d.rid,v),g===i||g===j)return void d.defer.resolve(null);if(r)if(g===l)q.send("bannershown",d.rid,{prod:"indirect",fcid:"adx"});else for(c=a.getElementsByTagName("iframe"),e=0;e<c.length;e++)f=c[e],f.width&&f.width===b.size[0]&&f.setAttribute("allowfullscreen","allowfullscreen");p&&p.loadTracking(),d.adSize={width:b.size[0],height:b.size[1]},d.defer.resolve(d)};t.googletag.cmd.push(function(){var a,g=t.googletag.defineSlot(x,e,f).addService(t.googletag.pubads()),j="gallery";if(r&&(g.setTargeting("adunitlevelone",w[1]),w.length>2&&g.setTargeting("adunitleveltwo",w[2]),w.length>3&&g.setTargeting("adunitlevelthree",w[3])),g.setTargeting("rid",[d.rid]),m)for(var l in m)m.hasOwnProperty(l)&&g.setTargeting(l,m[l]);if(d.adzone){d.adzone.search(/^gallery_/)>-1&&(a=j);var n=i.sanitizeTargetingValue(d.adzone);g.setTargeting("adzone",[n]),v.adzone=n}if("undefined"!=typeof d.adindex&&null!==d.adindex?(g.setTargeting("adindex",[d.adindex]),v.adindex=d.adindex):h.error("Missing an adindex value to target."),a===j?(g.setTargeting("pagetype",[a]),v.pagetype=j):d.pageType&&(a=i.sanitizeTargetingValue(d.pageType),g.setTargeting("pagetype",[a]),v.pageType=a),d.expandable&&(g.setTargeting("expandable",["allowed"]),v.expandable="allowed"),d.flash&&(g.setTargeting("flash",["supported"]),v.flash="supported"),b.page.sponsorship&&b.page.sponsorship.sponlineitemid&&(g.setTargeting("sponlineitemid",[b.page.sponsorship.sponlineitemid]),v.sponlineitemid=b.page.sponsorship.sponlineitemid),d.positionTarget&&(g.setTargeting("position",[d.positionTarget]),v.position=d.positionTarget),b.page.path&&(g.setTargeting("path",[b.page.path]),v.path=encodeURIComponent(b.page.path)),d.ksg&&(g.setTargeting("ksg",d.ksg),v.ksg=d.ksg.join(":")),d.kuid&&(g.setTargeting("kuid",[d.kuid]),v.kuid=d.kuid),d.referrer&&(g.setTargeting("referrer",[d.referrer]),v.referrer=d.referrer),d.terms&&d.terms.length>0){for(var o=[],p=0,u=d.terms.length;u>p;p++)o.push(i.sanitizeTargetingValue(d.terms[p]));g.setTargeting("terms",o),v.terms=o.join(";")}g.setTargeting("lang",d.language),v.s1=d.hostname,g.setTargeting("s1",[v.s1]),s&&(v.s2=s,g.setTargeting("s2",[v.s2])),v.lang=d.language;var z={1006611:["adzone","adindex","path","pagetype","terms","s1","s2"]};if(!r)for(var A in g.w)z[c].indexOf(A)<0&&delete g.w[A];v.dc=k.isTablet()?"tb":k.isPhone()?"sp":"pc";var B=r?"targetingparams":"customtargetingparams";q.send(B,d.rid,v),t.googletag.pubads().addEventListener("slotRenderEnded",function(a){if(a.slot===g)try{y(a)}catch(b){h.error("slotRenderEnded callback error",b)}}),t.googletag.enableServices(),t.googletag.display(f)})}function f(a){var b=a.split("x");return[parseInt(b[0]),parseInt(b[1])]}var q=new j.makeBeaconClient,r="88059007"===c;this.getDemos=function(a){return r?l.getFormatted(a):l.bypassDemoLookup()},this.createPage=function(a){var b=window;if("undefined"==typeof b.googletag)b.googletag={cmd:[]},function(a){var b=a.createElement("script");b.async=!0;var c="https:"===a.location.protocol,d=c?"https:":"http:";b.type="text/javascript",b.src=d+"//www.googletagservices.com/tag/js/gpt.js",a.body.appendChild(b)}(b.document);else try{b.googletag.pubads().updateCorrelator()}catch(c){h.error("failed to update correlator "+c)}},this.fillAdSlot=function(c,g,i){var j=[];if(c.adSizes)for(var k=c.adSizes,l=0,q=k.length;q>l;l++)j.push(f(k[l]));else j.push(f(c.dimensions));var s,t,v=c.rid,w=document.createElement("div");if(b.containerClassName&&(w.className=b.containerClassName),b.containerStyle)for(var x in b.containerStyle)b.containerStyle.hasOwnProperty(x)&&(w.style[x]=b.containerStyle[x]);var y=document.createElement("div"),z="slot-"+v;y.id=z;var A;if(A=c.node.jquery?c.node[0]:c.node,s){var B=s.cloneNode(!0);w.appendChild(B)}if(w.appendChild(y),A.appendChild(w),t){var C=t.cloneNode(!0);w.appendChild(C)}if(r){c.kuid=m.getValue("kuid");var D=m.getValue("segs").split(",");c.ksg=D;var E=p.getViewport();if(c.expandable=E.width()>=600&&E.height()>=400,c.referrer=n.get(),0===c.adzone.indexOf("fixed_")&&(c.positionTarget="fixed"),"inline"===c.adzoneType&&(c.positionTarget="inline"),u&&(c.flash=!0),g){var F=o.get(y,v);return void F.then(function(b){d.register(new a(h,v)),e(y,c,j,z,c.hostname,c.section,g,i,"fill"===c.adzoneType,b)},function(b){d.register(new a(h,v)),h.error("error getting thirdPartyPromise:",b),e(y,c,j,z,c.hostname,c.section,g,i,"fill"===c.adzoneType)})}}e(y,c,j,z,c.hostname,c.section,g,i,"fill"===c.adzoneType)}}var s="10.3.0",t=b(),u=!1;return q(t)>=q(s)&&k.isDesktop()&&("Chrome"===k.getBrowser()?parseInt(k.getBrowserVersion())<45&&(u=!0):u=!0),{getImplementation:function(a,b,c){return new r(a,b,c)}}}]}),define("phxAds/services/phxDfpVideoAdImpl",[],function(){"use strict";return["$location","Config","cstLogger","phxAdUtils","phxCategorizr",function(a,b,c,d,e){function f(){function f(){var b=a.absUrl();return b=b.split("?")[0],encodeURIComponent(b)}function g(a){var b;if(a&&a.size)b=a.size;else{var d=i[e.getBreakpoint()];b=d.width+"x"+d.height}return"string"==typeof b?b.replace(/(;|,)/g,"|"):(c.error("options.size expected to be a string"),"")}function h(a){var c="88059007",e=[c,b.ad.adPartnerId,b.siteProductionDomain];return a.section&&e.push(d.sanitizeTargetingValue(a.section)),e.join("/")}var i={A:{width:400,height:225},B:{width:620,height:314},C:{width:940,height:529}};this.generateTag=function(b){b=b||{};var c="https://pubads.g.doubleclick.net/gampad/ads?",d={env:"vp",gdfp_req:1,impl:"s",unviewed_position_start:1,output:"vast",iu:h(b),sz:g(b),url:b.referrer||a.protocol()+"//"+a.host(),description_url:f(),correlator:window.google_correlator||(new Date).getTime(),hl:b.lang||"en"};if(b.targeting){var e=[];for(var i in b.targeting){var j;j="[object Array]"===Object.prototype.toString().call(b.targeting[i])?b.targeting[i].join(","):b.targeting[i],e.push(i,j)}d.cust_params=encodeURIComponent(e.join("&"))}var k=[];for(var l in d)k.push(l+"="+d[l]);var m=c+k.join("&");return m}}return{getImplementation:function(){return new f}}}]}),define("phxAds/services/phxTimeAdImplNew",[],function(){"use strict";return["$http","$location","$q","$rootScope","$timeout","$window","Config","cstLogger","phxAdUtils","phxCategorizr","phxFeatures","phxAdMultisizeProfiles",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){var b="xoJane"===g.siteName?"xoj":"xov",c=new f.TiiAdConfig("3475."+b);c.setSitename("3475."+b),c.setCmSitename("cm."+b),q="",r="",s="";var d=a.page.masterItem;return d&&"/"===d.path?(q="homepage",s="homepage",r="main"):d&&"/search"===d.path?(q="search",s="channel"):(d&&d.sectionKey&&(q=d.sectionKey.replace("-","")),s=a.page.isDetailPage?"content":"main",r=a.page.isDetailPage?d.objectType.substr(7).toLowerCase():"list"),p||(p=new f.TiiAdFactory(c,q)),a.page.isDetailPage?(p.setContentPage(),p.setArticleId(d.id)):p.setChannelPage(),p.setChannel(q),p.setZone(q),p.setContentType(r),p.setParam("ptype",s),p}function n(a,b){var c="dfp-"+a.lineItemId+"-"+a.creativeId,d={host:window.location.host},e=[7,7],f=a.size||[];a.isEmpty?d.atstat="no":f.length>=2&&f[0]===e[0]&&f[1]===e[1]?(d.atstat="no",d.fcid=c):a.lineItemId?(d.atstat="ad",d.fcid=c):(d.atstat="no",d.fcid="adx"),f.length>=2&&(d.rsize=f.join("x")),i.sendBeacon("customadserverresponded",b,d)}function o(a){function b(){if(u){if(p.updateCorrelator(),p.resetOOP(),f.TIICONSTANTS.tile_counter=1,"Firefox"===j.getBrowser()){t=void 0===t?0:t+1;var a="fake-"+t,b=document.createElement("div");b.id=a;var c=document.getElementsByTagName("script"),d=c[c.length-1].parentNode;d.appendChild(b);var e=p.getAd(2,9);e.setPosition(1),e.write(a)}u=!1}}p=m(a),d.$on("phxAds:next-set",function(){b()}),this.getDemos=function(a){var b=c.defer();return b.resolve(),b.promise},this.createPage=function(a){b()},this.fillAdSlot=function(b,c){function d(a,b){-1===a.indexOf(b)&&a.push(b)}u=!0,b.node.attr("id",b.rid),"A"===j.getBreakpoint()&&"in_content"===b.adzone&&d(b.adSizes,"320x50");var e=["sidebar","gallery_sidebar"];-1!==e.indexOf(b.adzone)&&d(b.adSizes,"300x250");var f;if(b.adSizes.length>1)f=p.getMultiAd(b.adSizes);else{var k=b.adSizes[0].split("x");f=p.getAd(k[0],k[1])}if(f.setPosition(b.adindex),f.setParam("adpos",b.adzone),b.beaconParameters.adunitleveltwo=g.siteName,b.beaconParameters.adunitlevelthree=q,b.beaconParameters.adSlot=b.adSlotPosition,b.beaconParameters.path=encodeURIComponent(a.page.path),i.isContextSponsored(a)&&(b.beaconParameters.sponlineitemid=a.page.sponsorship.reporting.opportunityLineItemId),a.page.masterItem){var l=a.page.masterItem.objectType,m="/"===a.page.path;"Content"===l.substr(0,7)&&(l=l.substr(7)),l=l.toLowerCase(),"hubpage"===l&&(l=m?"homepage":"hub"),b.beaconParameters.pagetype=l}b.beaconParameters.terms&&b.beaconParameters.terms.length>0&&(b.beaconParameters.terms=b.beaconParameters.terms.join(";")),i.sendBeacon("customtargetingparams",b.rid,b.beaconParameters),"undefined"!=typeof window.googletag&&"function"==typeof window.googletag.pubads||h.error("Google Tag Services are not defined!");var o=function(a,c){n(a,b.rid),!a.isEmpty&&a.size&&2===a.size.length?(b.adSize={width:a.size[0],height:a.size[1]},b.defer.resolve(b)):b.defer.resolve(null)};window.googletag.pubads().addEventListener("slotRenderEnded",function(a){var c=a.slot.getSlotId().getDomId();if(c){var d=document.getElementById(c);d.parentNode.id===b.rid&&o(a,d)}}),f.write(b.rid)}}var p,q,r,s,t,u=!0;if(k.isEnabled("ads-backends-new")&&k.isEnabled("tgx-ads"))for(var v in l)if(l.hasOwnProperty(v))for(var w in l[v])l[v].hasOwnProperty(w)&&delete l[v][w].additionalFallback;return{getImplementation:function(a){return new o(a)}}}]}),define("delivery/user",["delivery/json","delivery/determine-flash-version"],function(a,b){"use strict";function c(c,d,e){this.get=function(a){return e[a]},this.update=function(){c.store(d,a.stringify(e))},this.set=function(a,b){e[a]=b,this.update()},this.flashVersion=function(){var a=e.fv;return"undefined"==typeof a&&(a=b(),e.fv=a,this.update()),a.replace(/%252C/g,",")},this.isTrackable=function(){return"undefined"==typeof e.untrackable}}return c}),define("cyclamen/impression-request",["cyclamen/eventbus"],function(a){"use strict";return function(b,c,d,e,f){this.bus=f||new a(b),this.bus.mixin(this),this.targets={},this.node=d,this.rid=c,this.dimensions=e,this.addTarget=function(a,b){this.targets[a]=b}}}),define("snowdrop/adzone",["cyclamen/impression-request"],function(a){return function(b,c,d,e){var f=new a(console,b,c,d);f.mixin(this),this.addTarget=function(a,b){f.addTarget(a,b)},this.targets=function(){return f.targets},this.unload=function(){this.dispatch("supervisor","unload"),e.clear(b)}}}),define("snowdrop/page",["cyclamen/pageview","snowdrop/adzone"],function(a,b){return function(c,d,e,f,g,h,i){var j=[];a.call(this,g,h,i),this.adtechTilingGroupId=Math.floor(999999990*Math.random())+1,this.addZone=function(a,g){if("string"==typeof a){var h=a;if(a=document.getElementById(h),!a)throw new Error("Unable to find element by id"+h)}var i=this,k=c.defer();j.push(k.promise);var l=e.get();return l.then(function(c){var e=new b(c,a,g,d);d.register(e),f.createZone(i,e),k.resolve(e)})["catch"](function(a){console.error(a)}),k.promise},this.fill=function(){c.all(j).then(function(a){f.fillZones()})},this.messageAllZones=function(a){c.all(j).then(function(b){d.messageAll(a)})}}}),define("snowdrop",["delivery/user","snowdrop/page","snowdrop/registry"],function(a,b,c){return function(a,d,e){this.createPage=function(f,g){var h=a.defer();return e.get().then(function(i){var j=new b(a,c,e,d,i,f,g);d.createPage(j),h.resolve(j)})["catch"](function(a){console.error(a)}),h.promise},c.mixin(this)}}),define("delivery/encodeuri",[],function(){"use strict";return function(a){return encodeURIComponent(a).replace(/%(2[fFcC])/g,"%25$1")}}),define("delivery/buildaduri",["delivery/encodeuri"],function(a){"use strict";return function(b,c,d,e,f,g){var h="/"+b+".js",i="";(g=g||{}).rid=c,e=e||{},f=f||{};var j,k={},l=function(b,c){if(!k.hasOwnProperty(b)&&"undefined"!=typeof c){var d=a(b);c=[].concat(c);var e;for(e=0;e<c.length;e++)c[e]=a(c[e]);var g;if(f.hasOwnProperty(b))for(e=0;e<c.length;e++)i+=(i.length>0?"&":"?")+d+"="+c[e];else g=c.join(","),h+=";"+d+"="+g;k[b]=1}};for(j in g)g.hasOwnProperty(j)&&l(j,g[j]);for(j in e)e.hasOwnProperty(j)&&l(j,e[j]);for(j in f)f.hasOwnProperty(j)&&l(j,f[j]);return"https://"+d+h+i}}),define("delivery/treewalker",[],function(){"use strict";return function(a){if("undefined"==typeof a)throw new Error("TreeWalker requires a top-most node.");var b=function(){return!0},c=[a];this.hasNext=function(){return c.length>0},this.filter=function(a){return b=a,this},this.next=function(a){if(this.hasNext()){for(var d=c.pop(),e=d.childNodes,f=0;f<e.length;f++)b(e[f])&&c.push(e[f]);return a(d)}return!1},this.reset=function(){c=[a]},this.all=function(a){for(;this.next(a););}}}),define("delivery/rot13",[],function(){"use strict";return function(a){for(var b="A".charCodeAt(0),c="Z".charCodeAt(0),d="a".charCodeAt(0),e="z".charCodeAt(0),f=[],g=0;g<a.length;g++){var h=a.charCodeAt(g),i=null;h>=d&&e>=h?i=d:h>=b&&c>=h&&(i=b),null!==i&&(h=(h-i+13)%26+i),f.push(h)}return String.fromCharCode.apply(String,f)}}),define("delivery/badwordfilter",["delivery/treewalker","delivery/rot13"],function(a,b){"use strict";return function(c,d){var e=!1,f=new a(d),g=/[^\u00BF-\u1FFF\u2C00-\uD7FF\w]/g,h=[];this.initalize=function(){if(!e){var a=[],b=function(b){return 3===b.nodeType?a.push(b.nodeValue):"META"===b.nodeName&&a.push(b.content),!0},c={SCRIPT:1,STYLE:1},d=function(a){return!c.hasOwnProperty(a.nodeName)};f.filter(d).all(b),a.push(document.title),a.push(document.location.toString());var i=a.join(" ");h=i.toLowerCase().split(g),e=!0}},this.test=function(a){var d,e={},f=!1;for(d=0;d<a.length;d++)e[b(a[d])]=!0;for(this.initalize(),d=0;d<h.length;d++){var g=h[d];if(e.hasOwnProperty(g)){if(!c.isDebug)return!0;c.debug("found badword: "+g),f=!0}}return f}}}),define("snowdrop/adapter/pigeon",["delivery/ready","delivery/buildaduri","delivery/badwordfilter","delivery/determine-flash-version","delivery/viewport"],function(a,b,c,d,e){var f={isDebug:!1,debug:function(){},info:function(){},error:function(){}};return function(a,g,h,i,j){var k=[],l=new e,m=d(),n=!1;"undefined"==typeof j&&(j={}),this.createPage=function(a){var b=a.node||window.document;if(a.wordFilter=new c(f,b),a.hasBadwords=a.wordFilter.test(h),window.googletag)try{window.googletag.pubads().updateCorrelator()}catch(d){console.log("failed to update correlator"+d)}else n&&console.log("createPage: no googletag, unable to update correlator");n=!0},this.createZone=function(a,b){var c=b.dimensions,d=i[c],e={fv:m,iframe:0,dims:l.toString(),ref:window.location,bw:Number(a.hasBadwords)};k.push({integrationId:d,zone:b,hostname:g,bootstrapParameters:e,dimensions:c,section:a.section,adtechTilingGroupId:a.adtechTilingGroupId})},this.fillZones=function(){for(var a={intgid:function(a,b){a.integrationId=b},adzone:function(a,b){a.adzone=b},adindex:function(a,b){a.adindex=b},adzonetype:function(a,b){i[b]&&i[b][a.dimensions]&&(a.integrationId=i[b][a.dimensions])},hbPriceBucket:function(a,b){a.hbPriceBucket=b},hbAdId:function(a,b){a.hbAdId=b},hbBidder:function(a,b){a.hbBidder=b},hbCPM:function(a,b){a.hbCPM=b},ksg:function(a,b){a.ksg=b},kuid:function(a,b){a.kuid=b},noIframe:function(a,b){a.noIframe=b},sizes:function(a,b){a.sizes=b},terms:function(a,b){a.terms=b}},c={adindex:"adindex",adtechTilingGroupId:"grp",adzone:"adzone",hbPriceBucket:"hbpb",hbAdId:"hbadid",hbBidder:"hbbidder",hbCPM:"hbcpm",ksg:"ksg",kuid:"kuid",noIframe:"noiframe",section:"section",sizes:"sizes",terms:"terms"};k.length;){var d=k.shift();try{var e=d.zone,f=e.rid,g=[],h=e.targets();for(var l in h)h.hasOwnProperty(l)&&(a.hasOwnProperty(l)?a[l](d,h[l]):g.push("kv"+l+"="+[].concat(h[l]).join(":")));var m={adtech:g};for(var n in j)j.hasOwnProperty(n)&&(m[n]=j[n]);for(var o in d)c.hasOwnProperty(o)&&(m[c[o]]=d[o]);if(!d.integrationId){var p="adapter can't find tag for "+d.dimensions+"zone";throw h.hasOwnProperty("adzonetype")&&(p+=", type "+h.adzonetype),p}var q=b(d.integrationId,f,d.hostname,d.bootstrapParameters,m),r=document.createElement("script");r.id=f,r.src=q;var s;s=e.node.jquery?e.node[0]:e.node,s.appendChild(r)}catch(t){console.error(t)}}}}}),define("snowdrop/adapter/test",[],function(){return function(a,b,c){var d=[];"undefined"==typeof c&&(c={}),this.createPage=function(a){a.node||window.document;a.wordFilter=void 0,a.hasBadwords=!1},this.createZone=function(a,c){var e=c.dimensions,f=b[e];b.hasOwnProperty(e)||console.error("adapter can't find tag for "+e),d.push({integrationId:f,zone:c,hostname:"",bootstrapParameters:{},dimensions:e,section:a.section})},this.fillZones=function(){for(;d.length;){var a=d.shift();try{var b,e,f=a.zone,g=f.rid,h=document.createElement("div");if(c.containerClassName&&(h.className=c.containerClassName),c.containerStyle)for(var i in c.containerStyle)c.containerStyle.hasOwnProperty(i)&&(h.style[i]=c.containerStyle[i]);var j=document.createElement("div");if(j.id=g,j.style.alignItems="center",j.style.backgroundColor="rgb(238, 238, 238)",j.style.border="1px solid rgb(170, 170, 170)",j.style.boxSizing="border-box",j.style.color="rgb(170, 170, 170)",j.style.display="flex",j.style.justifyContent="center",j.style.textAllign="center","inline"===a.dimensions)j.style.width="100%",j.style.height="480px",b=c.inlineHeader,e=c.inlineFooter;else if("fill"===a.dimensions)j.style.width="100%",j.style.height="100%";else{var k=a.dimensions.split("x");j.style.width=k[0]+"px",j.style.height=k[1]+"px"}j.innerText=a.dimensions;var l;if(l=f.node.jquery?f.node[0]:f.node,b){var m=b.cloneNode(!0);h.appendChild(m)}if(h.appendChild(j),l.appendChild(h),e){var n=e.cloneNode(!0);h.appendChild(n)}}catch(o){console.error(o)}}}}}),define("phxAds/services/phxSnowdrop",["snowdrop","snowdrop/adapter/pigeon","snowdrop/adapter/test","delivery/rid-allocator"],function(a,b,c,d){"use strict";return["$q","$http","Config","cstLogger","phxFeatures",function(e,f,g,h,i){return{init:function(i,j){function k(c,g,h){"/"===c.substr(-1,1)&&(c=c.substr(0,c.length-1));var i=new b(e,c,g,h,j),k=new d(m,e.defer,f);a.call(this,e,i,k)}function l(b,g,h){j.containerStyle={height:"100%",overflow:"hidden"},j.containerClassName="say-ad--body";var i=new c(e,h,j),k=new d(m,e.defer,f);a.call(this,e,i,k)}var m=g.ad.snowdrop.ridUrl,n=g.ad.snowdrop.zoneDefinitions,o={};angular.forEach(i,function(a,b){var c=n[b];if(c){var d=c.dimensions;if(c.primary)o[d]&&h.error("Duplicate primary ad zone definition for dimension "+d+", adzone "+b),o[d]=a;else{var e={};e[d]=a,o[b]=e}}else"backfill"===b||h.error("Unknown ad zone: "+b)});var p;if("Pigeon"===g.ad.adServer)p=new k(g.ad.server.Pigeon.scriptUrl,[],o);else{if("Test"!==g.ad.adServer)throw"Unknown Snowdrop ad server type "+g.ad.adServer;p=new l(g.ad.server.Pigeon.scriptUrl,[],o)}return p}}}]}),define("phxAds/services/phxImplicitDemo",[],function(){"use strict";return["Config","cstLogger",function(a,b){function c(a){var b={};return d&&d[a]&&(b=d[a]),b}var d;try{d=a.demographics.addressableDemographics}catch(e){d={US:{},CA:{},GB:{}}}return{getData:c}}]}),define("json",["text"],function(text){function cacheBust(a){return a=a.replace(CACHE_BUST_FLAG,""),a+=a.indexOf("?")<0?"?":"&",a+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(a,b,c,d){d.isBuild&&(d.inlineJSON===!1||-1!==a.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===b.toUrl(a).indexOf("empty:")?c(null):text.get(b.toUrl(a),function(b){
d.isBuild?(buildMap[a]=b,c(b)):c(jsonParse(b))},c.error,{accept:"application/json"})},normalize:function(a,b){return-1!==a.indexOf(CACHE_BUST_FLAG)&&(a=cacheBust(a)),b(a)},write:function(a,b,c){if(b in buildMap){var d=buildMap[b];c('define("'+a+"!"+b+'", function(){ return '+d+";});\n")}}}}),define("json!delivery/targeting/pigeonToDfp.json",function(){return{"13-17":[],"18-24":[["ag","18-24"]],"18-34":[["ag","18-34"]],"18-44":[["ag","18-44"]],"18-49":[["ag","18-49"]],"18+":[["ag","18plus"]],"18plus":[["ag","18plus"]],"21+":[["ag","21plus"]],"21plus":[["ag","21plus"]],"21-49":[["ag","21-49"]],"25-34":[["ag","25-34"]],"25-44":[["ag","25-44"]],"25-54":[["ag","25-54"]],"25+":[["ag","25plus"]],"25plus":[["ag","25plus"]],"35-44":[["ag","35-44"]],"35-54":[["ag","35-54"]],"35+":[["ag","35plus"]],"35plus":[["ag","35plus"]],"44-54":[["ag","44-54"]],"45-54":[["ag","45-54"]],"45+":[["ag","45plus"]],"45plus":[["ag","45plus"]],"55+":[["ag","55plus"]],"55plus":[["ag","55plus"]],"55-64":[["ag","55-64"]],"65+":[["ag","65plus"]],"65plus":[["ag","65plus"]],africanamerican:[["et","afam"]],afam:[["et","afam"]],asian:[["et","asia"]],asia:[["et","asia"]],hispanic:[["et","hisp"]],hisp:[["et","hisp"]],"gbp-50k":[["in","gbp50k"]],gbp50k:[["in","gbp50k"]],"gbp-70k":[["in","gbp70k"]],gbp70k:[["in","gbp70k"]],"usd-75k":[["in","usd75k"]],usd75k:[["in","usd75k"]],"usd-100k":[["in","usd100k"]],usd100k:[["in","usd100k"]],"usd-150k":[["in","usd150k"]],usd150k:[["in","usd150k"]],parentkidsallages:[["pt","all"]],all:[["pt","all"]],male:[["gd","m"]],m:[["gd","m"]],female:[["gd","f"]],f:[["gd","f"]]}}),define("json!delivery/targeting/dfpToBeacon.json",function(){return{ag:{"18-24":"a1824","18-34":"a1834","18-44":"a1844","18-49":"a1849","21-49":"a2149","25-34":"a2534","25-44":"a2544","25-54":"a2554","35-44":"a3544","35-54":"a3554","44-54":"a4454","45-54":"a4554","55-64":"a5564","18plus":"agt18","21plus":"agt21","25plus":"agt25","35plus":"agt35","45plus":"agt45","55plus":"agt55","65plus":"agt65"},gd:{m:"gm",f:"gf"},et:{asia:"easia",hisp:"ehisp",afam:"eafam"},"in":{gbp50k:"hi50p",gbp70k:"hi70p",usd75k:"hi75",usd100k:"hi100",usd150k:"hi150"},pt:{all:"pall"}}}),define("delivery/targeting",["json!delivery/targeting/pigeonToDfp.json","json!delivery/targeting/dfpToBeacon.json"],function(a,b){"use strict";var c={qc:1,im:1},d=1,e=function(a,b){return b in a||(a[b]=[]),a[b]};return function(f){var g={},h={};if(f instanceof Array){var i,j=[];for(i=0;i<f.length;++i){var k=f[i];if(c.hasOwnProperty(k.provider)){var l=a[k.type]||[];j.push.apply(j,l)}}for(i=0;i<j.length;++i){var m=j[i][0],n=j[i][1];e(g,m).push(n),h[b[m][n]]=d}}this.getDfpTargets=function(){return g},this.getBeaconTargets=function(){return h},this.TARGETING_BEACON_VALUE=d}}),define("json!delivery/targeting/quantcast.json",function(){return{10564:{afam:461},10565:{all:207},10566:{f:141,all:150,mother:371},10567:{"18plus":135,"21plus":117,"25plus":126,"35plus":126,"45plus":120,"55plus":151,m:154},10568:{"25-54":110,"35-54":131,"18plus":136,"21plus":116,"25plus":127,"35plus":127,m:155},10569:{"25-54":111,"18plus":137,"21plus":115,"25plus":128,m:156},10570:{"18plus":138,"21plus":119,m:157},10571:{"18-49":130,"18plus":139,m:158},10572:{"18-34":160,"18-49":131,"18plus":140,m:159},10573:{"18-24":150,"18-34":161,"18-49":132,"18plus":141,m:160},10575:{"18plus":142,"21plus":114,"25plus":129,"35plus":128,"45plus":121,"55plus":149,f:150},10576:{"25-54":112,"35-54":132,"18plus":143,"21plus":113,"25plus":130,"35plus":129,f:151},10577:{"25-54":113,"18plus":144,"21plus":112,"25plus":131,f:152},10578:{"18plus":145,"21plus":120,f:153},10581:{"18-49":133,"18plus":146,f:154},10582:{"18-34":162,"18-49":134,"18plus":147,f:155},10583:{"18-24":151,"18-34":163,"18-49":135,"18plus":148,f:156},10585:{"18plus":105,"21plus":121,"25plus":107,"35plus":117,"45plus":122,"55plus":207},10586:{"25-54":127,"35-54":137,"18plus":104,"21plus":122,"25plus":132,"35plus":119},10587:{"25-54":126,"18plus":106,"21plus":123,"25plus":113},10588:{"18plus":149,"21plus":118},10589:{"18-49":136,"18plus":150},10590:{"18-34":170,"18-49":137,"18plus":112},10591:{"18-24":238,"18-34":164,"18-49":138,"18plus":103},10592:{usd75k:150,usd100k:165},10628:{m:183},10629:{f:177},10723:{"18-24":306,"18-34":165,"18-49":139,"18plus":107},10724:{"18-34":185,"18-49":140,"18plus":117},10725:{"18-49":141,"18plus":151},10726:{"25-54":122,"18plus":108,"21plus":124,"25plus":106},10727:{"25-54":128,"35-54":130,"18plus":109,"21plus":125,"35plus":110},10728:{gbp50k:147},10729:{"18plus":110,"21plus":126,"25plus":105,"35plus":106,"45plus":123,"55plus":152},10730:{"18-24":152,"18-34":166,"18-49":142,"18plus":152,f:173},10731:{"18-34":167,"18-49":143,"18plus":153,f:174},10737:{"18-49":144,"18plus":154,f:175},10738:{"25-54":129,"18plus":155,"21plus":111,"25plus":133,f:176},10739:{"25-54":114,"35-54":133,"18plus":156,"21plus":110,"25plus":134,"35plus":130,f:160},10740:{"18plus":157,"21plus":109,"25plus":135,"35plus":131,"45plus":124,"55plus":148,f:161},10748:{"18-24":153,"18-34":168,"18-49":145,"18plus":158,m:153},10749:{"18-34":169,"18-49":146,"18plus":159,m:152},10750:{"18-49":147,"18plus":160,m:151},10751:{"25-54":115,"18plus":161,"21plus":108,"25plus":136,m:150},10752:{"25-54":116,"35-54":134,"18plus":162,"21plus":107,"25plus":137,"35plus":132,m:149},10753:{"18plus":163,"21plus":106,"25plus":138,"35plus":133,"45plus":125,"55plus":150,m:148},10754:{f:140,all:140,mother:355},10755:{all:178},10757:{m:168},10758:{f:172},11651:{hisp:177},27450:{"18-34":184,"18-49":148,"18plus":165,"21plus":134,f:185},27451:{"18-34":185,"18-49":149,"18plus":166,"21plus":135,m:175},27452:{"18-34":183,"18-49":150,"18plus":164,"21plus":133},46873:{"18-24":240,"18-34":171,"18-49":151,"18plus":120},46874:{"18-34":180,"18-49":152,"18plus":121},46875:{"18-49":153,"18plus":167},46876:{"25-54":130,"18plus":122,"21plus":127,"25plus":120},46877:{"25-54":117,"35-54":140,"18plus":123,"21plus":128,"25plus":139,"35plus":120},46878:{"18plus":124,"21plus":129,"25plus":121,"35plus":121,"45plus":126,"55plus":200},46879:{"18-24":241,"18-34":172,"18-49":154,"18plus":125,f:180},46880:{"18-34":181,"18-49":155,"18plus":126,f:181},46881:{"18-49":156,"18plus":165,f:179},46882:{"25-54":131,"18plus":127,"21plus":105,"25plus":122,f:182},46883:{"25-54":118,"35-54":141,"18plus":128,"21plus":104,"25plus":140,"35plus":122,f:183},46884:{"18plus":129,"21plus":103,"25plus":123,"35plus":123,"45plus":127,"55plus":201,f:184},46885:{"18-24":242,"18-34":173,"18-49":157,"18plus":130,m:170},46886:{"18-34":182,"18-49":158,"18plus":131,m:171},46887:{"18-49":159,"18plus":166,m:167},46888:{"25-54":132,"18plus":132,"21plus":130,"25plus":124,m:172},46889:{"25-54":119,"35-54":142,"18plus":133,"21plus":131,"25plus":141,"35plus":124,m:173},46890:{"18plus":134,"21plus":132,"25plus":125,"35plus":125,"45plus":128,"55plus":202,m:174},61302:{asia:150},61303:{"25-44":150,"25-54":133,"18plus":168,"21plus":136,"25plus":142,f:186,all:200,mother:200},61304:{"18-49":160,"25-44":151,"25-54":134,"18plus":169,"21plus":137,"25plus":143},61305:{"18-49":161,"25-44":152,"25-54":135,"18plus":170,"21plus":138,"25plus":144,f:187},61306:{"18-49":162,"25-44":153,"25-54":136,"18plus":171,"21plus":139,"25plus":145,m:184},61307:{"18-49":163,"25-54":137,"18plus":172,"21plus":140,"25plus":146},61308:{"25-34":150,"25-44":154,"25-54":138,"18plus":173,"21plus":141,"25plus":147},61309:{"35-44":150,"35-54":143,"18plus":174,"21plus":142,"25plus":148,"35plus":134},61310:{"45-54":150,"18plus":175,"21plus":143,"25plus":149,"35plus":135,"45plus":129},61311:{"55-64":150,"18plus":176,"21plus":144,"25plus":150,"35plus":136,"45plus":130,"55plus":208},61312:{"65plus":150},61313:{"18-49":164,"25-54":139,"18plus":177,"21plus":145,"25plus":151,m:185},61314:{"25-34":151,"25-44":155,"25-54":140,"18plus":178,"21plus":146,"25plus":152,m:186},61315:{"35-44":151,"35-54":144,"18plus":179,"21plus":147,"25plus":153,"35plus":137,m:187},61316:{"45-54":151,"18plus":180,"21plus":148,"25plus":154,"35plus":138,"45plus":131,m:188},61317:{"55-64":151,"18plus":181,"21plus":149,"25plus":155,"35plus":139,"45plus":132,"55plus":209,m:189},61318:{"65plus":151,m:190},61319:{"18-49":165,"25-54":141,"18plus":182,"21plus":150,"25plus":156,f:188},61320:{"25-34":152,"25-44":156,"25-54":142,"18plus":183,"21plus":151,"25plus":157,f:189},61321:{"35-44":152,"35-54":145,"18plus":184,"21plus":152,"25plus":158,"35plus":140,f:190},61322:{"45-54":152,"18plus":185,"21plus":153,"25plus":159,"35plus":141,"45plus":133,f:191},61323:{"55-64":152,"18plus":186,"21plus":154,"25plus":160,"35plus":142,"45plus":134,"55plus":210,f:192},61324:{"65plus":152,f:193},61325:{"45-54":153,m:191,usd75k:151,usd100k:160,usd150k:160},61326:{"45-54":154,usd75k:152,usd100k:161,usd150k:161},61327:{"45-54":155,usd75k:153,usd100k:162},61328:{"18plus":187,"21plus":155,"25plus":161,"35plus":143},61329:{"18plus":188,"21plus":156,"25plus":162,"35plus":144,m:192},61330:{"18plus":189,"21plus":157,"25plus":163,"35plus":145,f:194},61331:{usd75k:154,usd100k:163,usd150k:162},61332:{usd75k:155},61333:{all:201},61334:{all:202},61335:{all:203},61336:{"35-54":146,"18plus":190,"21plus":158,"25plus":164,"35plus":146,m:193,usd75k:156,usd100k:164,usd150k:163},61337:{"18-49":166,"35-54":147,"18plus":191,"21plus":159},61338:{"18-49":167,"35-54":148,"18plus":192,"21plus":160,m:194},61339:{"18-49":168,"35-54":149,"18plus":193,"21plus":161,f:195},61340:{m:195},61341:{f:196},61342:{"18-49":169,"18plus":194},61343:{gbp50k:140,gbp70k:140},61345:{gbp50k:141},61346:{"18plus":195,"21plus":162,"25plus":165,"35plus":147},61347:{"18plus":196,"21plus":163,"25plus":166,"35plus":148,m:196},61348:{"18plus":197,"21plus":164,"25plus":167,"35plus":149,f:197},61349:{"35-54":150,m:197,gbp50k:142,gbp70k:141},61350:{"18-34":186,"18plus":198,"21plus":165},61351:{"18-34":187,"18plus":199,"21plus":166,m:198},61352:{"18-34":188,"18plus":200,"21plus":167,f:198},61353:{"25-34":153,"25-44":157,"25-54":143,"18plus":201,"21plus":168,"25plus":168},61354:{"25-34":154,"25-44":158,"25-54":144,"18plus":202,"21plus":169,"25plus":169,m:199},61355:{"25-34":155,"25-44":159,"25-54":145,"18plus":203,"21plus":170,"25plus":170,f:199},61356:{"25-54":146,"18plus":204,"21plus":171,"25plus":171,f:200,all:204,mother:201},61357:{"25-44":160,"25-54":147,"18plus":205,"21plus":172,"25plus":170},61358:{"25-44":161,"25-54":148,"18plus":206,"21plus":173,"25plus":173,m:200},61359:{"25-44":162,"25-54":149,"18plus":207,"21plus":174,"25plus":174,f:201},61360:{"18-49":170,"18plus":208},61361:{"18-49":171,"18plus":209,m:201},61362:{"18-49":172,"18plus":210,f:202},61363:{"65plus":153},61364:{"65plus":154,m:202},61365:{"65plus":155,f:203}}}),define("delivery/segments",["json!delivery/targeting/quantcast.json"],function(a){"use strict";return function(b){var c=[];if(b instanceof Array)for(var d=0;d<b.length;++d){var e=b[d];if(e in a){var f=a[e];for(var g in f)c.push({type:g,provider:"qc",segment_id:e,probability:f[g]})}}return c}}),define("phxAds/services/phxDemos",["delivery/targeting","delivery/segments"],function(a,b){"use strict";return["$q","Config","cstLogger","phxExplicitDemo","phxImplicitDemo","phxLocation",function(c,d,e,f,g,h){function i(){if(!m){m=c.defer();var a=f.get();h.get().then(function(c){var d=c.country||"US",f=g.getData(d);f=Object.keys(f).reduce(function(a,b){return f[b]&&(a[b]=!0),a},{}),a.then(function(a){if(a.qcsegments){var c=new b(a.qcsegments),d=c.reduce(function(a,b){return a[b.type]=!0,a},{});angular.extend(d,f),m.resolve(Object.keys(d))}else m.resolve(Object.keys(f))},function(a){e.warn("Failed to retrieve explicits: "+a),m.resolve(Object.keys(f))})},function(a){m.reject(a)})}return m.promise}function j(b){return i().then(function(c){if(Array.isArray(c)){var d=new a(c.map(function(a){return{provider:"qc",type:a}}));"pigeon"===b?m.resolve(d.getDfpTargets()):"beacon"===b&&m.resolve(d.getBeaconTargets())}else m.resolve(void 0)},function(a){m.reject(a)}),m.promise}function k(){var a=c.defer();return a.resolve(),a.promise}function l(){m=void 0}var m;return{get:i,getFormatted:j,bypassDemoLookup:k,reset:l}}]}),define("phxAds/services/phxExplicitDemo",[],function(){"use strict";return["$q","$http","Config","phxAdUtils","phxCookies",function(a,b,c,d,e){function f(){return h?h.promise:(h=a.defer(),j.promise.then(function(a){var c={withCredentials:!0,headers:{AccessControlAllowCredentials:!0}},d=b.get(k,c);d.then(function(a){h.resolve(a.data)})["catch"](function(a){h.reject(new Error("Error accessing dove demo endpoint: "+a))})}),h.promise)}function g(a){i=a,e.put("d0",{quantcast:{target:a}},{domain:".xip.io"}),j.resolve(a)}var h,i,j=a.defer(),k=d.doveBuildEndpointUrl("explicit");return{get:f,set:g}}]}),define("delivery/parsehostname",[],function(){"use strict";function a(a){return a.replace(/^https?:\/\//,"").replace(/[:\/].*/,"").toLowerCase().replace(/^www\./,"").replace(/^m\./,"").replace(/\.blogspot(\.com?)?\.[a-z]{2,3}$/,".blogspot.com").replace(/^.*\.(gamepedia|wikia)(\.com?)?\.[a-z]{2,3}$/,"$1.com").split(".").slice(-3).join(".")}return a}),define("delivery/createiframe",[],function(){"use strict";return function(a,b,c){"undefined"==typeof c&&(c=window.document);var d=c.createElement("iframe");if(b&&(d.src=b),d.setAttribute("frameBorder","0"),d.setAttribute("marginWidth","0"),d.setAttribute("marginHeight","0"),d.setAttribute("allowTransparency","true"),d.setAttribute("scrolling","no"),d.setAttribute("vspace","0"),d.setAttribute("hspace","0"),d.setAttribute("allowfullscreen","allowfullscreen"),d.style.padding="0px",d.style.marginTop="0px",d.style.marginLeft="auto",d.style.marginRight="auto",/^\d+x\d+$/.test(a)){var e=a.split("x");d.style.width=Number(e[0])+"px",d.style.height=Number(e[1])+"px"}return d}}),define("delivery/writedocument",[],function(){"use strict";return function(a,b){var c=a.contentDocument||a.contentWindow&&a.contentWindow.document;c.open(),window.setTimeout(function(){c.write("<!DOCTYPE html><html><head><style>body {margin: 0px;background: transparent;}</style></head><body>"+b+'<script type="text/javascript">document.write("</body></html>");setTimeout(function(){document.close()},1)</script>')},0)}}),define("delivery/thirdpartytracking",["delivery/ready","delivery/windowutil","delivery/parsehostname","delivery/createiframe","delivery/writedocument"],function(a,b,c,d,e){"use strict";var f=b.topWindow();return f.SMthirdPartyTracking=f.SMthirdPartyTracking||{},function(g,h,i,j){this.loadTracking=function(){if("undefined"==typeof f.SMthirdPartyTracking[j]){if(f.SMthirdPartyTracking[j]=!0,!g.isTrackable())return;a(function(){window.setTimeout(function(){function a(a){window._qevents=[{qacct:"p-abhYEve3ZZl2E",labels:a}];var b=document.createElement("script");b.src="https://secure.quantserve.com/quant.js",b.async=!0,b.type="text/javascript",document.body.appendChild(b)}f._qevents=f._qevents||[];var g=f.document;b.isFramed()&&b.topAccess()&&(h=b.topNode());var i=d("0x0",null,g);i.style.visibility="hidden",i.style.display="none",h.parentNode.insertBefore(i,h);var j=f.location.hostname||"unknown";j=c(j).replace(/\./g,"_");var k=JSON.stringify([j]);k=k.substr(1,k.length-2);var l='<script type="text/javascript">('+a.toString()+")("+k+")</script>";e(i,l)},0)})}}}}),define("phxAds/services/phxThirdPartyTracking",["delivery/thirdpartytracking"],function(a){"use strict";return["$q","phxExplicitDemo",function(b,c){function d(){if(f)return f.promise;f=b.defer();var a=c.get();return a.then(function(a){var b={donottrack:a.donottrack,optout:a.optout};b.isTrackable=function(){return this.donottrack!==!0&&this.optout!==!0},f.resolve(b)},function(a){f.reject(a)}),f.promise}function e(c,e){var f=b.defer(),h=d();return h.then(function(b){var d=new a(b,c,g,e);f.resolve(d)},function(a){f.reject(a)}),f.promise}var f,g="http://dove.saymedia.com/static/jstags.html";return{get:e}}]}),define("phxAds/services/phxReferrer",["delivery/parsehostname"],function(a){"use strict";return["$window",function(b){return{get:function(c){return b.top.document.referrer?a(b.top.document.referrer):void 0}}}]}),define("phxAds/module",["phxAds/services/phxAdMultisizeProfiles","phxAds/services/phxKruxUtils","phxAds/directives/phxAdvertisingContainer","phxAds/directives/phxAdvertisement","phxAds/directives/phxAdaptiveAdWithFallback","phxAds/directives/phxBrandingBadge","phxAds/services/phxAdvertising","phxAds/services/phxAdvertisingNew","phxAds/services/phxVideoAdvertising","phxAds/services/phxSponsorships","phxAds/services/phxAdUtils","phxAds/services/phxBaseAdImpl","phxAds/services/phxDefaultAdImpl","phxAds/services/phxDfpAdImpl","phxAds/services/phxDfpVideoAdImpl","phxAds/services/phxTimeAdImplNew","phxAds/services/phxSnowdrop","phxAds/services/phxImplicitDemo","phxAds/services/phxDemos","phxAds/services/phxExplicitDemo","phxAds/services/phxThirdPartyTracking","phxAds/services/phxReferrer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";var w=angular.module("phxAds",[]).value("phxAdMultisizeProfiles",a).directive("phxAdvertisingContainer",c).directive("phxAdvertisement",d).directive("phxAdaptiveAdWithFallback",e).directive("phxBrandingBadge",f).service("phxAdUtils",k).service("phxKruxUtils",b).service("phxBaseAdImpl",l).service("phxDefaultAdImpl",m).service("phxDfpAdImpl",n).service("phxDfpVideoAdImpl",o).service("phxTimeAdImplNew",p).service("phxImplicitDemo",r).service("phxDemos",s).service("phxExplicitDemo",t).service("phxSnowdrop",q).service("phxThirdPartyTracking",u).service("phxReferrer",v).factory("phxAdvertising",g).factory("phxAdvertisingNew",h).factory("phxVideoAdvertising",i).factory("phxSponsorships",j);return w}),define("phxCards/services/phxCards",[],function(){"use strict";return["$rootScope","Respond","Config","phxUtil","phxComponentUtil","phxResponsiveSize",function(a,b,c,d,e,f){function g(){return f.getNumber()}function h(a,b){for(var c,d=0,e=0;e<a.length;e++)d=a.charCodeAt(e),c=(c<<5)-c+d,c&=c;return Math.abs(c)%b}function i(a,b,c){return c>=b%c+a}function j(a,b){return a&&a.columns&&a.columns[f.getName()]?a.columns[f.getName()]:1}function k(a){return angular.isDefined(a.cardData)&&angular.isDefined(a.cardData.id)?q[h(a.cardData.id,q.length)]:"standard"}function l(a,b){if(b&&a.cardData&&b[a.cardData.objectType]){var d=b[a.cardData.objectType];if(p.hasOwnProperty(d))return d}if("content-item"!==a.cardContents)return"content-strip"===a.cardContents?a.cardTypeCode&&p.hasOwnProperty(a.cardTypeCode)?a.cardTypeCode:"break":a.cardTypeCode?a.cardTypeCode:"generic";if("ContentArticle"===a.cardData.objectType)return c.cards.overrideCardType?c.cards.overrideCardType:a.cardTypeCode&&p.hasOwnProperty(a.cardTypeCode)?c.cards.supportedCardTypes&&c.cards.supportedCardTypes.length>0?c.cards.supportedCardTypes.indexOf(a.cardTypeCode)>-1?a.cardTypeCode:o:a.cardTypeCode:"random"===o?k(a):o;if("ContentRecipe"===a.cardData.objectType||"ContentReference"===a.cardData.objectType)return a.cardTypeCode&&p.hasOwnProperty(a.cardTypeCode)?a.cardTypeCode:p.hasOwnProperty("image")?"image":"standard";if("ContentRichTerm"===a.cardData.objectType&&p.hasOwnProperty("image"))return"image";if("ContentPerson"===a.cardData.objectType&&p.hasOwnProperty("image"))return"image";if("ContentBasicPage"===a.cardData.objectType&&!a.cardData.primaryImageId)return"text";if("ContentEmbed"!==a.cardData.objectType)return"standard";var e="genericFull";if(void 0===b)return e;if(void 0===b.arrangeByType)return void 0!==b.allCardsType?b.allCardsType:e;switch(v++,b.arrangeByType[v]){case"standard":return"standard";case"double":return"double";case"listStandard":return"listStandard";case void 0:return b.arrangeByType.remaining?b.arrangeByType.remaining:e}}function m(a,b){var c=l(a,b);return a.cardTypeData=p[c],a.cardData&&(a.cardData.cardTypeCode=c),a.hasOwnProperty("id")&&"string"==typeof a.id&&-1!==a.id.indexOf("%d")?(a._id=a.id,a.id=a.id.replace(/\%d/g,r++)):a.hasOwnProperty("_id")&&-1!==a._id.indexOf("%d")?a.id=a._id.replace(/\%d/g,r++):a.hasOwnProperty("id")||(a.id=r++),a}function n(a,b,c,d){for(var e=[],f=c;f<a.length;f++){var g={cardContents:"content-item",cardData:a[f],cardTypeCode:a[f].cardTypeCode,id:a[f].id};e.push(m(g,d))}return e}c.cards||(c.cards={defaultCardType:"standard",types:{standard:{weight:1}}});var o=c.cards.defaultCardType,p={},q=[],r=1;for(var s in c.cardTypes){c.cardTypes[s].weight=c.cards.weight[s]||0;var t=c.cardTypes[s];if(t){t.name=s,p[s]=t;for(var u=0;u<t.weight;u++)t.excludeFromRandom||q.push(s)}}var v=0,w=function(a,b,c){this.cardOverrides=c,this.streamer=a,this.insertions=b,this.cards=[],this._columnsFilled=0,this._row=0,this._rowAdColumn=[0],this._rowToFirstCardIndex={0:0},this._stragglers=[],this._alreadyPlaced={},this._init()};return w.prototype={_reset:function(){this.cards.length=0,this._columnsFilled=0,this._row=0,this._rowAdColumn=[0],this._rowToFirstCardIndex={0:0},this._stragglers=[],this._alreadyPlaced={}},_init:function(){var b=this;this.streamer.watchMoreItems(function(c){a.$emit("phxAds:next-set"),0===c&&b._reset(),b._addCards(n(b.streamer.items,b.insertions,c,b.cardOverrides))}),a.$on("breakpoint",function(){b._reset(),b._addCards(n(b.streamer.items,b.insertions,0,b.cardOverrides))}),this.streamer.items&&this.streamer.items.length>0&&this._addCards(n(this.streamer.items,this.insertions,0,this.cardOverrides))},_insertionPoint:function(a,c,f){var h=[];if(this.insertions&&0!==this.insertions.length){for(var i=0;i<this.insertions.length;i++){var j=this.insertions[i];if((!j.hasOwnProperty("enabledOn")||e.canEnable(j.enabledOn))&&("advertising"!==j.cardContents||"iab"!==j.cardData.role||d.hasFlash())&&j.hasOwnProperty("position")){var k=j.position;if(k.hasOwnProperty("breakpoints")){var l=b.getCurrentBreakpoint();k.breakpoints.hasOwnProperty(l)&&angular.extend(k,k.breakpoints[l])}if(k.hasOwnProperty("index")&&k.index===f)h.unshift(j);else if(k.hasOwnProperty("row")){var m=k.hasOwnProperty("repeat")&&k.repeat>0?k.repeat:!1,n=a===k.row||m!==!1&&a>=k.row&&(a-k.row)%m===0;n&&(k.hasOwnProperty("column")?"rand"===k.column&&c===this._rowAdColumn[a]?h.push(j):angular.isNumber(k.column)&&c===k.column&&h.push(j):h.push(j))}else k.hasOwnProperty("column")&&"rand"===k.column&&c===a%g()&&h.push(j)}}if(h.length>0){var o=h.shift(),p=this._clone(o);return p.cardData=o.cardData,p}return!1}},_clone:function(a){var b=Array.isArray(a)?[]:{};for(var c in a){var d=a[c];d&&"object"==typeof d?d.objectType?b[c]=d:b[c]=this._clone(d):b[c]=d}return b},_getFallbackType:function(a){var b=o;return a&&a.fallBackType&&(b=a.fallBackType),p.hasOwnProperty(b)&&1===p[b].columns[f.getName()]?b:"standard"},_addCards:function(a){var b=5,c=g();this.cards=this.cards.concat(this._stragglers);for(var d=0;d<a.length;d++){var e=this._insertionPoint(this._row,this._columnsFilled%c,d);if(e&&a.splice(d,0,m(e)),!this._alreadyPlaced[a[d].id]&&"hidden"!==a[d].cardTypeCode){if(j(a[d].cardTypeData,c)>c){var f=this._getFallbackType(a[d].cardTypeData);a[d].cardTypeData=p[f],a[d].cardData&&(a[d].cardData.cardTypeCode=f)}3===c&&this._columnsFilled%c===2&&d>0&&2===a[d-1].cardTypeData.columns.C&&2===a[d].cardTypeData.columns.C&&(a[d-1].cardTypeData=p.doubleSideBySide,a[d-1].cardData&&(a[d-1].cardData.cardTypeCode="doubleSideBySide"),this._columnsFilled-=.5,a[d].cardTypeData=p.doubleSideBySide,a[d].cardData&&(a[d].cardData.cardTypeCode="doubleSideBySide"));var h=this._addCard(a[d],c);if(!h){for(var i=d+1;i<a.length&&d+b>i&&!(h=this._addCard(a[i],c));i++);if(!h){var k=this._getFallbackType(a[d].cardTypeData);a[d].cardTypeData=p[k],a[d].cardData&&(a[d].cardData.cardTypeCode=k)}d--}}}this.streamer.hasMoreItems?this._stragglers=this.cards.splice(this._rowToFirstCardIndex[this._row],100):this._stragglers=[]},_addCard:function(a,b){return this._alreadyPlaced[a.id]?!1:i(j(a.cardTypeData,b),this._columnsFilled,b)?(a.column=this._columnsFilled%b,a.row=this._row,this.cards.push(a),this._columnsFilled+=j(a.cardTypeData,b),this._alreadyPlaced[a.id]=!0,this._columnsFilled%b===0&&(this._row++,this._rowAdColumn[this._row]=Math.floor(Math.random()*(b-1e-4)),this._rowToFirstCardIndex[this._row]=this.cards.length),!0):!1},getCardIndexForRow:function(a){return this._rowToFirstCardIndex[a]||-1}},{cards:w,numColumns:g}}]}),define("phxCards/directives/phxCard",[],function(){"use strict";return["$compile",function(a){function b(b){return c.hasOwnProperty(b)||(c[b]=a("<"+b+"/>")),c[b]}var c={};return{restrict:"E",replace:!0,template:'<div ng-class="card.cardTypeData.classes"></div>',scope:{card:"="},controller:["$element",function(a){this.remove=function(){a.hide()}}],link:function(a,c,d){var e="phx-"+a.card.cardContents+"-card",f=b(e);f(a,function(a){c.append(a)})}}}]}),define("text!phxCards/html/phxAdvertisingCard.html",[],function(){return'<article class="m-advertisement" role="complementary">\n    <div ng-if="showAdvertisementText" class="m-advertisement--indicator" translate="ADVERTISEMENT"></div>\n    <div class="{{containerClassName}}">\n        <div class="{{integrationClassName}}">\n            <phx-advertisement ad-role="{{adRole}}" ad-mode="{{adMode}}" ad-sizes="adSizes" row="{{row}}" column="{{column}}"></phx-advertisement>\n        </div>\n        <div ng-if="loadAddlFallbacks" class="{{fallbackIntegrationClassName}}">\n            <phx-advertisement ad-role="{{adRole}}" ad-mode="{{adMode}}" ad-sizes="fallbackSizes" row="{{row}}" column="{{column}}"></phx-advertisement>\n        </div>\n    </div>\n</article>\n'}),define("phxCards/directives/phxAdvertisingCard",["text!phxCards/html/phxAdvertisingCard.html"],function(a){"use strict";return["$compile","phxAdMultisizeProfiles","phxAdUtils","phxCategorizr",function(b,c,d,e){return{restrict:"E",template:a,replace:!0,require:"^phxCard",controller:["$scope",function(a){var b=a.card.cardData;"adaptive"===b.role&&(a.backfillProfile="adaptiveCard"),a.adRole=b.role,a.adMode=b.adMode}],compile:function(a,b,f){return{post:function(a,b,f,g){function h(e,f){k(),l();var g=a.adType=d.getAdType(f.adSize),h=!1;!f.context.page.isDetailPage&&f.adSize&&250===f.adSize.height&&(h=!0),"adaptive"===g.name?(a.containerClassName="m-advertisement--container",a.integrationClassName="m-advertisement--full-ad",f.context.page.isDetailPage&&(h=!0)):"fallback"===g.name?c.hasOwnProperty(a.backfillProfile)&&(b.parent().removeClass("m-adaptive"),a.containerClassName="m-advertisement--backfill-container",a.integrationClassName="m-advertisement--backfill "+n["class"],n.additionalFallback&&(a.fallbackIntegrationClassName="m-advertisement--backfill "+n.additionalFallback["class"],a.fallbackSizes=n.additionalFallback.sizes,a.loadAddlFallbacks=!0)):(a.containerClassName="m-advertisement--"+g.name,a.integrationClassName="m-advertisement--backfill-container",b.parent().removeClass("m-adaptive"),b.parent().addClass("m-rising-star")),h&&(a.showAdvertisementText=!0)}function i(a){b.parent().hide()}var j=a.card.cardData,k=angular.noop,l=angular.noop;if(a.row=a.card.row,a.column=a.card.column,a.loadAddlFallbacks=!1,"adaptive"===j.role){a.backfillProfile="adaptiveCard";var m=e.getBreakpoint(),n=c[a.backfillProfile][m];a.adSizes=n.sizes}a.showAdvertisementText=!1,k=a.$on("phxAdvertisementAdLoaded",h),l=a.$on("phxAdvertisementNoAdLoaded",i)}}}}}]}),define("phxCards/directives/phxCollectionCard",["text!phxCards/html/phxCollectionCard.html"],function(a){"use strict";return[function(){return{restrict:"E",replace:!0,template:a,link:function(a,b){a.streamer=a.card.cardData.componentData.streamer,a.heading=a.card.cardData.componentConfig.heading}}}]}),define("phxCards/module",["phxCards/services/phxCards","phxCards/directives/phxCard","phxCards/directives/phxAdvertisingCard","phxCards/directives/phxCollectionCard"],function(a,b,c,d){"use strict";return angular.module("phxCards",[]).service("phxCards",a).directive("phxCard",b).directive("phxContentItemCard",function(){return{restrict:"E",replace:!0,template:'<article phx-content-item="card.cardData" phx-primary-image-profile="{{card.cardTypeData.imageProfile}}"/>'}}).directive("phxNewsletterCard",function(){return{restrict:"E",replace:!0,template:"<span><phx-newsletter-signup /></span>"}}).directive("phxAdvertisingCard",c).directive("phxCollectionCard",d).directive("phxContentStripCard",d).directive("phxProgrammedContentItemCard",function(){return{restrict:"E",replace:!0,template:'<article phx-content-item="item" phx-primary-image-profile="{{card.cardTypeData.imageProfile}}"/>',link:function(a,b){a.card.cardData.componentData&&(a.item=a.card.cardData.componentData.item)}}}).directive("phxHeadingCard",function(){return{restrict:"E",replace:!0,template:'<div class="m-compilation"><h1 class="m-compilation--hed" phx-skin-bgimg="card.cardData.heading"></h1></div>'}})}),define("text!phxVideo/html/phxVideoPlayer.html",[],function(){return'<div ng-switch="video.videoPlatformCode">\n    <div ng-switch-when="kaltura" phx-video-player-kaltura class="m-video-player" />\n    <div ng-switch-when="brightcove" phx-video-player-brightcove class="m-video-player" />\n    <div ng-switch-when="theplatform" phx-video-player-the-platform class="m-video-player" />\n    <div ng-switch-when="test" phx-video-player-test class="m-video-player" />\n</div>\n'}),define("phxVideo/directives/phxVideoPlayer",["text!phxVideo/html/phxVideoPlayer.html"],function(a){"use strict";return["$interval",function(b){return{restrict:"AE",scope:{video:"=",autoPlay:"@"},template:a}}]}),define("phxVideo/directives/phxVideoPlayerKaltura",[],function(){"use strict";return["phxUtil","Config",function(a,b){var c,d,e,f;b.video&&b.video.kaltura&&(c=b.video.kaltura.partnerId,d=b.video.kaltura.playerId,e=b.video.kaltura.domain||"cdnapi.kaltura.com",c&&d&&(f="//"+e+"/p/"+c+"/sp/"+c+"00/embedIframeJs/uiconf_id/"+d+"/partner_id/"+c));var g=1;return{restrict:"A",link:function(b,e,h){f&&(e.attr("id","kaltura_"+g++),a.loadJsLib(f).then(function(){window.kWidget&&(window.kWidget.embed({targetId:e.attr("id"),wid:"_"+c,uiconf_id:d,flashvars:{streamerType:"auto",autoPlay:"true"===b.autoPlay},entry_id:b.video.videoPlatformId,readyCallback:function(a){var c=document.getElementById(a);c.kBind("playerPlayEnd",function(){b.$apply(function(){b.$emit("phxVideoPlayer:complete",b.video)})})}}),b.$on("$destroy",function(){window.kWidget.destroy(e)}))}))}}}]}),define("phxVideo/directives/phxVideoPlayerBrightcove",[],function(){"use strict";return["$location","Config","phxFeatures","phxUtil",function(a,b,c,d){var e=!1;c.isEnabled("ima3")&&(e=!0);var f,g,h;b.video&&b.video.brightcove&&(f=b.video.brightcove.accountId,g=e?"4kdhnDWhx":b.video.brightcove.playerId,f&&g&&(h="//players.brightcove.net/"+f+"/"+g+"_default/index.min.js"));var i=1;return{restrict:"A",require:"^phxPage",link:function(a,b,c,j){var k=j.page;h&&d.loadJsLib(h).then(function(){require(["bc"],function(c){function d(){e&&n.ima3?(n.ima3.settings.serverUrl=k.videoAdvertising.createAdSpot(),n.play(),n.ima3.adrequest(n.ima3.settings.serverUrl)):n.play()}var h=!1,j=!1,l="brightcove_"+i++,m=angular.element("<video/>");m.attr("id",l),m.attr("data-video-id",a.video.videoPlatformId),m.attr("data-account",f),m.attr("data-player",g),m.attr("data-embed","default"),m.attr("class","video-js"),m.attr("style","width: 100%; height: 100%; position: absolute; top: 0; bottom: 0; right: 0; left: 0;"),m.attr("controls",!0),b.append(m),c(document.getElementById(l));var n=window.videojs(l);n.on("loadedmetadata",function(){h=!0,e&&!j||d()}),e&&n.on("ima3-ready",function(){j=!0,h&&d()}),n.on("ended",function(){a.$apply(function(){a.$emit("phxVideoPlayer:complete",a.video)})}),a.$on("$destroy",function(){n.dispose()})})})}}}]}),define("phxVideo/directives/phxVideoPlayerThePlatform",[],function(){"use strict";return[function(){return{restrict:"A",controller:"phxTheplatformVideoCtrl",link:function(a,b,c,d){var e=angular.element("<iframe/>");e.attr("src","videoIframe.html"),e.attr("width","100%"),e.attr("height","100%"),e.css("border","0"),e.on("load",function(b){d.playerAutoStart="true"===a.autoPlay,d.playList=[a.video];var c=d.updatePlayerContext(b.target.contentWindow);c.startPlayer();var e=c.aetn.biography.videocontroller.getPlayers().aeplayer.player;e.bindListener("OnReleaseEnd",function(){
a.$emit("phxVideoPlayer:complete",a.video)},["aeplayer"])}),b.append(e)}}}]}),define("text!phxVideo/html/phxVideoPlayerTest.html",[],function(){return'<div style="width: 100%; height: 100px; background-color: black; color: white">\n    {{video.title}}: {{counter}}\n</div>\n'}),define("phxVideo/directives/phxVideoPlayerTest",["text!phxVideo/html/phxVideoPlayerTest.html"],function(a){"use strict";return["$interval",function(b){return{restrict:"A",template:a,link:function(a,c,d){if(a.counter=5,"true"===a.autoPlay)var e=b(function(){a.counter--,0===a.counter&&(b.cancel(e),a.$emit("phxVideoPlayer:complete",a.video))},1e3)}}}]}),define("text!phxVideo/html/phxVideoCompanionAd.html",[],function(){return'<div ng-switch="video.videoPlatformCode">\n    <phx-freewheel-ad ng-switch-when="theplatform" layout="box"></phx-freewheel-ad>\n    <div ng-switch-when="test" style="width: 300px; height: 250px; background-color: green" />\n    <phx-advertisement ng-switch-default ng-if=":: $root.config.ad | phxIsTrue" ad-role="iab"></phx-advertisement>\n</div>\n'}),define("phxVideo/directives/phxVideoCompanionAd",["text!phxVideo/html/phxVideoCompanionAd.html"],function(a){"use strict";return[function(){return{restrict:"A",template:a,scope:{video:"="}}}]}),define("phxVideo/module",["phxVideo/directives/phxVideoPlayer","phxVideo/directives/phxVideoPlayerKaltura","phxVideo/directives/phxVideoPlayerBrightcove","phxVideo/directives/phxVideoPlayerThePlatform","phxVideo/directives/phxVideoPlayerTest","phxVideo/directives/phxVideoCompanionAd"],function(a,b,c,d,e,f){"use strict";return angular.module("phxVideo",[]).directive("phxVideoPlayer",a).directive("phxVideoPlayerKaltura",b).directive("phxVideoPlayerBrightcove",c).directive("phxVideoPlayerThePlatform",d).directive("phxVideoPlayerTest",e).directive("phxVideoCompanionAd",f)}),define("phxCore/module",["cornerstone/module","belvedere/tmlModule","phxCore/services/phxBeaconClient","phxCore/services/phxBlocks","phxCore/services/phxBreakouts","phxCore/services/phxCategorizr","phxCore/services/phxChangeDetectionUtils","phxCore/services/phxContentApi","phxCore/services/phxCachedContentItems","phxCore/services/phxCookies","phxCore/services/phxDataPreparation","phxCore/services/phxEmbeds","phxCore/services/phxEventBus","phxCore/services/phxEventDemux","phxCore/services/phxFeatures","phxCore/services/phxFragmentUrl","phxCore/services/phxLocation","phxCore/services/phxGoogleAnalytics","phxCore/services/phxImageOptions","phxCore/services/phxImageOptionsProfiles","phxCore/services/phxImageResizedUrl","phxCore/services/phxImageUtil","phxCore/services/phxLiveDate","phxCore/services/phxNavManager","phxCore/services/phxPage","phxCore/services/phxPageReporting","phxCore/services/phxPinIt","phxCore/services/phxPixelClient","phxCore/services/phxReadingListUtil","phxCore/services/phxResponsiveSize","phxCore/services/phxSocial","phxCore/services/phxTrackEventUtil","phxCore/services/phxUtil","phxCore/services/phxViewMeta","phxCore/services/phxViewport","phxCore/services/phxFullscreenUtil","phxCore/services/phxHeaderUtil","phxCore/services/phxEllipsisUtils","phxCore/services/phxEvents","phxCore/controllers/phxTheplatformVideoCtrl","phxCore/directives/phxScrollTo","phxCore/directives/phxAsideRail","phxCore/directives/phxAutoFocus","phxCore/directives/phxBlockInsertion","phxCore/directives/phxBlockReplacement","phxCore/directives/phxBody","phxCore/directives/phxBreakoutDam","phxCore/directives/phxBreakoutFlow","phxCore/directives/phxBreakoutBounds","phxCore/directives/phxBrowserConstraint","phxCore/directives/phxCategorizrClass","phxCore/directives/phxCategoryNav","phxCore/directives/phxCitationInfo","phxCore/directives/phxContentArticle","phxCore/directives/phxContentEmbed","phxCore/directives/phxContentBasicPage","phxCore/directives/phxContentItem","phxCore/directives/phxContentPerson","phxCore/directives/phxContentRecipe","phxCore/directives/phxContentReference","phxCore/directives/phxContentRichTerm","phxCore/directives/phxContentVideo","phxCore/directives/phxDisqusThread","phxCore/directives/phxFact","phxCore/directives/phxFragmentToc","phxCore/directives/phxFreewheelAd","phxCore/directives/phxHeader","phxCore/directives/phxHtml","phxCore/directives/phxInteractionCount","phxCore/directives/phxLiveDate","phxCore/directives/phxNav","phxCore/directives/phxStickyNav","phxCore/directives/phxNavList","phxCore/directives/phxNewsletterSignup","phxCore/directives/phxOffCanvasNav","phxCore/directives/phxOnHeightChange","phxCore/directives/phxPage","phxCore/directives/phxPageConstraint","phxCore/directives/phxPages","phxCore/directives/phxPerPage","phxCore/directives/phxPinIt","phxCore/directives/phxPrimaryImage","phxCore/directives/phxReadingList","phxCore/directives/phxReflowOnHeightChange","phxCore/directives/phxRelatedRichTerms","phxCore/directives/phxShareButton","phxCore/directives/phxSmartNav","phxCore/directives/phxSocialTools","phxCore/directives/phxTextCarousel","phxCore/directives/phxTml","phxCore/directives/phxTrackEvent","phxCore/directives/phxTrackProgress","phxCore/directives/phxViewMeta","phxCore/directives/phxWordCount","phxCore/directives/phxSkinBgimg","phxCore/directives/phxSkinInline","phxCore/directives/phxZoomFullscreen","phxCore/directives/phxNativeFullscreen","phxCore/directives/phxEllipsis","phxCore/directives/phxHideIfTooBig","phxCore/directives/phxImage","phxCore/directives/phxCarousel","phxCore/directives/phxCarouselContent","phxCore/directives/phxConfigLivePreview","phxCore/directives/phxSuperLink","phxCore/directives/phxTextColor","phxCore/directives/phxAmpDiscovery","phxCore/filters/phxAbbreviateNumber","phxCore/filters/phxBirthDeathYears","phxCore/filters/phxDedupeRichTerms","phxCore/filters/phxDuration","phxCore/filters/phxImageUrl","phxCore/filters/phxIsTrue","phxCore/filters/phxStripHtml","phxCore/filters/phxCreateExcerpt","text!../../locale/en.json","text!../../locale/fr-ca.json","moment","moment-fr-ca","phxTml/module","phxComponents/module","phxComponentDetail/module","phxComponentContentFeed/module","phxComponentContentStrip/module","phxComponentError/module","phxComponentHero/module","phxComponentSubHero/module","phxComponentSectionHeader/module","phxComponentAuthorHeader/module","phxComponentStaticHeader/module","phxComponentItemComments/module","phxComponentSearch/module","phxComponentsCore/module","phxTags/module","phxAds/module","phxCards/module","phxVideo/module"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb){"use strict";var kb="/unsupportedBrowser.html";try{angular.module("site-config")}catch(lb){angular.module("site-config",[]).value("Config",window.phxSiteConfig||{})}var mb=angular.module("phxCore",["site-config","cornerstone","belvedere","respond","ngAnimate","ngSanitize","ngTouch","pascalprecht.translate","phxTml","phxAds","phxCards","phxVideo","phxComponents","phxComponentDetail","phxComponentContentFeed","phxComponentContentStrip","phxComponentError","phxComponentHero","phxComponentSubHero","phxComponentSectionHeader","phxComponentAuthorHeader","phxComponentStaticHeader","phxComponentItemComments","phxComponentSearch","phxComponentsCore","phxTags"]);return mb.controller("phxTheplatformVideoCtrl",N).provider("phxCategorizr",f).service("phxBeaconClient",c).service("phxBlocks",d).service("phxBreakout",e).service("phxChangeDetectionUtils",g).service("phxContentApi",h).service("phxCachedContentItems",i).service("phxCookies",j).service("phxDataPreparation",k).service("phxEmbeds",l).service("phxEventBus",m).service("phxEventDemux",n).service("phxFeatures",o).service("phxFragmentUrl",p).service("phxLocation",q).service("phxGoogleAnalytics",r).service("phxImageOptions",s).value("phxImageOptionsProfiles",t).service("phxImageResizedUrl",u).service("phxImageUtil",v).service("phxLiveDate",w).service("phxNavManager",x).service("phxPage",y).service("phxPageReporting",z).service("phxPinIt",A).service("phxPixelClient",B).service("phxReadingListUtil",C).service("phxResponsiveSize",D).service("phxSocial",E).service("phxTrackEventUtil",F).service("phxUtil",G).service("phxFullscreenUtil",J).service("phxHeaderUtil",K).service("phxViewport",I).factory("phxEllipsisUtils",L).factory("phxEvents",M).factory("phxViewMeta",H).directive("phxScrollTo",O).directive("body",T).directive("html",Y).directive("phxAsideRail",P).directive("phxAutoFocus",Q).directive("phxBlockInsertion",R).directive("phxBlockReplacement",S).directive("phxBreakoutDam",U).directive("phxBreakoutFlow",V).directive("phxBreakoutBounds",W).directive("phxBrowserConstraint",X).directive("phxCategoryNav",Z).directive("phxCitationInfo",$).directive("phxContentArticle",_).directive("phxContentEmbed",aa).directive("phxContentBasicPage",ba).directive("phxContentVideo",ha).directive("phxContentPerson",da).directive("phxContentRecipe",ea).directive("phxContentReference",fa).directive("phxContentRichTerm",ga).directive("phxContentItem",ca).directive("phxDisqusThread",ia).directive("phxFact",ja).directive("phxFragmentToc",ka).directive("phxFreewheelAd",la).directive("phxHeader",ma).directive("phxHtml",na).directive("phxInteractionCount",oa).directive("phxLiveDate",pa).directive("phxNav",qa).directive("phxStickyNav",ra).directive("phxNavList",sa).directive("phxNewsletterSignup",ta).directive("phxOffCanvasNav",ua).directive("phxOnHeightChange",va).directive("phxPage",wa).directive("phxPageConstraint",xa).directive("phxPages",ya).directive("phxPerPage",za).directive("phxPinIt",Aa).directive("phxPrimaryImage",Ba).directive("phxReadingList",Ca).directive("phxReflowOnHeightChange",Da).directive("phxRelatedRichTerms",Ea).directive("phxShareButton",Fa).directive("phxSmartNav",Ga).directive("phxSocialTools",Ha).directive("phxTextCarousel",Ia).directive("phxTml",Ja).directive("phxTrackEvent",Ka).directive("phxTrackProgress",La).directive("phxViewMeta",Ma).directive("phxWordCount",Na).directive("phxSkinBgimg",Oa).directive("phxSkinInline",Pa).directive("phxZoomFullscreen",Qa).directive("phxNativeFullscreen",Ra).directive("phxEllipsis",Sa).directive("phxHideIfTooBig",Ta).directive("phxImage",Ua).directive("phxCarousel",Va).directive("phxCarouselContent",Wa).directive("phxConfigLivePreview",Xa).directive("phxSuperLink",Ya).directive("phxTextColor",Za).directive("phxAmpDiscovery",$a).filter("phxAbbreviateNumber",_a).filter("phxBirthDeathYears",ab).filter("phxDedupeRichTerms",bb).filter("phxDuration",cb).filter("phxImageUrl",db).filter("phxIsTrue",eb).filter("phxStripHtml",fb).filter("phxCreateExcerpt",gb).value("isRegistered",!1).value("currentPrincipal",!1).value("currentUserProfile",null).run(["$rootScope","$timeout","Config","phxEvents","$location","$document","phxFeatures","$window","phxUtil","phxComponentUtil","phxGoogleAnalytics",function(a,b,c,d,e,f,g,h,i,j,k){a.config=c,a.features=g,a.coverlinesEnabled=c.coverlines&&j.canEnable(c.coverlines.enabledOn),a.location=e,a.currentTime=(new Date).getTime(),a.DATETIME_FORMAT="yyyy-MM-ddTHH:mm",a.$on("$locationChangeStart",function(a,b){k.set("dimension1",null),k.set("dimension2",null),k.set("dimension3",null),k.set("dimension4",null)});var l=document.createElement("div");l.style.webkitBackgroundClip="text";var m=l.style.cssText.indexOf("text");m>0&&f.find("html").addClass("background-clip");var n=function(){a.windowHeight=h.innerHeight,a.windowWidth=h.innerWidth};d.$on("resize",n),n()}]).run(["Respond","Config",function(a,b){b.mediaBreakPoints&&a.addBreakpoint(b.mediaBreakPoints)}]).run(["Config","$rootScope","$interval",function(a,b,c){if("DEV"===window.envShortName){var d=6e4,e=0,f=0;c(function(){f+=e;var a=1e3*e/d;e=0,console.log("[digest cycles] total count: "+f+", past 10sec avg: "+a+" digests/second")},d);var g;void 0===b.__proto__?(g=b.$digest,b.$digest=function(){e++,g.apply(this,arguments)}):(g=b.__proto__.$digest,b.__proto__.$digest=function(){e++,g.apply(this,arguments)})}}]).config(["phxCategorizrProvider","ConfigProvider",function(a,b){var c=b.$get(),d=a.$get();c.minimumBrowserVersions&&c.minimumBrowserVersions[d.getBrowser()]&&d.getBrowserVersion()<c.minimumBrowserVersions[d.getBrowser()]&&(window.location=kb)}]).config(["$locationProvider",function(a){a.html5Mode(!0).hashPrefix("!")}]).config(["$animateProvider",function(a){a.classNameFilter(/text-carousel--item/)}]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|twitter|tumblr|fb|gplus|pinterest|instagram|linkedin|youtube):/)}]).config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","*://res.cloudinary.com/**"])}]).config(["$httpProvider",function(a){var b=/^\s*(\[|\{[^\{])/,c=/[\}\]]\s*$/,d=/^\)\]\}',?\n/;a.defaults.transformResponse=[function(a,e){if(angular.isString(a)&&(a=a.replace(d,""),b.test(a)&&c.test(a))){var f={};a=JSON.parse(a,function(a,b){return b&&"object"==typeof b&&(b.$ref&&f[b.$ref]?b=f[b.$ref]:b.id&&(f[b.id]=b)),b})}return a}],a.interceptors.push(["Config","$location",function(a,b){return{request:function(c){var d=document.createElement("a");return d.href=c.url,d.hostname===b.host()&&(c.params=c.params||{},c.params.config=a.configName,c.headers=c.headers||{},c.headers["X-Say-ConfigVersion"]=a.configVersion),c}}}])}]).config(["$translateProvider","ConfigProvider",function(a,b){var c=b.$get(),d=c.locale||"en",e=d.substr(0,2);a.useSanitizeValueStrategy("escape"),a.useMessageFormatInterpolation(),a.translations("en",JSON.parse(hb)),a.translations("fr-ca",JSON.parse(ib)),a.fallbackLanguage([e,"en"]),a.preferredLanguage(d),jb.locale(d,"en")}]),mb}),define("domReady",[],function(){"use strict";function a(a){var b;for(b=0;b<a.length;b+=1)a[b](j)}function b(){var b=k;i&&b.length&&(k=[],a(b))}function c(){i||(i=!0,g&&clearInterval(g),b())}function d(a){return i?a(j):k.push(a),d}var e,f,g,h="undefined"!=typeof window&&window.document,i=!h,j=h?document:null,k=[];if(h){if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1);else if(window.attachEvent){window.attachEvent("onload",c),f=document.createElement("div");try{e=null===window.frameElement}catch(l){}f.doScroll&&e&&window.external&&(g=setInterval(function(){try{f.doScroll(),c()}catch(a){}},30))}"complete"===document.readyState&&c()}return d.version="2.0.1",d.load=function(a,b,c,e){e.isBuild?c(null):d(c)},d}),define("main",["phxCore/module","domReady!"],function(){"use strict";angular.bootstrap(document.documentElement,["phxCore"])});
//# sourceMappingURL=app.min.js.map
